((self||this)["webpackJsonp@sprinklr/chat-web-client"]=(self||this)["webpackJsonp@sprinklr/chat-web-client"]||[]).push([[75],{1010:function(e,t,n){"use strict";var a=n(365),o=n(729),r=n.n(o),i=n(8),c=n.n(i),s=n(74),l=n.n(s),d=n(114),u=n.n(d),p=n(460),b=n.n(p),f=n(1417),h=n.n(f),g=n(819),y=n.n(g),O=n(197),m=n.n(O),v=n(53),j=n.n(v),I=n(388),C=n(1268),E=n(117);t.a=(e,t)=>{const n=Object(a.useRef)(!1);n.current=c()(e);const{getValue:o,defaultValue:i=!0,logOnFailure:s=!1,logOnSuccess:d=!1,subscribe:p}=t,[f,g]=Object(a.useState)(0),O=Object(a.useRef)([void 0]),v=Object(a.useRef)(null);Object(a.useEffect)((()=>()=>{v.current&&u()(v.current,(e=>e&&e.clear()))}),[]),v.current=Object(a.useMemo)((()=>l()(e)?null:(v.current&&u()(v.current,(e=>e&&e.clear())),O.current=n.current?h()(y()(e),m()(void 0)):[],u()(b()(e),((e,t)=>{if(j()(e))return null;const n=e=>{O.current[t]=I.a.getField(e),g((e=>e+1))};return C.a.createFilterAction(e,{subscribe:(e,t)=>p(e,r()(n,e),t),getFilterBuilder:C.a.createFilterAction})})))),[e,o,p,g]);const T=Object(a.useMemo)((()=>v.current?u()(v.current,((e,t)=>e?(Object(E.a)(`--- Filter ${t} match start ---`,Date.now()),e.matches(o(),{logOnFailure:s,logOnSuccess:d})):!!i)):[!!i]),[e,o,i,f]);return Object(a.useMemo)((()=>n.current?u()(T,((e,t)=>({hasPassed:e,changeSource:O.current[t]}))):{hasPassed:!!T[0],changeSource:O.current[0]}),[T,O.current])}},1011:function(e,t,n){"use strict";var a=n(53),o=n.n(a);const r=e=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");t.a=(e,t)=>{if(o()(t))return!1;try{return new RegExp(`^${e.split(/\*+/).map(r).join(".*")}$`).test(t)}catch(n){return console.warn("Wrong wild card string in filter"),!1}}},1012:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(365),o=n.n(a),r=n(461),i=n.n(r),c=n(445),s=n.n(c),l=n(819),d=n.n(l),u=n(610),p=n(366);const b=o.a.createContext({}),f=Object(a.memo)((e=>{const{getValue:t,subscribe:n}=Object(u.a)(),o=t(),[r,c]=Object(a.useState)((()=>({pagesMetaData:{[o]:[{startTime:Date.now(),endTime:void 0}]},currentPageUrl:o})));return Object(a.useEffect)((()=>{const e=n("page-context-subscriber",(e=>{let{currentUrl:t,previousUrl:n}=e;c((e=>(e=>{let{prevPageContextValue:t,previousUrl:n,currentUrl:a}=e;const o=Date.now(),r=t.pagesMetaData,c=s()(i()(r[n]),{endTime:{$set:o}});return s()(t,{pagesMetaData:{[n]:{$splice:[[d()(r[n])-1,1,c]]},[a]:{$set:[...r[a]||[],{startTime:o,endTime:void 0}]}},currentPageUrl:{$set:a}})})({prevPageContextValue:e,previousUrl:n,currentUrl:t})))}));return()=>{e()}}),[]),Object(p.jsx)(b.Provider,{value:r},e.children)}));t.b=b},1013:function(e,t,n){"use strict";var a=n(365),o=n.n(a),r=n(396),i=n.n(r);const c=o.a.createContext([null,i.a]);t.a=c},1015:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(190),o=n.n(a),r=n(425);const i=o()((async e=>{const t=(await r.a.get(e)).data;return(new DOMParser).parseFromString(t,"image/svg+xml")}))},1016:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(365),o=n.n(a),r=n(366);const i=o.a.createContext("ltr");t.b=e=>Object(r.jsx)(i.Provider,{value:e.direction},e.children)},1017:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(430)),o=c(n(365)),r=c(n(473)),i=n(1018);n(1019);function c(e){return e&&e.__esModule?e:{default:e}}var s="unmounted";t.UNMOUNTED=s;var l="exited";t.EXITED=l;var d="entering";t.ENTERING=d;var u="entered";t.ENTERED=u;var p="exiting";t.EXITING=p;var b=function(e){var t,n;function a(t,n){var a;a=e.call(this,t,n)||this;var o,r=n.transitionGroup,i=r&&!r.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?i?(o=l,a.appearStatus=d):o=u:o=t.unmountOnExit||t.mountOnEnter?s:l,a.state={status:o},a.nextCallback=null,a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.getChildContext=function(){return{transitionGroup:null}},a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:l}:null},i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==u&&(t=d):n!==d&&n!==u||(t=p)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=r.default.findDOMNode(this);t===d?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:s})},i.performEnter=function(e,t){var n=this,a=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,r=this.getTimeouts(),i=o?r.appear:r.enter;t||a?(this.props.onEnter(e,o),this.safeSetState({status:d},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,i,(function(){n.safeSetState({status:u},(function(){n.props.onEntered(e,o)}))}))}))):this.safeSetState({status:u},(function(){n.props.onEntered(e)}))},i.performExit=function(e){var t=this,n=this.props.exit,a=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,a.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var a=null==t&&!this.props.addEndListener;e&&!a?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,a=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,"function"===typeof n)return n(e,a);var r=o.default.Children.only(n);return o.default.cloneElement(r,a)},a}(o.default.Component);function f(){}b.contextTypes={transitionGroup:a.object},b.childContextTypes={transitionGroup:function(){}},b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},b.UNMOUNTED=0,b.EXITED=1,b.ENTERING=2,b.ENTERED=3,b.EXITING=4;var h=(0,i.polyfill)(b);t.default=h},1018:function(e,t,n){"use strict";function a(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function r(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,c=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?c="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(c="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==c){var s=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==c?"\n  "+c:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=a,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,a)}}return e}n.r(t),n.d(t,"polyfill",(function(){return i})),a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0},1019:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var a;(a=n(430))&&a.__esModule;t.timeoutsShape=null;t.classNamesShape=null},1020:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=c(n(430)),o=c(n(365)),r=n(1018),i=n(1430);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(e){var t,n;function a(t,n){var a,o=(a=e.call(this,t,n)||this).handleExited.bind(l(l(a)));return a.state={handleExited:o,firstRender:!0},a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},r.componentDidMount=function(){this.appeared=!0,this.mounted=!0},r.componentWillUnmount=function(){this.mounted=!1},a.getDerivedStateFromProps=function(e,t){var n=t.children,a=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,a):(0,i.getNextChildMapping)(e,n,a),firstRender:!1}},r.handleExited=function(e,t){var n=(0,i.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,a=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["component","childFactory"]),r=d(this.state.children).map(n);return delete a.appear,delete a.enter,delete a.exit,null===t?r:o.default.createElement(t,a,r)},a}(o.default.Component);u.childContextTypes={transitionGroup:a.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,r.polyfill)(u);t.default=p,e.exports=t.default},1021:function(e,t,n){var a={"./classic/pages":[1797,12,86],"./modern/pages":[1796,0,12,87]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(a)},o.id=1021,e.exports=o},1022:function(e,t,n){"use strict";var a=n(1023),o=n.n(a),r={},i=0,c=function(e,t){var n=""+t.end+t.strict+t.sensitive,a=r[n]||(r[n]={});if(a[e])return a[e];var c=[],s={re:o()(e,c,t),keys:c};return i<1e4&&(a[e]=s,i++),s};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var a=t,o=a.path,r=a.exact,i=void 0!==r&&r,s=a.strict,l=void 0!==s&&s,d=a.sensitive,u=void 0!==d&&d;if(null==o)return n;var p=c(o,{end:i,strict:l,sensitive:u}),b=p.re,f=p.keys,h=b.exec(e);if(!h)return null;var g=h[0],y=h.slice(1),O=e===g;return i&&!O?null:{path:o,url:"/"===o&&""===g?"/":g,isExact:O,params:f.reduce((function(e,t,n){return e[t.name]=y[n],e}),{})}}},1023:function(e,t,n){var a=n(1432);e.exports=b,e.exports.parse=r,e.exports.compile=function(e,t){return c(r(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=p;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(e,t){for(var n,a=[],r=0,i=0,c="",d=t&&t.delimiter||"/";null!=(n=o.exec(e));){var u=n[0],p=n[1],b=n.index;if(c+=e.slice(i,b),i=b+u.length,p)c+=p[1];else{var f=e[i],h=n[2],g=n[3],y=n[4],O=n[5],m=n[6],v=n[7];c&&(a.push(c),c="");var j=null!=h&&null!=f&&f!==h,I="+"===m||"*"===m,C="?"===m||"*"===m,E=n[2]||d,T=y||O;a.push({name:g||r++,prefix:h||"",delimiter:E,optional:C,repeat:I,partial:j,asterisk:!!v,pattern:T?l(T):v?".*":"[^"+s(E)+"]+?"})}}return i<e.length&&(c+=e.substr(i)),c&&a.push(c),a}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function c(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",u(t)));return function(t,o){for(var r="",c=t||{},s=(o||{}).pretty?i:encodeURIComponent,l=0;l<e.length;l++){var d=e[l];if("string"!==typeof d){var u,p=c[d.name];if(null==p){if(d.optional){d.partial&&(r+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(a(p)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var b=0;b<p.length;b++){if(u=s(p[b]),!n[l].test(u))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(u)+"`");r+=(0===b?d.prefix:d.delimiter)+u}}else{if(u=d.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(p),!n[l].test(u))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+u+'"');r+=d.prefix+u}}else r+=d}return r}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function u(e){return e&&e.sensitive?"":"i"}function p(e,t,n){a(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,r=!1!==n.end,i="",c=0;c<e.length;c++){var l=e[c];if("string"===typeof l)i+=s(l);else{var p=s(l.prefix),b="(?:"+l.pattern+")";t.push(l),l.repeat&&(b+="(?:"+p+b+")*"),i+=b=l.optional?l.partial?p+"("+b+")?":"(?:"+p+"("+b+"))?":p+"("+b+")"}}var f=s(n.delimiter||"/"),h=i.slice(-f.length)===f;return o||(i=(h?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=r?"$":o&&h?"":"(?="+f+"|$)",d(new RegExp("^"+i,u(n)),t)}function b(e,t,n){return a(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var a=0;a<n.length;a++)t.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):a(e)?function(e,t,n){for(var a=[],o=0;o<e.length;o++)a.push(b(e[o],t,n).source);return d(new RegExp("(?:"+a.join("|")+")",u(n)),t)}(e,t,n):function(e,t,n){return p(r(e,n),t,n)}(e,t,n)}},1024:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n(529),o=n(969),r=n(970);n(972);function i(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",a="",o=t.indexOf("#");-1!==o&&(a=t.substr(o),t=t.substr(0,o));var r=t.indexOf("?");return-1!==r&&(n=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===n?"":n,hash:"#"===a?"":a}}(e),i.state=t):(void 0===(i=Object(a.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(c){throw c instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):c}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Object(o.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function c(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(r.default)(e.state,t.state)}"undefined"===typeof window||!window.document||window.document.createElement},1025:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(382);const o=Object(a.a)((()=>Promise.all([n.e(0),n.e(26)]).then(n.bind(null,1799))))},1027:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(367),o=n(512),r=n(371);const i=Object(a.a)(o.a,{target:"e11sod7u0"})("position:absolute;top:40px;height:20px;width:20px;",(e=>{let{isPhone:t}=e;return t&&"\n    height: 14px;\n    width: 14px;\n    top: 20px;\n   "})," padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);&:focus{",r.h,"}&:active{",r.f,"}",r.k,"{&:focus{",r.f,"}&:active{",r.h,"}}")},1028:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(365),o=n.n(a),r=n(396),i=n.n(r),c=n(824),s=n(366);const l={debug:i.a,info:i.a,error:i.a,warning:i.a,cleanup:i.a},d=o.a.createContext(l),u=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:a,children:o}=e;const r=Object(c.a)({videoConversationId:t,conversationId:n,isAudioCall:a});return Object(s.jsx)(d.Provider,{value:r},o)}},1029:function(e,t,n){"use strict";var a=n(365),o=n(370),r=n(406),i=n(476),c=n(384),s=n(404),l=n(415),d=n(825);const u=(new r.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build();t.a=e=>{let{videoConversationId:t,conversationId:n}=e;const[r]=Object(i.a)(u,{ignoreResults:!0},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),l=Object(o.d)(c.h),p=Object(s.d)(l),b=Object(a.useCallback)((e=>{const{eventType:n,activityAdditionalDetails:a}=e;return{videoConversationId:t,loggerSnUserId:p,eventType:n,loggerSnType:"SPRINKLR_LIVE_CHAT",offsetTime:0,activityAdditionalDetails:a}}),[n,t,p]);return Object(a.useMemo)((()=>new d.a(r,{adapter:b,skip:!t})),[r,b,t])}},1030:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(365),o=n.n(a),r=n(396),i=n.n(r),c=n(503),s=n.n(c),l=n(116),d=n.n(l),u=n(438),p=n(366);const b=o.a.createContext({addPublisher:i.a,removePublisher:i.a});let f=!1;const h=e=>{let{onClick:t,children:n}=e;const o=Object(a.useRef)([]),r=Object(a.useCallback)((()=>{f=!0,t(),o.current&&(d()(o.current,(e=>{e.removeEventListener("click",r,{capture:!0})})),o.current=[])}),[t]),i=Object(a.useMemo)((()=>({addPublisher:e=>{f||(o.current.push(e),e.addEventListener("click",r,{capture:!0}))},removePublisher:e=>{f||(e.removeEventListener("click",r,{capture:!0}),o.current=s()(o.current,(t=>t!==e)))}})),[r]);return Object(a.useEffect)((()=>{const e=Object(u.b)();if(Object(u.c)(e))return i.addPublisher(e.document),()=>{i.removePublisher(e.document)}}),[]),Object(p.jsx)(b.Provider,{value:i},n)};t.b=o.a.memo(h)},1031:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(365);const o=n.n(a).a.createContext(void 0)},1033:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(368),o=n(552),r=n(786);const i=200,c=e=>{let{theme:t,triggerWidth:n,triggerHeight:r,triggerXpadding:i,triggerYpadding:c,isTriggerHiddenWhenMaximised:s}=e;const l=Object(a.f)("frame.align")({theme:t}),d=Object(a.f)("frame.sXMargin")({theme:t}),u=Object(a.f)("frame.sYMargin")({theme:t}),p="L"===l.slice(-1)?o.f.LEFT:o.f.RIGHT,b=(e=>{let{alignType:t,frameSXMargin:n,triggerWidth:a,triggerXpadding:r}=e;switch(t){case o.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:case o.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:case o.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:case o.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return a+r+n;case o.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:case o.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:default:return r+n}})({alignType:l,frameSXMargin:d,triggerWidth:n,triggerXpadding:i}),f=(e=>{let{isTriggerHiddenWhenMaximised:t,alignType:n,frameSYMargin:a,triggerHeight:r,triggerYpadding:i}=e;return t?i:n===o.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT||n===o.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT?i+a:r+i+a})({isTriggerHiddenWhenMaximised:s,alignType:l,frameSYMargin:u,triggerHeight:r,triggerYpadding:c});return{xEdgeToAlign:p,xOffset:b,bottomOffset:f}},s=e=>{let{bottomOffset:t,xEdgeToAlign:n,xOffset:o,theme:r,isMaximized:i}=e;const c=`calc(100% - ${t}px - 20px)`;return`\n    bottom: ${t}px;\n    height: ${c};\n    max-height: ${i?c:Object(a.f)("frame.height")({theme:r})};\n    ${n}: ${o}px;\n    max-width: calc(100% - ${o}px - 20px);\n    min-width: 200px;\n    width: ${i?`${Object(a.f)("frame.maximizedWidth")({theme:r})}px`:`${Object(a.f)("frame.width")({theme:r})}px`};\n    `},l=e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:o,isPhone:i}=e;if(i)return"\n    height: 100%;\n    width: 100vw;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    max-height: 100vh;\n    max-width: 100vw;\n    min-width: 100vw;\n  ";const l=Object(a.f)("trigger.size")({theme:n}),d=c({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:l,triggerWidth:l,triggerXpadding:Object(r.e)(n),triggerYpadding:Object(r.c)(n)});return s({...d,theme:n,isMaximized:o})},d=e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:r,isPhone:i,customTriggerPosition:l}=e;const d="L"===Object(a.f)("frame.align")({theme:n}).slice(-1)?o.f.LEFT:o.f.RIGHT,{xOffset:u,bottomOffset:p}=c({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:l.height,triggerWidth:l.width,triggerXpadding:"left"===d?l.left:l.right,triggerYpadding:l.bottom});if(i){return`\n      top: 0;\n      bottom: ${p}px;\n      ${d}: ${u}px;\n      ${"left"===d?"right":"left"}: 0;\n      width: calc(100vw - ${u}px);\n      height: calc(100% - ${p}px);\n      min-width: calc(100vw - ${u}px);\n      max-width:  100vh;\n      max-height: 100vh;\n    `}return s({xEdgeToAlign:d,xOffset:u,bottomOffset:p,theme:n,isMaximized:r})}},1034:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(365);const o=Object(a.createContext)({setIsFrameMaximized:()=>null,isFrameMaximized:!1})},1035:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(365),o=n(486),r=n.n(o),i=n(396),c=n.n(i),s=n(476),l=n(825),d=n(415),u=n(406),p=n(426),b=n(10),f=n(437);const h=(new u.a).setUrl("/livechat/logging/log").setType(d.a.POST).build(),g=e=>{const{message:t,userId:n}=e,a=`UI_${p.a.getAppId(Object(b.a)())}_${n}_${r.a.v4()}`;return{message:t,timeStamp:Date.now(),clientId:a,url:Object(f.b)()}},y={debug:c.a,info:c.a,error:c.a,warning:c.a,cleanup:c.a},O=e=>{let{category:t,batch:n,log:o,skip:r,adapter:i,userId:c}=e;const[d]=Object(s.a)(h,{ignoreResults:!0},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),u=Object(a.useRef)(y);u.current=Object(a.useMemo)((()=>new l.a(o||d,{batch:n,skip:r,adapter:i||g})),[d,g]),Object(a.useEffect)((()=>()=>{u.current.cleanup()}),[]);return Object(a.useMemo)((()=>({debug:e=>u.current.debug({message:e,category:t,userId:c}),error:e=>u.current.error({message:e,category:t,userId:c}),info:e=>u.current.info({message:e,category:t,userId:c}),warning:e=>u.current.warning({message:e,category:t,userId:c})})),[t,c])}},1036:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(506).__importDefault(n(1441)).default("audio");t.default=a},1038:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(621),o=n(833),r=n(834),i=n(568),c=n(398);const s={[c.c.CONTACT_DETAILS_FORM]:{NAME:e=>{let{user:t}=e;return Object(i.a)(t)},FIRST_NAME:e=>{let{user:t}=e;return t.firstName},LAST_NAME:e=>{let{user:t}=e;return t.lastName},EMAIL:e=>{let{user:t}=e;return t.email},PHONE_NO:e=>{let{user:t}=e;return t.phoneNo}}},l={[c.c.CONTACT_DETAILS_FORM]:(e,t)=>{const n=o.a.getFields(r.a.getForm(e)),a=s[c.c.CONTACT_DETAILS_FORM];return n.reduce(((e,n)=>{const{id:o}=n,r=a[o];return r&&(e[o]=r(t)),e}),{})}},d=(e,t)=>{const n=l[a.a.getType(e)];return n?n(e,t):{}}},1039:function(e,t,n){"use strict";t.a={CALL_INITIATED:"VIDEO_CALL_INITIATED",CALL_STARTING:"VIDEO_CALL_STARTING",CALL_OFFER_ACCEPTED:"VIDEO_CALL_OFFER_ACCEPTED",CALL_CONNECTED:"VIDEO_CALL_CONNECTED",CALL_DECLINED:"VIDEO_CALL_DECLINED",CALL_ENDED:"VIDEO_CALL_ENDED",CALL_MISSED:"VIDEO_CALL_MISSED"}},1040:function(e,t,n){var a=n(76);e.exports=function(){var e=arguments,t=a(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},1041:function(e,t,n){"use strict";t.a={PDF:"PDF",EXCEL:"EXCEL",DOCUMENT:"DOCUMENT",WORD_DOCUMENT:"DOC",PRESENTATION:"PRESENTATION",ONENOTE:"ONENOTE"}},1042:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="@chatPrompt/PROMPT_ACTION_TRIGGER"},1043:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(425);const o=async()=>a.a.post("/livechat/conversation/refresh-token",void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},1268:function(e,t,n){"use strict";var a=n(53),o=n.n(a),r=n(408),i=n.n(r),c=n(730),s=n.n(c);const l=(e,t)=>s()(e)&&s()(t)?e-t:i()(e)&&i()(t)?e.localeCompare(t):i()(e)&&s()(t)?parseInt(e,10)-t:s()(e)&&i()(t)?e-parseInt(t,10):-1,d=(e,t)=>{if(o()(t))return!1;return l(t,e)<=-1},u=(e,t)=>{if(o()(t))return!1;return l(t,e)>=1},p=(e,t)=>{if(o()(t))return!1;return 0===l(t,e)};var b=n(412),f=n.n(b),h=n(74),g=n.n(h),y=n(517),O=n(117),m=n(388),v=n(566);var j=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,o=m.a.getField(this._filter),r=f()(m.a.getValues(this._filter)),i=Object(y.b)({currentValueMap:e,filter:this._filter});let c;switch(m.a.getFilterType(this._filter)){case v.a.LT:c=d(r,i);break;case v.a.LTE:c=d(r,i)||p(r,i);break;case v.a.GT:c=u(r,i);break;case v.a.GTE:c=u(r,i)||p(r,i);break;case v.a.EQUALS:c=p(r,i);break;case v.a.NOT_EQUALS:c=!p(r,i);break;case v.a.EXISTS:c=!g()(i);break;case v.a.MISSING:c=g()(i);break;default:c=!1}return c&&n&&Object(O.a)(`Range Filter succeed for ${o} with value ${i}`),!c&&a&&Object(O.a)(`Range Filter failed for ${o} with value ${i}`),c},this.clear=()=>{},this._filter=e}};var I=(e,t)=>{if(o()(t))return!1;try{return!!new RegExp(e).test(t)}catch(n){return Object(O.a)("Wrong regex in filter"),!1}},C=n(1011),E=n(178),T=n.n(E),_=n(565),S=n.n(_);var x=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,o=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=T()(m.a.getDetails(this._filter),"valueAdditional.isJsRegex"),s=S()(r,(e=>c?I(e,i):Object(C.a)(e,i)));return s&&n&&Object(O.a)(`Regex Filter succeed for ${o} with value ${i}`),!s&&a&&Object(O.a)(`Regex Filter failed for ${o} with value ${i}`),s},this.clear=()=>{},this._filter=e}};var A=(e,t)=>!o()(t)&&!!e.includes(t);var w=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,o=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=A(r,i);return c&&n&&Object(O.a)(`In Filter succeed for ${o} with value ${i}`),!c&&a&&Object(O.a)(`In Filter failed for ${o} with value ${i}`),c},this.clear=()=>{},this._filter=e}};var R=(e,t)=>!o()(t)&&!e.includes(t);var N=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,o=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=R(r,i);return c&&n&&Object(O.a)(`NotIn Filter succeed for ${o} with value ${i}`),!c&&a&&Object(O.a)(`NotIn Filter failed for ${o} with value ${i}`),c},this.clear=()=>{},this._filter=e}};class L{}L.createFilterAction=e=>{switch(m.a.getFilterType(e)){case v.a.LTE:case v.a.LT:case v.a.GT:case v.a.GTE:case v.a.NOT_EQUALS:case v.a.EXISTS:case v.a.MISSING:return new j(e);case v.a.REGEX:return new x(e);case v.a.CONTAINS:case v.a.IN:return new w(e);case v.a.NIN:return new N(e);default:return new j(e)}};var D=L;var M=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(this._filter)}},P=n(429),k=n.n(P),U=n(465);var B=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter);let a=e;return n&&!k()(n.noOfAgentsAvailable)&&(a={[U.a.AVAILABLE_AGENTS]:n.noOfAgentsAvailable}),this._filterAction.matches(a,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var F=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter);let a=e;return n&&!k()(n.numberOfPendingCases)&&(a={[U.a.AGENT_OUT_OF_CAPACITY]:n.numberOfPendingCases}),this._filterAction.matches(a,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var G=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter),a=Object(y.b)({currentValueMap:e,filter:this._filter});let o={[U.a.BUSINESS_HOURS]:a};return!n||g()(n)||k()(n.timeToBusinessHours)||(o={[U.a.BUSINESS_HOURS]:n.timeToBusinessHours}),this._filterAction.matches(o,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const a=(e=>m.a.getFilterType(e)===v.a.IN?f()(m.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:v.a.LTE,values:[0]}):Object.assign(Object.assign({},e),{filterType:v.a.GT,values:[0]}):e)(e);this._filter=a,this._unSubscribeFn=n?n(a):null,this._filterAction=D.createFilterAction(a)}};var W=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const a=(e=>m.a.getFilterType(e)===v.a.IN?f()(m.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:v.a.GTE,values:[1]}):Object.assign(Object.assign({},e),{filterType:v.a.LTE,values:[0]}):e)(e);this._filter=a,this._unSubscribeFn=n?n(a):null,this._filterAction=D.createFilterAction(a)}};var z=class{constructor(e,t){let{subscribe:n,parentFilter:a}=t;this.matches=(e,t)=>{let n=e;switch(this._parentFilter&&m.a.getField(this._parentFilter)){case U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:{const t=f()(m.a.getValues(this._parentFilter)),a=e[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],o=Date.now()-(a[t].actionTime||0);n=Object.assign(Object.assign({},n),{[U.a.DEPENDENT_DURATION_KEY]:o});break}case U.a.INTERCEPT_CLOSED_IN_SESSION_KEY:{const t=f()(m.a.getValues(this._parentFilter)),a=e[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY],o=Date.now()-(a[t].actionTime||0);n=Object.assign(Object.assign({},n),{[U.a.DEPENDENT_DURATION_KEY]:o});break}}return this._filterAction.matches(n,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._parentFilter=a,this._unSubscribeFn=n?n(e,a):null,this._filterAction=D.createFilterAction(e)}};var V=class{constructor(e,t){this.matches=(e,t)=>{const n=f()(m.a.getValues(this._filter)),a=e[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],o=this._filterAction.matches({[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY]:a[n]?n:""},t);if(o){const n=m.a.getDetails(this._filter);if(n&&!g()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return o},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e),this._dependentFilterAction=null}};var $=class{constructor(e,t){this.matches=(e,t)=>{const n=f()(m.a.getValues(this._filter)),a=e[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY],o=this._filterAction.matches({[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY]:a[n]?n:""},t);if(o){const n=m.a.getDetails(this._filter);if(n&&!g()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return o},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e),this._dependentFilterAction=null}},H=n(389);const Y="PIXEL";var q=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=T()(m.a.getDetails(this._filter),"valueAdditional.valueType"),a=m.a.getField(this._filter),{scrollDepth:o,scrollPercent:r}=e[a]||H.a,i={[a]:n===Y?o:r};return this._filterAction.matches(i,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var K=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(y.b)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null}};var X=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(y.b)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unsubscribeFn&&this._unsubscribeFn(),this._unsubscribeFn=null},this._filter=e,this._unsubscribeFn=n?n(e):null}};class Z{}Z.createFilterAction=(e,t)=>{switch(m.a.getField(e)){case U.a.AVAILABLE_AGENTS:return new B(e,t);case U.a.AGENT_OUT_OF_CAPACITY:return new F(e,t);case U.a.BUSINESS_HOURS:return new G(e,t);case U.a.IS_CONVERSATION_OPEN:return new W(e,t);case U.a.DEPENDENT_DURATION_KEY:return new z(e,t);case U.a.INTERCEPT_CLOSED_IN_SESSION_KEY:return new $(e,t);case U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:return new V(e,t);case U.a.CURRENT_URL:case U.a.TOTAL_TIME_SPENT:case U.a.ACTIVE_TIME_SPENT:case U.a.INACTIVE_TIME_SPENT:case U.a.DEVICE_TYPE:case U.a.USER_IP_DETAILS_COUNTRY:case U.a.USER_IP_DETAILS_CITY:case U.a.USER_IP_DETAILS_REGION:return new M(e,t);case U.a.HORIZONTAL_PAGE_SCROLL_DEPTH:case U.a.VERTICAL_PAGE_SCROLL_DEPTH:return new q(e,t);case U.a.TIME_SPENT_ON_SESSION:return new K(e,t);case U.a.NUM_SNOOZE_ALLOWED:return new X(e,t);default:return Object(y.d)(m.a.getField(e))?new M(e,t):void 0}};var J=Z,Q=n(114),ee=n.n(Q),te=n(116),ne=n.n(te);var ae=class{constructor(e,t){this.matches=(e,t)=>{let n=!0;return ne()(this._filterActions,(a=>!!a.matches(e,t)||(n=!1,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(m.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};var oe=class{constructor(e,t){this.matches=(e,t)=>{let n=!1;return ne()(this._filterActions,(a=>!a.matches(e,t)||(n=!0,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(m.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};let re=0;class ie{}ie.createFilterAction=(e,t)=>{const n=(e=>(re+=1,Object.assign(Object.assign({},e),{id:re})))(e),a=J.createFilterAction(n,t);if(a)return a;switch(m.a.getFilterType(n)){case v.a.AND:return new ae(e,t);case v.a.OR:return new oe(e,t);default:return D.createFilterAction(n)}};t.a=ie},1278:function(e,t,n){"use strict";var a,o=n(365),r=n.n(o),i=(n(417),n(369)),c=n(394),s=n(367);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function d(e,t){let{title:n,titleId:r,...i}=e;return o.createElement("svg",l({"data-spaceweb":"icon",viewBox:"0 0 14 14","data-icon-name":"SolidCobrowsing",className:"sw--bx sw--by sw--mw sw--mx",ref:t,"aria-labelledby":r},i),n?o.createElement("title",{id:r},n):null,a||(a=o.createElement("path",{d:"M12.752 0H1.248A1.328 1.328 0 00.024 1.416v8.66a1.328 1.328 0 001.224 1.416h11.504a1.328 1.328 0 001.224-1.416v-8.66A1.328 1.328 0 0012.752 0zM5.648 5.19a.362.362 0 01-.11-.263c0-.005-.006-.01-.006-.015v-.525h-1.05a.896.896 0 00-.895.895v.928a.889.889 0 00.262.633.918.918 0 00.632.263.5.5 0 010 1 1.914 1.914 0 01-1.34-.556 1.882 1.882 0 01-.554-1.34v-.928A1.896 1.896 0 014.48 3.387h1.051v-.52c0-.005.006-.01.006-.016a.343.343 0 01.11-.268.361.361 0 01.517.01l.996 1.038c.005.01.015.016.02.027a.369.369 0 01.08.179.2.2 0 010 .079.34.34 0 01-.095.221v.005H7.16L6.165 5.18a.361.361 0 01-.517.01zm5.765 1.02A1.897 1.897 0 019.52 8.106h-.88v.519c0 .005-.005.01-.005.016a.343.343 0 01-.111.268.361.361 0 01-.516-.01l-.996-1.038c-.005-.01-.016-.016-.021-.026a.369.369 0 01-.08-.18.2.2 0 010-.079.34.34 0 01.096-.22V7.35h.005l.996-1.038a.364.364 0 01.627.253c0 .005.005.01.005.016v.525h.879a.896.896 0 00.894-.896v-.928a.891.891 0 00-.263-.634.918.918 0 00-.631-.26.5.5 0 010-1 1.914 1.914 0 011.34.554 1.885 1.885 0 01.554 1.34zM10.3 12.584H3.597a.7.7 0 000 1.4H10.3a.7.7 0 100-1.4z"})))}const u=o.forwardRef(d);n.p;const p=Object(s.a)(u,{target:"e1s9shjt0"})({name:"1utgq19",styles:"width:48px;height:48px;margin-bottom:18px;"});var b=n(1285),f=n(670),h=n(568),g=n(366);var y={name:"19cy8uy",styles:"max-width:218px;"};var O=r.a.memo(Object(i.h)((e=>{const{onStopSession:t,brandUser:n,intl:a}=e,r=Object(c.a)(),i=Object(o.useMemo)((()=>({agentName:Object(h.a)(n,r)})),[n,r]),s=Object(o.useMemo)((()=>a.formatMessage(f.a.settingUpCobrowsing,i)),[i,a]),l=Object(o.useMemo)((()=>y),[]);return Object(g.jsx)(b.a,{onClose:t,Icon:p,description:s,descriptionStyles:l})}))),m=n(564);t.a=e=>{const{sessionState:t}=e;return t!==m.c.INITIATED&&t!==m.c.SETUP&&t!==m.c.RESUMED?null:Object(g.jsx)(O,e)}},1281:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var a=n(365),o=n.n(a),r=n(74),i=n.n(r),c=n(116),s=n.n(c),l=n(490),d=n.n(l),u=n(396),p=n.n(u),b=n(370),f=n(443),h=n(421);var g=()=>e=>{const t={eventId:e.label,eventType:e.action.id,additional:{...e.additional,conversationId:e.conversationId,page:e.page,appId:e.appId}};Object(f.a)({topic:h.e,payload:{data:t}})},y=n(425),O=n(463),m=n(113);const v=new Set([O.a.AGENT_ASSIGNED.id,O.a.VIDEO_CALL_OUTGOING_STARTING.id,O.a.AUDIO_CALL_OUTGOING_STARTING.id]);var j=()=>async e=>{if(!v.has(e.action.id))try{await y.a.post("/livechat/prompt/browse/event",{p:{page:e.page,userAgent:e.userAgent,device:e.device,timeZone:e.timeZone,eventType:e.action.label,eventId:e.label,conversationId:e.conversationId,sourceType:"LIVE_CHAT"}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}catch(t){Object(m.b)(t)}},I=n(580),C=n(379),E=n(380),T=n(462),_=n(384),S=n(491),x=n(10),A=n(392),w=n(7),R=n(795),N=n(366);const L=o.a.createContext(p.a);let D=[];const M=e=>Object(S.c)(Object(_.e)(e)),P=e=>{const t=Object(I.a)(),o=Object(C.a)(),r=Object(a.useRef)(D),[c,l]=Object(a.useState)(!i()(r.current)),u=Object(E.a)(T.c),p=Object(E.a)(T.b),f=Object(b.d)(M),h=Object(w.N)();return Object(a.useEffect)((()=>{if(c&&f.length){const e={...f[0],category:"Sprinklr Widget",device:t.device,page:t.pageUrl,userAgent:t.userAgent,timeZone:t.timeZone,appId:Object(x.a)().appId};((e,t)=>{Object(R.c)((()=>{s()(e,(e=>{e(t)}))}))})(r.current,e),p()}}),[f,c]),Object(a.useEffect)((()=>{h||c||(e=>{const t=[],a=A.a.getGoogleTrackerId(e),o=A.a.isSprinklrAnalyticsEnabled(e);return i()(a)||t.push(n.e(65).then(n.bind(null,1893)).then((e=>e.default.createTracker({trackerId:a},{canAccessParent:Object(w.L)()}))).catch((()=>{}))),o&&t.push(j()),t.push(g()),Promise.all(t)})(o).then((e=>{r.current=d()(e),D=r.current,l(!0)}))}),[]),Object(N.jsx)(L.Provider,{value:u},e.children)};t.b=o.a.memo(P)},1285:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));n(365);var a=n(369),o=n(367),r=n(366),i=n(368),c=n(371),s=n(525),l=n(512);const d=Object(o.a)("div",{target:"e1exikj40"})("position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:",(e=>Object(i.f)("frame.zIndex")(e)),";transform:translateZ(",(e=>Object(i.f)("frame.translateZ")(e)),"px);"),u=Object(o.a)(s.a,{target:"e1exikj41"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),p={name:"1egabj8",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:transparent;}"},b=Object(o.a)("div",{target:"e1exikj42"})("width:100%;height:100%;position:relative;",(e=>e.isPhone&&"backdrop-filter: blur(2px);"),""),f=Object(o.a)("div",{target:"e1exikj43"})("position:absolute;padding:",(e=>{const t=+Object(i.f)("confirmationBox.paddingTop")(e),n=+Object(i.f)("confirmationBox.paddingRight")(e),a=+Object(i.f)("confirmationBox.paddingLeft")(e);return`${t}px ${n}px ${+Object(i.f)("confirmationBox.paddingBottom")(e)}px ${a}px`}),";",(e=>e.isPhone?"\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      opacity: 0.95;\n      ":`\n      box-shadow: 0 4px 10px 0 rgba(49, 39, 39, 0.2);\n      border-radius: ${Object(i.a)("frame.borderRadius")(e)};\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      max-width: 312px;\n      width: 85%;\n  `)," color:",Object(i.b)("charcoal"),";background-color:",Object(i.f)("confirmationBox.backgroundColor"),";"),h=Object(o.a)("div",{target:"e1exikj44"})("font-size:",Object(i.f)("confirmationBox.header.title.fontSize"),"px;font-family:",Object(i.d)("confirmationBox.header.title.fontFamily"),";font-weight:",Object(i.f)("confirmationBox.header.title.fontWeight"),";padding-bottom:",Object(i.f)("confirmationBox.header.paddingBottom"),"px;"),g=Object(o.a)("div",{target:"e1exikj45"})("font-size:",Object(i.f)("confirmationBox.description.fontSize"),"px;font-weight:normal;color:",Object(i.b)("charcoal"),";text-align:center;"),y=Object(o.a)(l.a,{target:"e1exikj46"})("position:absolute;top:env(safe-area-inset-top);",Object(c.c)("right: env(safe-area-inset-right);","left: env(safe-area-inset-left);"),""),O=e=>Object(r.css)({height:`${Object(i.f)("confirmationBox.header.iconButton.icon.height")({theme:e})}px`,width:`${Object(i.f)("confirmationBox.header.iconButton.icon.width")({theme:e})}px`},""),m=e=>Object(r.css)({height:`${Object(i.f)("confirmationBox.header.iconButton.button.height")({theme:e})}px`,width:`${Object(i.f)("confirmationBox.header.iconButton.button.width")({theme:e})}px`},"");var v=n(432),j=n(373),I=n(374),C=n(377),E=n(670);const T=Object(a.h)((e=>{let{onClose:t,title:n,description:a,descriptionStyles:o,Icon:i,intl:c}=e;const s=Object(C.b)(),l=Object(j.a)(),{direction:T}=Object(I.a)();return Object(r.jsx)(d,{className:"spr-chat__cobrowseInfo-box spr-live-chat-frame __cbio_ignored"},Object(r.jsx)(u,{name:"spr-chat__cobrowseInfo-frame","aria-label":c.formatMessage(E.a.coBrowseInformation),title:c.formatMessage(E.a.coBrowseInformation)},Object(r.jsx)(r.Global,{styles:p}),Object(r.jsx)(b,{isPhone:l},Object(r.jsx)(f,{isPhone:l},Object(r.jsx)("div",{className:"flex-column-container center-x-y spr full-width full-height"},Object(r.jsx)(y,{direction:T,iconName:"closeIcon",Icon:v.a,onClick:t,iconCss:O(s),css:m(s)}),Object(r.jsx)(i,null),n&&Object(r.jsx)(h,null,n),a&&Object(r.jsx)(g,{css:o},a))))))}))},1288:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return y}));var a=n(365),o=n(445),r=n.n(o),i=n(74),c=n.n(i),s=n(716);var l=n(397),d=n(442),u=n(411),p=n(366);const b={byIds:{}},f=[d.o],h=Object(a.createContext)(b),g=(e,t)=>{if(t.type===d.o){const{id:n,details:a}=t.payload;return c()(e.byIds[n])?r()(e,{byIds:{$merge:{[n]:a}}}):r()(e,{byIds:{[n]:{$merge:a}}})}return e},y=e=>{let{children:t}=e;const[n,o]=Object(a.useReducer)(g,b),r=Object(l.a)(),i=u.a.getCards(r),c=Object(a.useCallback)((e=>{const{type:t,payload:n}=e,a=null===i||void 0===i?void 0:i.find((e=>{var t,a;return(null===e||void 0===e||null===(t=e.provider)||void 0===t||null===(a=t.details)||void 0===a?void 0:a.id)===n.id}));a&&o({type:t,payload:{...n,id:a.id}})}),[i]);var d,y;return d=f,y=c,Object(a.useLayoutEffect)((()=>{const e=s.a.on((e=>{d.includes(e.type)&&y(e)}));return()=>{e()}}),[]),Object(p.jsx)(h.Provider,{value:n},t)}},1356:function(e,t,n){var a=n(658);e.exports=function(e,t){for(var n=-1,o=e.length;++n<o&&a(t,e[n],0)>-1;);return n}},1417:function(e,t,n){var a=n(208),o=n(202),r=n(179),i=4294967295,c=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>9007199254740991)return[];var n=i,s=c(e,i);t=o(t),e-=i;for(var l=a(s,t);++n<e;)t(n);return l}},1418:function(e,t,n){var a=n(221)("length");e.exports=a},1419:function(e,t){var n="[\\ud800-\\udfff]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+a+"|"+o+")"+"?",l="[\\ufe0e\\ufe0f]?",d=l+s+("(?:\\u200d(?:"+[r,i,c].join("|")+")"+l+s+")*"),u="(?:"+[r+a+"?",a,i,c,n].join("|")+")",p=RegExp(o+"(?="+o+")|"+u+d,"g");e.exports=function(e){for(var t=p.lastIndex=0;p.test(e);)++t;return t}},1424:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(430));var a=c(n(1425)),o=c(n(1428)),r=c(n(365)),i=c(n(1017));n(1019);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},u=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).onEnter=function(e,n){var a=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,a),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var a=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,a),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var a=t.getClassNames("appear").doneClassName,o=t.getClassNames("enter").doneClassName,r=n?a+" "+o:o;t.removeClasses(e,n?"appear":"enter"),l(e,r),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,a="string"===typeof n,o=a?(a&&n?n+"-":"")+e:n[e];return{className:o,activeClassName:a?o+"-active":n[e+"Active"],doneClassName:a?o+"-done":n[e+"Done"]}},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.removeClasses=function(e,t){var n=this.getClassNames(t),a=n.className,o=n.activeClassName,r=n.doneClassName;a&&d(e,a),o&&d(e,o),r&&d(e,r)},o.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},o.render=function(){var e=s({},this.props);return delete e.classNames,r.default.createElement(i.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a}(r.default.Component);u.defaultProps={classNames:""},u.propTypes={};var p=u;t.default=p,e.exports=t.default},1425:function(e,t,n){"use strict";var a=n(1426);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=a(n(1427));e.exports=t.default},1426:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},1427:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1428:function(e,t,n){"use strict";function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=a(e.className,t):e.setAttribute("class",a(e.className&&e.className.baseVal||"",t))}},1429:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;i(n(430));var a=i(n(365)),o=n(473),r=i(n(1020));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function i(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=i.prototype;return c.handleLifecycle=function(e,t,n){var r,i=this.props.children,c=a.default.Children.toArray(i)[t];c.props[e]&&(r=c.props)[e].apply(r,n),this.props[e]&&this.props[e]((0,o.findDOMNode)(this))},c.render=function(){var e=this.props,t=e.children,n=e.in,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["children","in"]),i=a.default.Children.toArray(t),c=i[0],s=i[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,a.default.createElement(r.default,o,n?a.default.cloneElement(c,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):a.default.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},i}(a.default.Component);c.propTypes={};var s=c;t.default=s,e.exports=t.default},1430:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=r,t.getInitialChildMapping=function(e,t){return o(e.children,(function(n){return(0,a.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:i(n,"appear",e),enter:i(n,"enter",e),exit:i(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var c=o(e.children),s=r(t,c);return Object.keys(s).forEach((function(o){var r=s[o];if((0,a.isValidElement)(r)){var l=o in t,d=o in c,u=t[o],p=(0,a.isValidElement)(u)&&!u.props.in;!d||l&&!p?d||!l||p?d&&l&&(0,a.isValidElement)(u)&&(s[o]=(0,a.cloneElement)(r,{onExited:n.bind(null,r),in:u.props.in,exit:i(r,"exit",e),enter:i(r,"enter",e)})):s[o]=(0,a.cloneElement)(r,{in:!1}):s[o]=(0,a.cloneElement)(r,{onExited:n.bind(null,r),in:!0,exit:i(r,"exit",e),enter:i(r,"enter",e)})}})),s};var a=n(365);function o(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,a.isValidElement)(e)?t(e):e}(e)})),n}function r(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var a,o=Object.create(null),r=[];for(var i in e)i in t?r.length&&(o[i]=r,r=[]):r.push(i);var c={};for(var s in t){if(o[s])for(a=0;a<o[s].length;a++){var l=o[s][a];c[o[s][a]]=n(l)}c[s]=n(s)}for(a=0;a<r.length;a++)c[r[a]]=n(r[a]);return c}function i(e,t,n){return null!=n[t]?n[t]:e.props[t]}},1431:function(e,t,n){"use strict";var a=n(734),o=n.n(a),r=n(563),i=n.n(r),c=n(365),s=n.n(c),l=n(430),d=n.n(l),u=n(1022),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){return 0===s.a.Children.count(e)},g=function(e){function t(){var n,a;b(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=f(this,e.call.apply(e,[this].concat(r))),a.state={match:a.computeMatch(a.props,a.context.router)},f(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:p({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,a=e.location,o=e.path,r=e.strict,c=e.exact,s=e.sensitive;if(n)return n;i()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,d=(a||l.location).pathname;return Object(u.a)(d,{path:o,strict:r,exact:c,sensitive:s},l.match)},t.prototype.componentWillMount=function(){o()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),o()(!(this.props.component&&this.props.children&&!h(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),o()(!(this.props.render&&this.props.children&&!h(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){o()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),o()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,a=t.component,o=t.render,r=this.context.router,i=r.history,c=r.route,l=r.staticContext,d={match:e,location:this.props.location||c.location,history:i,staticContext:l};return a?e?s.a.createElement(a,d):null:o?e?o(d):null:"function"===typeof n?n(d):n&&!h(n)?s.a.Children.only(n):null},t}(s.a.Component);g.propTypes={computedMatch:d.a.object,path:d.a.string,exact:d.a.bool,strict:d.a.bool,sensitive:d.a.bool,component:d.a.func,render:d.a.func,children:d.a.oneOfType([d.a.func,d.a.node]),location:d.a.object},g.contextTypes={router:d.a.shape({history:d.a.object.isRequired,route:d.a.object.isRequired,staticContext:d.a.object})},g.childContextTypes={router:d.a.object.isRequired},t.a=g},1432:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1433:function(e,t,n){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,i=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,d=l&&l(Object);e.exports=function e(t,n,u){if("string"!==typeof n){if(d){var p=l(n);p&&p!==d&&e(t,p,u)}var b=i(n);c&&(b=b.concat(c(n)));for(var f=0;f<b.length;++f){var h=b[f];if(!a[h]&&!o[h]&&(!u||!u[h])){var g=s(n,h);try{r(t,h,g)}catch(y){}}}return t}return t}},1434:function(e,t,n){var a=n(800);e.exports=function(e){return a(e,5)}},1435:function(e,t,n){var a=n(800);e.exports=function(e){return a(e,4)}},1436:function(e,t,n){var a=n(189),o=n(653),r=n(185),i=n(8);e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],c=e;c--;)t[c-1]=arguments[c];return a(i(n)?r(n):[n],o(t,1))}},1438:function(e,t,n){var a=n(658),o=n(179),r=Math.max;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var c=null==n?0:o(n);return c<0&&(c=r(i+c,0)),a(e,t,c)}},1441:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(506),o=a.__importStar(n(365)),r=n(365),i=a.__importDefault(n(1442)),c=a.__importDefault(n(1443));t.default=function(e){return function(t){var n,s;s=o.isValidElement(t)?(n=t).props:t;var l=i.default({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1}),d=l[0],u=l[1],p=r.useRef(null),b=function(e,t){return function(n){try{t&&t(n)}finally{e&&e(n)}}},f=function(){return u({paused:!1})},h=function(){return u({paused:!0})},g=function(){var e=p.current;e&&u({muted:e.muted,volume:e.volume})},y=function(){var e=p.current;if(e){var t=e.duration,n=e.buffered;u({duration:t,buffered:c.default(n)})}},O=function(){var e=p.current;e&&u({time:e.currentTime})},m=function(){var e=p.current;e&&u({buffered:c.default(e.buffered)})};n=n?o.cloneElement(n,a.__assign(a.__assign({controls:!1},s),{ref:p,onPlay:b(s.onPlay,f),onPause:b(s.onPause,h),onVolumeChange:b(s.onVolumeChange,g),onDurationChange:b(s.onDurationChange,y),onTimeUpdate:b(s.onTimeUpdate,O),onProgress:b(s.onProgress,m)})):o.createElement(e,a.__assign(a.__assign({controls:!1},s),{ref:p,onPlay:b(s.onPlay,f),onPause:b(s.onPause,h),onVolumeChange:b(s.onVolumeChange,g),onDurationChange:b(s.onDurationChange,y),onTimeUpdate:b(s.onTimeUpdate,O),onProgress:b(s.onProgress,m)}));var v=!1,j={play:function(){var e=p.current;if(e&&!v){var t=e.play();if("object"===typeof t){v=!0;var n=function(){v=!1};t.then(n,n)}return t}},pause:function(){var e=p.current;if(e&&!v)return e.pause()},seek:function(e){var t=p.current;t&&void 0!==d.duration&&(e=Math.min(d.duration,Math.max(0,e)),t.currentTime=e)},volume:function(e){var t=p.current;t&&(e=Math.min(1,Math.max(0,e)),t.volume=e,u({volume:e}))},mute:function(){var e=p.current;e&&(e.muted=!0)},unmute:function(){var e=p.current;e&&(e.muted=!1)}};return r.useEffect((function(){var e=p.current;e&&(u({volume:e.volume,muted:e.muted,paused:e.paused}),s.autoPlay&&e.paused&&j.play())}),[s.src]),[n,d,j,p]}}},1442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(365);t.default=function(e){void 0===e&&(e={});var t=a.useState(e),n=t[0],o=t[1];return[n,a.useCallback((function(e){o((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[o])]}},1443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}},1444:function(e,t,n){var a=n(1445),o=n(76),r=/[&<>"']/g,i=RegExp(r.source);e.exports=function(e){return(e=o(e))&&i.test(e)?e.replace(r,a):e}},1445:function(e,t,n){var a=n(1003)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=a},1803:function(e,t,n){"use strict";var a=n(365),o=n.n(a),r=n(430),i=n.n(r),c=n(1433),s=n.n(c),l=n(1431),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.a=function(e){var t=function(t){var n=t.wrappedComponentRef,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["wrappedComponentRef"]);return o.a.createElement(l.a,{children:function(t){return o.a.createElement(e,d({},a,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:i.a.func},s()(t,e)}},1857:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return km}));var a=n(806),o=n.n(a),r=n(715),i=n.n(r),c=n(178),s=n.n(c),l=n(74),d=n.n(l),u=n(10),p=n(7);const b=[],f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];d()(t)||b.push(...t)};var h=n(716),g=n(117);const y="AVAILABLE",O="UN_AVAILABLE",m="PENDING";let v=m;const j=e=>{v=e?y:O},I=()=>v===O,C=()=>v===m,E="PENDING",T="SUCCESS",_="FAIL",S="EXPIRED";let x=E;const A=e=>{x=e},w=()=>x===E,R=()=>x===_,N=()=>x===S,L="INCORRECT_PAYLOAD",D="NETWORK_FAILURE",M="CHAT_UNAVAILABLE";var P=n(445),k=n.n(P),U=n(528);const B="APP_AVAILABLE",F="APP_IN_SESSION";function G(e,t){const n=Object(p.M)(t);if(d()(n))return;const a=k()(Object(u.a)(),{userContext:{$merge:n}});Object(u.f)(a),e({type:U.d,payload:n})}G.dependecies=[F];const W="@user/UPDATE_USER_SETTINGS";function z(e,t){e({type:W,payload:t})}z.dependecies=[F];var V=n(442);function $(e){e({type:V.f})}function H(e){Object(p.L)()&&e({type:V.d})}$.dependecies=[F],H.dependecies=[B];var Y=n(527),q=n.n(Y),K=n(396),X=n.n(K),Z=n(717);const J=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a,newSubscriber:o}=e;return Object(Z.b)(X.a,{topic:t,subscriber:o}),n.push({legacySubscriber:a,newSubscriber:o}),n},Q=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a}=e;const o=q()(n,(e=>{let{legacySubscriber:t}=e;return t===a}));return-1!==o&&(Object(Z.c)(X.a,{topic:t,subscriber:n[o].newSubscriber}),n.splice(o,1)),n};var ee=n(421);function te(e){Object(p.L)()&&e({type:V.b})}te.dependecies=[B];let ne=[];let ae=[];let oe=[];var re=n(656);function ie(e,t){e({type:re.a,payload:t})}function ce(e,t){e({type:re.b,payload:{promptId:t.id}})}ie.dependecies=[F,B],ce.dependecies=[F];let se=[];var le=n(8),de=n.n(le),ue=n(18),pe=n.n(ue),be=n(443),fe=n(657);const he="sendExternalEvent",ge="openNewConversation",ye="updateConversationContext",Oe="getAvailableAgents",me="addFilterToEvaluate";function ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=de()(t)?t:s()(t,"initialMessages");new Promise(((a,o)=>{e(Object(fe.b)({initialMessages:n,conversationContext:s()(t,"conversationContext"),assignToUser:s()(t,"assignToUser"),createCase:!!s()(t,"autoInitiateConversation"),additional:!de()(t)&&pe()(t)?{...t.additional,externalCaseId:t.id}:void 0,silent:!!s()(t,"silent")},{resolve:a,reject:o}))})).then((e=>{Object(be.a)({topic:ge,payload:{data:{conversationId:e},request:t}})})).catch((e=>{Object(be.a)({topic:ge,payload:{error:e,request:t}})}))}ve.dependecies=[F,B];var je=n(488);function Ie(e,t){const n=Object(je.b)();0!==n.index?(n.goBack(),t(!0)):t(!1)}Ie.dependecies=[B];var Ce=n(429),Ee=n.n(Ce),Te=n(409);function _e(e,t){Ee()(t.payload)?Object(be.a)({topic:he,payload:{error:L,request:t}}):e({type:Te.y,payload:t})}function Se(e,t){new Promise(((n,a)=>{e({type:Te.k,payload:t,promise:{resolve:n,reject:a}})})).then((e=>{Object(be.a)({topic:ye,payload:{data:e,request:t}})})).catch((e=>{Object(be.a)({topic:ye,payload:{error:e,request:t}})}))}function xe(e,t){const n=Object(p.M)(t);if(d()(n))return;const a=k()(Object(u.a)(),{clientContext:{$merge:n}});Object(u.f)(a),e({type:Te.e,payload:{context:n}})}_e.dependecies=[F,B],Se.dependecies=[F],xe.dependecies=[B];let Ae=[];let we=[];let Re=[];let Ne=[];function Le(e){Object(p.L)()&&e({type:V.i})}function De(e){Object(p.L)()&&e({type:V.h})}Le.dependecies=[F],De.dependecies=[B];let Me=[];const Pe="@commerce/ADD_TO_CART",ke="@commerce/UPDATE_CART",Ue="@commerce/REMOVE_FROM_CART";function Be(e,t){e({type:ke,payload:t})}function Fe(e,t){e({type:Ue,payload:t})}Be.dependecies=[F],Fe.dependecies=[F];var Ge=n(184),We=n.n(Ge),ze=n(425),Ve=n(616),$e=n.n(Ve);$e.a.validators.type.types.MobileClientType=function(e){return"IPHONE"===e||"IPHONE_VOIP"===e||"ANDROID"===e||"WINDOWS"===e||"WINDOWS_UNIVERSAL"===e};const He={mobileClientType:{type:"MobileClientType",presence:!0},appVersion:{type:"number",presence:!0},deviceId:{type:"string",presence:!0},deviceName:{type:"string"}},Ye=Object.assign(Object.assign({},He),{deviceToken:{type:"string",presence:!0}});function qe(e,t){if(t.appVersion=We()(t.appVersion),n=t,$e()(n,Ye))throw Object(g.a)("Invalid device registration payload",t),new Error(L);var n;return ze.a.post("/livechat/event/push/register-device",{p:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((()=>({}))).catch((()=>{throw new Error(D)}))}qe.dependecies=[F];let Ke=[];function Xe(e,t){if(t.appVersion=We()(t.appVersion),n=t,$e()(n,He))throw Object(g.a)("Invalid device unregistration payload",t),new Error(L);var n;return ze.a.post("/livechat/event/push/unregister-device",{p:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((()=>({}))).catch((()=>{throw new Error(D)}))}Xe.dependecies=[F];let Ze=[];let Je=[];const Qe="NEW_MESSAGE",et="MESSAGE_UPDATED",tt="EXTERNAL_EVENT",nt="CHAT_USER_UPDATED",at="CHAT_USER_START_TYPING",ot="CHAT_USER_STOP_TYPING",rt="LOCK_CONVERSATIONS",it="UNLOCK_CONVERSATIONS",ct="CONVERSATION_UPDATED",st="VIDEO_CALL_STARTING",lt="VIDEO_CALL_ENDED",dt="VIDEO_CALL_TOGGLE",ut="VIDEO_CALL_OFFER_ACCEPTED",pt="VIDEO_CALL_DECLINED",bt="VIDEO_CALL_MISSED",ft="CO_BROWSE_STATUS",ht="LIVE_CHAT_ASSIGNMENT_CHANGED",gt="ADD_TO_CART",yt="USER_SESSION_EXPIRED",Ot="VIDEO_PARTICIPANT_UPDATED";function mt(e,t){const{type:n,...a}=t;switch(n){case Qe:{const t=a.cId;e(Object(fe.a)({conversationId:t}));break}}}mt.dependecies=[F,B];var vt=n(75),jt=n.n(vt);const It=e=>{_t(X.a,e)};let Ct=null,Et=It;function Tt(e,t){jt()(t)&&(Et=t)}function _t(e,t){Ct&&(Ct(t),Ct=null)}Object(Z.b)(X.a,{topic:ee.i,subscriber:e=>{let{response:{data:t}}=e;const{callBack:n,permissions:a}=t;Ct=n,Et(a)}});const St=(e,t)=>{e({type:V.a,payload:{subscriber:t}})};St.dependecies=[F];const xt=(e,t)=>{e({type:V.l,payload:{id:t.id}})};xt.dependecies=[F];const At=e=>{ze.a.post("/livechat/conversation/fetchAgentAvailabilityDetails",void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{Object(be.a)({topic:Oe,payload:{data:e.data}})})).catch((()=>{Object(be.a)({topic:Oe,payload:{error:D}})}))};At.dependecies=[F];var wt=n(113);function Rt(e,t){new Promise(((n,a)=>{e(Object(fe.a)({conversationId:t},{resolve:n,reject:a}))})).catch((e=>{Object(wt.b)(e)}))}Rt.dependecies=[F,B];var Nt=n(979);const Lt={updateUserContext:[G],updateUserSettings:[z],open:[H],close:[te],onUnreadCountChange:[function(e,t){ae=J({topic:ee.l,legacySubscriberMap:ae,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(s()(n,"count"))}})}],offUnreadCountChange:[function(e,t){ae=Q({topic:ee.l,legacySubscriberMap:ae,legacySubscriber:t})}],onExternalEvent:[function(e,t){oe=J({topic:ee.f,legacySubscriberMap:oe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offExternalEvent:[function(e,t){oe=Q({topic:ee.f,legacySubscriberMap:oe,legacySubscriber:t})}],onClose:[function(e,t){ne=J({topic:ee.d,legacySubscriberMap:ne,legacySubscriber:t,newSubscriber:()=>{t()}})}],offClose:[function(e,t){ne=Q({topic:ee.d,legacySubscriberMap:ne,legacySubscriber:t})}],enable:[Le],disable:[De],onAvailabilityChange:[function(e,t){Je=J({topic:ee.c,legacySubscriberMap:Je,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n.isChatVisible)}}),t(v===y)}],offAvailabilityChange:[function(e,t){Je=Q({topic:ee.c,legacySubscriberMap:Je,legacySubscriber:t})}],subscribeToUpdate:[Z.b],unsubscribeToUpdate:[Z.c],[me]:[St],removeFilterToEvaluate:[xt],openNewPrompt:[ie],clearPrompt:[ce],onPromptAction:[function(e,t){se=J({topic:ee.j,legacySubscriberMap:se,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offPromptAction:[function(e,t){se=Q({topic:ee.j,legacySubscriberMap:se,legacySubscriber:t})}],[ge]:[ve],[he]:[_e],clearSession:[$],[ye]:[Se],updateClientContext:[xe],onShowMedia:[function(e,t){Re=J({topic:ee.h,legacySubscriberMap:Re,legacySubscriber:t,newSubscriber:()=>{t()}})}],offShowMedia:[function(e,t){Re=Q({topic:ee.h,legacySubscriberMap:Re,legacySubscriber:t})}],onCloseMedia:[function(e,t){Ne=J({topic:ee.g,legacySubscriberMap:Ne,legacySubscriber:t,newSubscriber:()=>{t()}})}],offCloseMedia:[function(e,t){Ne=Q({topic:ee.g,legacySubscriberMap:Ne,legacySubscriber:t})}],onEvent:[function(e,t){Me=J({topic:ee.e,legacySubscriberMap:Me,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offEvent:[function(e,t){Me=Q({topic:ee.e,legacySubscriberMap:Me,legacySubscriber:t})}],[Oe]:[At],openExistingConversation:[Rt],updateWidget:[function(e,t){const n=t.details.status;Nt.a[n]?e({type:V.o,payload:t}):(Object(g.a)("Invaild status code",n),Object(be.a)({topic:V.o,payload:{data:t,error:L}}))}],updateCart:[Be],removeFromCart:[Fe],registerDevice:[qe,function(e,t){Object(be.a)({topic:ee.k,payload:{data:t,error:e}})}],onDeviceRegister:[function(e,t){Ke=J({topic:ee.k,legacySubscriberMap:Ke,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offDeviceRegister:[function(e,t){Ke=Q({topic:ee.k,legacySubscriberMap:Ke,legacySubscriber:t})}],unregisterDevice:[Xe,function(e,t){Object(be.a)({topic:ee.m,payload:{data:t,error:e}})}],onUnregisterDevice:[function(e,t){Ze=J({topic:ee.m,legacySubscriberMap:Ze,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offUnregisterDevice:[function(e,t){Ze=Q({topic:ee.m,legacySubscriberMap:Ze,legacySubscriber:t})}],onLoad:[function(e,t){Ae=J({topic:ee.a,legacySubscriberMap:Ae,legacySubscriber:t,newSubscriber:()=>{t()}})}],offLoad:[function(e,t){Ae=Q({topic:ee.a,legacySubscriberMap:Ae,legacySubscriber:t})}],onLoadComplete:[function(e,t){we=J({topic:ee.b,legacySubscriberMap:we,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offLoadComplete:[function(e,t){we=Q({topic:ee.b,legacySubscriberMap:we,legacySubscriber:t})}],goBack:[Ie],onNotification:[mt],onSeekPermission:[Tt],offSeekPermission:[function(e){Tt(0,It)}],grantPermission:[_t]},Dt=async()=>{if(!d()(b)){const e=b.shift();await Pt(...e),await Dt()}};async function Mt(e,t,n){if(!t)return;for(var a=arguments.length,o=new Array(a>3?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];const i=[h.a.emit.bind(h.a),...o];try{const e=await t(...i);n&&n(void 0,e)}catch(c){Object(g.a)(c),n&&n(c)}}async function Pt(e){const t=Lt[e]&&Lt[e][0],n=Lt[e]&&Lt[e][1],a=t&&t.dependecies&&t.dependecies.includes(B),o=t&&t.dependecies&&t.dependecies.includes(F);for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];if(o||a)return a&&!o?I()?void(n&&n(M)):C()?void f([e,...i]):void Mt(e,t,n,...i):o&&!a?R()||N()?void(n&&n(M)):w()?void f([e,...i]):void Mt(e,t,n,...i):void(R()||N()||I()?n&&n(M):w()||C()?f([e,...i]):Mt(e,t,n,...i));Mt(e,t,n,...i)}var kt=n(395),Ut=n.n(kt),Bt=n(605),Ft=n(426),Gt=n(1889),Wt=n(1802),zt=n(1890);const Vt=Object(Gt.a)("isSSOAuthorized"),$t=Object(Gt.a)("authToken"),Ht=Object(Gt.a)("oneTimeToken");class Yt{}Yt.isSSOAuthorized=Object(Wt.a)(Vt),Yt.getAuthToken=Object(Wt.a)($t),Yt.hasIsSSOAuthorized=e=>e&&Object(zt.a)("isSSOAuthorized",e),Yt.getOneTimeToken=Object(Wt.a)(Ht);var qt=n(411),Kt=n(392),Xt=n(487),Zt=n(784),Jt=n(437);var Qt=n(451),en=n(578);const tn=async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const o=await(async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const{appId:o}=Object(u.a)(),r=[{key:"idpId",value:t},{key:"x-chat-token",value:await Object(Xt.a)(o)}];return n&&r.push({key:"conversationId",value:n}),a&&r.push({key:"messageId",value:a}),r})({ssoId:t,conversationId:n,messageId:a});return`https://prod-video-chat-chat.sprinklr.com/api/livechat/authenticate/begin?${Object(Qt.e)(o)}`},nn=e=>Yt.isSSOAuthorized(Ft.a.getUserSettings(Object(u.a)()))&&!!Kt.a.getAutoLoginSSOId(qt.a.getCustomizationConfig(e)),an=async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const o=(e=>{const t=screen.width/2,n=screen.height/2,a=t-t/2,o=n-n/2;return window.open(e,"_blank",`height=${n},width=${t},top=${o},left=${a}`)})(await tn({ssoId:t,conversationId:n,messageId:a}));return(()=>{const e=window.document.createElement("iframe");e.id="subscriberIframe",e.src=`https://live-chat-static.sprinklr.com/api/livechat/authenticate/listener.html?appId=${Object(u.a)().appId}`,e.style.visibility="hidden",window.document.body.appendChild(e)})(),new Promise(((e,t)=>{let n,a;a=Object(en.d)("/logout",(()=>{i(),t()})),n=setInterval((()=>{o&&o.closed&&(i(),t())}),1500);const r=async n=>{if(n.origin.match(/(sprinklr\.com)/g))try{const{params:t}=JSON.parse(n.data);await Object(Xt.k)(Object(u.a)().appId,t.authToken),e(t)}catch(a){t(),Object(wt.b)(a)}finally{i()}},i=()=>{clearInterval(n),a&&a(),window.removeEventListener("message",r)};window.addEventListener("message",r)})).finally((()=>{o&&o.close(),(()=>{const e=document.getElementById("subscriberIframe");e&&document.body.removeChild(e)})()}))};var on=n(420),rn=n(438),cn=n(389);const sn=e=>{let{handshakeDetails:t,applicationConfig:n,getSessionToken:a}=e;if(a&&Object(ze.b)({getSessionToken:a}),t&&Object(ze.b)({userId:t.chatUser.userId}),n){const e=qt.a.getAutoExpireUserSessionTimeInMinutes(n),t=s()(n,"otherConfigs.settings.autoExpiryConfig.alertTime");Object(ze.b)({sessionExpiryTimeInMinutes:e,sessionExpiryAlertTime:t})}},ln=async e=>{const t=Ft.a.getAppId(e),n=Ft.a.getUserSettings(e),a=Yt.getAuthToken(n);if(Yt.hasIsSSOAuthorized(n)){const e=(e=>{if(e)try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error("Unable to parse user token when isSSOAuthorized",e)}return cn.a})(await Object(Xt.a)(t));Object(on.b)(e.chatUserId)&&await Object(Xt.g)(t)}a&&(await Object(Xt.g)(t),await Object(Xt.k)(t,a))};async function dn(e){const t=Ft.a.getAppId(e),n=Ft.a.getUserSettings(e),a=Ut()(Ft.a.getUserSettings(e),["authToken","isSSOAuthorized","oneTimeToken"]),o=Ft.a.getUserContext(e);let r,i;if(!!Ft.a.getSessionOrigin(Object(u.a)())){const{primaryToken:e,secondaryToken:n}=await async function(e){let t,n,a;try{t=await Object(Xt.d)(e)}catch(i){console.warn(i)}try{n=await Object(Xt.b)(e,Zt.a)}catch(i){console.warn(i)}try{a=await Object(Xt.b)(e,Zt.b)}catch(i){console.warn(i)}const o=n||a||t;let r=a||t;return r=r===o?void 0:r,{primaryToken:o,secondaryToken:r}}(t);r=e,i=n}else r=await Object(Xt.d)(t);const c={appId:t,oneTimeToken:s()(n,"oneTimeToken"),chatSessionToken:r,secondaryChatToken:i,page:Object(Jt.b)(),pageTitle:Object(Jt.c)(),referralPage:Object(Jt.d)(),timezone:Object(Jt.f)(),userAgent:Object(Jt.e)(),enforcedLocale:Ft.a.getLocale(e),fallbackLocales:Object(rn.a)(),meetingId:Ft.a.getMeetingId(e),otp:Ft.a.getOtp(e)};if(!d()(a)){const{id:e,hash:t,...n}=a;Object.assign(c,{chatUser:{userId:e,...n},chatUserSignature:t})}return d()(o)||Object.assign(c,{customContext:o}),c}const un=async e=>Object(Bt.c)(e),pn=async e=>{const t=await Object(Bt.a)(await dn(e));if(!!Ft.a.getSessionOrigin(Object(u.a)())&&await(async e=>{try{await Object(Xt.h)(e,Zt.d)}catch(t){console.warn(t)}try{await Object(Xt.h)(e,Zt.b)}catch(t){console.warn(t)}})(Ft.a.getAppId(e)),await Object(Xt.k)(Ft.a.getAppId(e),t.chatSessionToken),!t.userPreferences){const e=await Object(Xt.f)(t.chatUser.userId);return{...t,userPreferences:e}}return t},bn=e=>{h.a.on(e),A(T)},fn=async()=>{A(_),j(!1),await Dt(),Object(be.a)({topic:ee.b,payload:{error:!0}})};var hn=n(120),gn=n(718),yn=n.n(gn);function On(e){const t=Object(wt.a)();t&&t.setUser&&t.setUser({id:e.userId,username:yn()(`${e.firstName||""} ${e.lastName||""}`),email:e.email||""})}var mn=n(365),vn=n.n(mn),jn=n(473),In=n.n(jn),Cn=n(734),En=n.n(Cn),Tn=n(563),_n=n.n(Tn),Sn=n(430),xn=n.n(Sn),An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Nn=function(e){function t(){var n,a;wn(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=Rn(this,e.call.apply(e,[this].concat(r))),a.state={match:a.computeMatch(a.props.history.location.pathname)},Rn(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:An({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,a=t.history;_n()(null==n||1===vn.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=a.listen((function(){e.setState({match:e.computeMatch(a.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){En()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?vn.a.Children.only(e):null},t}(vn.a.Component);Nn.propTypes={history:xn.a.object.isRequired,children:xn.a.node},Nn.contextTypes={router:xn.a.object},Nn.childContextTypes={router:xn.a.object.isRequired};var Ln=Nn,Dn=n(462),Mn=n(366),Pn=n(370),kn=n(1281),Un=n(982),Bn=n(516),Fn=n.n(Bn),Gn=n(397),Wn=n(550),zn=n(647),Vn=n(428),$n=n(378);const Hn=e=>Object(Vn.c)(Object($n.b)(e)),Yn=e=>{const t=Object(Wn.a)(),n=Object(Gn.a)(),a=Object(Pn.d)(Hn),o=Object(p.K)(),r=qt.a.getVisibilityConfigFilter(n),{hasPassed:i}=Object(zn.a)(!o&&r,{logOnSuccess:!0,defaultValue:!1}),c=!i&&a;return Object(mn.useEffect)((()=>{i&&Object(g.a)("Sprinklr Chat hidden by visibility criteria"),a||Object(g.a)("Sprinklr Chat disabled by sdk"),j(c),Object(be.a)({topic:ee.c,payload:{data:{isChatVisible:c}}})}),[i,a,c]),Object(mn.useEffect)((()=>((async()=>{await Dt(),Object(be.a)({topic:ee.a,payload:{}}),Object(be.a)({topic:ee.b,payload:{error:!1}})})(),()=>{Object(be.a)({topic:ee.c,payload:{data:{isChatVisible:!1}}})})),[]),Fn()((()=>{Dt()}),[t]),c?e.children:null};var qn=vn.a.memo(Yn),Kn=n(731),Xn=n(818);const Zn=e=>Object(Mn.jsx)(Xn.a,{history:e.history},Object(Mn.jsx)(Kn.b,null,e.children));var Jn=n(546),Qn=n(372),ea=n(369),ta=n(377),na=n(622),aa=n(1431),oa=n(1022);function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ia(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ca=function(e){function t(){return ra(this,t),ia(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){_n()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){En()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),En()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,a=void 0,o=void 0;return vn.a.Children.forEach(t,(function(t){if(null==a&&vn.a.isValidElement(t)){var r=t.props,i=r.path,c=r.exact,s=r.strict,l=r.sensitive,d=r.from,u=i||d;o=t,a=Object(oa.a)(n.pathname,{path:u,exact:c,strict:s,sensitive:l},e.match)}})),a?vn.a.cloneElement(o,{location:n,computedMatch:a}):null},t}(vn.a.Component);ca.contextTypes={router:xn.a.shape({route:xn.a.object.isRequired}).isRequired},ca.propTypes={children:xn.a.node,location:xn.a.object};var sa=ca,la=n(1024),da=n(1023),ua=n.n(da),pa={},ba=0,fa=function(e){var t=e,n=pa[t]||(pa[t]={});if(n[e])return n[e];var a=ua.a.compile(e);return ba<1e4&&(n[e]=a,ba++),a},ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===e)return e;var n=fa(e);return n(t,{pretty:!0})},ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ma=function(e){function t(){return ya(this,t),Oa(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){_n()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(la.a)(e.to),n=Object(la.a)(this.props.to);Object(la.b)(t,n)?En()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"===typeof n?ha(n,t.params):ga({},n,{pathname:ha(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(vn.a.Component);ma.propTypes={computedMatch:xn.a.object,push:xn.a.bool,from:xn.a.string,to:xn.a.oneOfType([xn.a.string,xn.a.object]).isRequired},ma.defaultProps={push:!1},ma.contextTypes={router:xn.a.shape({history:xn.a.shape({push:xn.a.func.isRequired,replace:xn.a.func.isRequired}).isRequired,staticContext:xn.a.object}).isRequired};var va=ma,ja=n(820),Ia=n(367);const Ca=Object(Ia.a)("div",{target:"ejhhbev0"})({name:"jbngkd",styles:"display:flex;flex-direction:column;height:100%;width:100%;position:relative;"}),Ea=Object(Mn.css)("@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}"),Ta="page-fade",_a={name:"1ih49i4",styles:"opacity:0;z-index:1;overflow:hidden;"},Sa={name:"h3fsyk",styles:"opacity:1;transition:opacity 0.16s ease-in;overflow:hidden;"},xa=Object(Mn.css)(".",Ta,"-enter{",_a,";}.",Ta,"-enter.",Ta,"-enter-active{",Sa,";}.",Ta,"-exit{",Sa,";}.",Ta,"-exit.",Ta,"-exit-active{",_a,";}");var Aa=n(408),wa=n.n(Aa),Ra=n(368),Na=n(371),La=n(375),Da=n(492);const Ma="snackbar",Pa=Object(Ia.a)("div",{target:"egs66bu0"})("font-size:",Object(Ra.e)("xs"),";margin:0 auto;position:absolute;top:20%;z-index:",Da.a.SNACK_BAR,";"),ka=Object(Ia.a)("div",{target:"egs66bu1"})("max-width:70%;overflow:hidden;",(e=>Object(Ra.f)("snackBar")),";padding:0;border-radius:",Object(Ra.a)("snackBar.borderRadius"),";"),Ua=Object(Ia.a)("div",{target:"egs66bu2"})("line-height:1;",(e=>Object(Ra.f)("snackBar.message")),";",(e=>Object(Na.c)(`padding-right: ${Object(Ra.f)("snackBar.message.paddingRight")(e)};\n       padding-left: ${Object(Ra.f)("snackBar.message.paddingLeft")(e)};`,`padding-left: ${Object(Ra.f)("snackBar.message.paddingRight")(e)};\n       padding-right: ${Object(Ra.f)("snackBar.message.paddingLeft")(e)};`)),";"),Ba=Object(Mn.css)(".",Ma,"-enter{transform:translateY(-20%);transition:transform 250ms ease-in;}.",Ma,"-enter-active{transform:translateY(0);}.",Ma,"-exit{transform:translateY(0);transition:transform 250ms ease-out;}.",Ma,"-exit-active{transform:translateY(-20%);}"),Fa=Object(Ia.a)("div",{target:"egs66bu3"})("align-self:stretch;",(e=>Object(Ra.f)("snackBar.iconBox")),";",(e=>Object(Na.c)(`padding-right: ${Object(Ra.f)("snackBar.iconBox.paddingRight")(e)};\n       padding-left: ${Object(Ra.f)("snackBar.iconBox.paddingLeft")(e)};`,`padding-left: ${Object(Ra.f)("snackBar.iconBox.paddingRight")(e)};\n       padding-right: ${Object(Ra.f)("snackBar.iconBox.paddingLeft")(e)};`)),";",(e=>{var t;return Object(Ra.f)(`snackBar.iconBox.${null===(t=e.type)||void 0===t?void 0:t.toLowerCase()}`)}),";"),Ga=Object(Ia.a)(La.b,{target:"egs66bu4"})("height:14px;width:14px;",(e=>Object(Ra.f)("snackBar.iconBox.icon"))," ",(e=>{var t;return Object(Ra.f)(`snackBar.iconBox.icon.${null===(t=e.type)||void 0===t?void 0:t.toLowerCase()}`)}),"");var Wa;function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},za.apply(this,arguments)}function Va(e,t){let{title:n,titleId:a,...o}=e;return mn.createElement("svg",za({"data-spaceweb":"icon",viewBox:"0 0 14 14","data-icon-name":"SolidTickCircle",className:"sw--d3 sw--dy sw--nl sw--nm",ref:t,"aria-labelledby":a},o),n?mn.createElement("title",{id:a},n):null,Wa||(Wa=mn.createElement("path",{d:"M9.53 4.44l-3.64 3.6-1.42-1.4a.72.72 0 10-1 1.03l1.92 1.9a.72.72 0 001.01 0l4.14-4.11a.72.72 0 10-1.01-1.02zM7 0a7 7 0 11-7 7 7 7 0 017-7z",fillRule:"evenodd"})))}const $a=mn.forwardRef(Va);n.p;var Ha=n(669),Ya=n(531),qa=n(493),Ka=n(453);var Xa=()=>{const{notification:e,setNotification:t}=Object(qa.a)(),n=Object(mn.useRef)(),a=Object(mn.useMemo)((()=>s()(e,"timeout")||2e3),[e]),o=Object(Ya.a)(),r=null===e||void 0===e?void 0:e.type,i=r===Ka.a.SUCCESS?La.a.SNACKBAR_SUCCESS:La.a.SNACKBAR_FAILURE,c=r===Ka.a.SUCCESS?$a:Ha.a;return Object(mn.useEffect)((()=>{e&&(window.clearTimeout(n.current),n.current=window.setTimeout((()=>{t(void 0)}),a))}),[e,a]),Object(Mn.jsx)(vn.a.Fragment,null,Object(Mn.jsx)(Mn.Global,{styles:Ba}),Object(Mn.jsx)(na.CSSTransition,{classNames:Ma,in:Boolean(e),timeout:{enter:250,exit:250},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(Mn.jsx)(Pa,{className:"center-x-y full-width"},e?Object(Mn.jsx)(ka,{className:"center-x-y "},Object(Mn.jsx)(Fa,{className:"center-x-y",type:r,direction:o},Object(Mn.jsx)(Ga,{name:i,alt:c,type:r})),Object(Mn.jsx)(Ua,{className:"text-wrap",direction:o},(l=e.message,wa()(l)?l:Object(Mn.jsx)(ea.b,l)))):null)));var l},Za=n(947),Ja=n(733),Qa=n(667);const eo=["/logout"],to=(e,t)=>"REPLACE"===t||e&&eo.filter((t=>e.match(t))).length>0,no=e=>{let{children:t,locationKey:n,action:a}=e;const o=Object(ja.a)(n),r=Object(ja.a)(a),i=Object(mn.useCallback)((e=>vn.a.cloneElement(e,{exit:!to(o.current,r.current),enter:!to(o.current,r.current)})),[]);return Object(Mn.jsx)(na.TransitionGroup,{childFactory:i},Object(Mn.jsx)(na.CSSTransition,{key:n,classNames:Ta,timeout:300},t))};var ao=()=>Object(Mn.jsx)(vn.a.Fragment,null,Object(Mn.jsx)(Xa,null),Object(Mn.jsx)(Mn.Global,{styles:xa}),Object(Mn.jsx)(Ca,null,Object(Mn.jsx)(aa.a,{render:e=>{let{location:t,history:n}=e;return Object(Mn.jsx)(no,{locationKey:t.pathname,action:n.action},Object(Mn.jsx)(Za.a,{css:Ea},(e=>{let{LogoutPage:n,HomePage:a,ConversationPage:o,ConversationsListPage:r,SurveyPage:i,Error401Page:c,KnowledgeBasePage:s,KnowledgeBaseCategoriesPage:l,KnowledgeBaseArticlePage:d,GuidedWorkflowPage:u}=e;return Object(Mn.jsx)(sa,{location:t},Object(Mn.jsx)(aa.a,{exact:!0,path:"/logout",component:n}),Object(Mn.jsx)(aa.a,{exact:!0,path:"/home",component:a}),Object(Mn.jsx)(aa.a,{exact:!0,path:"/survey/:surveyUrl",component:i}),Object(Mn.jsx)(aa.a,{exact:!0,path:"/knowledge-base/categories/:categoryId",component:s}),Object(Mn.jsx)(aa.a,{exact:!0,path:"/knowledge-base/categories/:categoryId/categories",component:l}),Object(Mn.jsx)(aa.a,{exact:!0,path:"/knowledge-base"},Object(Mn.jsx)(va,{to:`/knowledge-base/categories/${Qa.a}`})),Object(Mn.jsx)(aa.a,{exact:!0,path:"/knowledge-base/article/:articleId",component:d}),Object(Mn.jsx)(aa.a,{path:"/conversation",render:e=>{let{match:t}=e;return Object(Mn.jsx)(sa,null,Object(Mn.jsx)(aa.a,{exact:!0,path:`${t.path}/all`,component:r}),Object(Mn.jsx)(aa.a,{exact:!0,path:`${t.path}/new/:transientConversationId?`,render:e=>Object(Mn.jsx)(o,Object(Qn.a)({},e,{pageType:Ja.a.NEW}))}),Object(Mn.jsx)(aa.a,{exact:!0,path:`${t.path}/last`,render:e=>Object(Mn.jsx)(o,Object(Qn.a)({},e,{pageType:Ja.a.LAST}))}),Object(Mn.jsx)(aa.a,{exact:!0,path:`${t.path}/:conversationId/survey/:surveyUrl`,component:i}),Object(Mn.jsx)(aa.a,{path:`${t.path}/:conversationId`,render:e=>Object(Mn.jsx)(o,Object(Qn.a)({},e,{pageType:Ja.a.EXISTING}))}),Object(Mn.jsx)(aa.a,{render:()=>Object(Mn.jsx)("div",null,"Not Found")}))}}),Object(Mn.jsx)(aa.a,{exact:!0,path:"/guided-workflow/:guidedWorkflowUrl",component:u}),Object(Mn.jsx)(aa.a,{exact:!0,path:"/401",component:c}))})))}}))),oo=n(118);const ro=Object(Mn.css)("padding-top:env(safe-area-inset-top);@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}");var io=()=>Object(Mn.jsx)(vn.a.Fragment,null,Object(Mn.jsx)(aa.a,{render:e=>{let{location:t}=e;return Object(Mn.jsx)(Za.a,{css:ro},(e=>{let{LogoutPage:n,ConversationPage:a,SurveyPage:o,Error401Page:r}=e;return Object(Mn.jsx)(sa,{location:t},Object(Mn.jsx)(aa.a,{exact:!0,path:"/logout",component:n}),Object(Mn.jsx)(aa.a,{exact:!0,path:"/home"},Object(Mn.jsx)(va,{to:"/conversation/new"})),Object(Mn.jsx)(aa.a,{exact:!0,path:"/survey/:surveyUrl",component:o}),Object(Mn.jsx)(aa.a,{path:"/conversation",render:e=>{let{conversationLocation:t,match:n}=e;return Object(Mn.jsx)(sa,{location:t},Object(Mn.jsx)(aa.a,{exact:!0,path:`${n.path}/new/:transientConversationId?`,render:e=>Object(Mn.jsx)(a,Object(Qn.a)({key:e.match.params.transientConversationId||oo.e},e,{pageType:Ja.a.NEW}))}),Object(Mn.jsx)(aa.a,{exact:!0,path:`${n.path}/last`,render:e=>Object(Mn.jsx)(a,Object(Qn.a)({},e,{pageType:Ja.a.LAST}))}),Object(Mn.jsx)(aa.a,{exact:!0,path:`${n.path}/:conversationId/survey/:surveyUrl`,component:o}),Object(Mn.jsx)(aa.a,{path:`${n.path}/:conversationId`,render:e=>Object(Mn.jsx)(a,Object(Qn.a)({key:e.match.params.conversationId},e,{pageType:Ja.a.EXISTING}))}))}}),Object(Mn.jsx)(aa.a,{exact:!0,path:"/401",component:r}))}))}}),Object(Mn.jsx)(Xa,null)),co=n(1803),so=n(1025),lo=n(432),uo=n(405),po=n(525),bo=n(1027),fo=n(732);const ho=e=>{let{theme:t}=e;return Object(Mn.css)("fill:",Object(Ra.b)("white")({theme:t}),";height:100%;width:100%;")},go=Object(Ia.a)("div",{target:"e12lx3wm0"})("position:fixed;top:0;left:0;z-index:",(e=>Object(Ra.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(Ra.f)("frame.translateZ")(e)),"px) !important;height:100%;width:100%;"),yo=Object(Ia.a)(po.a,{target:"e12lx3wm1"})({name:"774i4t",styles:"height:100%;width:100%;border-width:0px;"}),Oo=Object(Ia.a)(fo.c,{target:"e12lx3wm2"})({name:"hgqvtn",styles:"width:48px;height:48px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"}),mo=Object(Ia.a)(fo.c,{target:"e12lx3wm3"})({name:"uwwqev",styles:"width:100%;height:100%;"}),vo=Object(Ia.a)(bo.a,{target:"e12lx3wm4"})((e=>{let{isPhone:t,direction:n}=e;return t?`${Object(Na.c)("right: 20px","left: 20px")({direction:n})};`:`${Object(Na.c)("right: 40px","left: 40px")({direction:n})};`}),"");var jo=n(373),Io=n(374),Co=n(584);const Eo=Object(ea.g)({preview:{id:"preview",defaultMessage:"Preview"}});var To=Object(co.a)(Object(ea.h)((e=>{let{previewItem:t,history:n,intl:a}=e;const o=Object(ta.b)(),r=Object(jo.a)(),i=!!t&&t.type!==Co.a.DIALOGUE,{direction:c}=Object(Io.a)(),s=Object(mn.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),n.goBack()}),[n]);return Object(Mn.jsx)(go,{className:"spr-chat__modal-box spr-live-chat-frame"},Object(Mn.jsx)(yo,{name:"spr-chat__modal-frame","aria-label":a.formatMessage(Eo.preview),title:a.formatMessage(Eo.preview)},Object(Mn.jsx)(Mn.Global,{styles:(l={theme:o},Object(Mn.css)(".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:",Object(uo.k)(.2,Object(Ra.b)("charcoal")(l)),";}"))}),Object(Mn.jsx)(mn.Suspense,{fallback:Object(Mn.jsx)(Oo,null,Object(Mn.jsx)(mo,{className:"center-x center-y"}))},Object(Mn.jsx)(so.a,{previewItem:t})),i&&Object(Mn.jsx)(vo,{Icon:lo.a,iconCss:ho({theme:o}),iconName:La.a.CLOSE,"aria-label":La.a.CLOSE,direction:c,isPhone:r,onClick:s})));var l})));var _o=e=>{if(!e.search.includes("preview=1"))return null;const t=s()(e.state,"sprPreview.type");switch(t){case Co.a.DIALOGUE:return{type:t,message:s()(e.state,"sprPreview.message"),title:s()(e.state,"sprPreview.title"),cancelLabel:s()(e.state,"sprPreview.cancelLabel"),confirmationLabel:s()(e.state,"sprPreview.confirmationLabel"),onConfirm:s()(e.state,"sprPreview.onConfirm"),onCancel:s()(e.state,"sprPreview.onCancel")};case Co.a.IMAGE:case Co.a.VIDEO:return{type:t,url:s()(e.state,"sprPreview.url"),downloadParams:s()(e.state,"sprPreview.downloadParams")};default:return null}};var So=Object(co.a)((e=>{let{location:t}=e;const n=Object(mn.useMemo)((()=>_o(t)),[t.search,t.state]);return n?Object(Mn.jsx)(To,{previewItem:n}):null})),xo=n(1272),Ao=n(380),wo=n(668),Ro=n.n(wo),No=n(475),Lo=n(826),Do=n(1028),Mo=n(827),Po=n(384),ko=n(504),Uo=n(452),Bo=n(385);const Fo=e=>Object(ko.d)(Object(Po.b)(e)),Go=e=>Object(ko.f)(Object(Po.b)(e)),Wo=e=>Object(Vn.g)(Object($n.b)(e)),zo=e=>Object(ko.v)(Object(Po.b)(e)),Vo=e=>Object(ko.k)(Object(Po.b)(e)),$o=e=>{const t=Object(jo.a)(),n=Object(Pn.d)(Go),a=Object(Pn.d)(Fo),o=Object(Pn.d)(zo),r=Object(Pn.d)(Wo),i=Object(Ao.a)(Bo.g),c=Object(Pn.d)(Vo),s=Object(No.a)(),l=n.state,u=a.state,p=Ro()(l),b=Ro()(u);return Object(mn.useEffect)((()=>{r&&(t&&l&&l!==p||u===Uo.d.WAITING)&&i(!1)}),[r,l,p,i,u,b]),Object(mn.useEffect)((()=>{const e=()=>{s.info({message:`Currently on live chat tab: ${!document.hidden}`})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[s]),d()(n)&&(o||d()(a))||t&&r&&!c?null:Object(Mn.jsx)(mn.Suspense,{fallback:null},Object(Mn.jsx)(Lo.a,Object(Qn.a)({},e,{outgoingCallDetails:n,incomingCallDetails:a})))},Ho=e=>Object(ko.c)(Object(Po.b)(e)),Yo=e=>Object(ko.p)(Object(Po.b)(e)),qo=e=>{const t=Object(Pn.d)(Ho),n=Object(Pn.d)(Yo);return Object(Mn.jsx)(Mo.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId},Object(Mn.jsx)(Do.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId,isAudioCall:n},Object(Mn.jsx)($o,e)))};var Ko=vn.a.memo(qo),Xo=n(1278);const Zo=e=>`spr-cobrowse-state_${e}`,Jo=!!Ft.a.getSessionOrigin(Object(u.a)());var Qo={get:async e=>{try{const t=Zo(e);if(!Jo)return Zt.d.getItem(t);const n=await Zt.c.getItem(t);if(!n){const e=await Zt.d.getItem(t);if(e)return Zt.d.removeItem(t),await Zt.c.setItem(t,e),e}return n}catch(t){return void console.warn(t)}},set:(e,t)=>Jo?Zt.c.setItem(Zo(e),t):Zt.d.setItem(Zo(e),t),remove:e=>Jo?Zt.c.removeItem(Zo(e)):Zt.d.removeItem(Zo(e))},er=n(671),tr=n(382),nr=n(828);const ar=Object(tr.a)((()=>Promise.all([n.e(0),n.e(19)]).then(n.bind(null,1861)))),or={endCobrowseSession:er.c,resumeCobrowseSession:er.n,markCobrowseSessionFailed:er.e};var rr=()=>{const e=Object(Pn.d)($n.f),{endCobrowseSession:t,resumeCobrowseSession:n,markCobrowseSessionFailed:a}=Object(Ao.a)(or),o=Object(mn.useCallback)((()=>{t({messageId:e.messageId})}),[e.messageId]),{appId:r}=Object(mn.useMemo)((()=>Object(u.a)()),[]);return Object(mn.useEffect)((()=>{(async()=>{const e=await Qo.get(r);try{if(e){const{conversationId:t,messageId:a,agentId:o}=JSON.parse(e);n({state:{conversationId:t,messageId:a,agentId:o}})}}catch{a({reason:nr.a.RESUME_SESSION_FAILED})}})()}),[n,r]),d()(e)?null:Object(Mn.jsx)(mn.Suspense,{fallback:Object(Mn.jsx)(Xo.a,{sessionState:e.sessionState,onStopSession:o})},Object(Mn.jsx)(ar,{cobrowseState:e}))},ir=n(618);const cr=Object(Ia.a)(po.a,{target:"e1ogxy6u0"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),sr=Object(Ia.a)("div",{target:"e1ogxy6u1"})("height:100%;width:100%;display:flex;align-items:center;justify-content:center;background-image:",Object(Ra.f)("page.gradients"),";background-color:",Object(Ra.f)("page.backgroundColor"),";"),lr=Object(Ia.a)("div",{target:"e1ogxy6u2"})("height:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(Ra.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );width:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(Ra.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );border-radius:",(e=>Object(Ra.c)("page.minPadding",{defaultUnit:"px"})(e).absoluteValue?"8px":"0px"),";box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);overflow:hidden;background-color:",Object(Ra.b)("white"),";",(e=>!e.isPhone&&!Object(ir.a)()&&"max-width: 648px;\n    max-height: 95%;"),";"),dr={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"};var ur=n(401),pr=n(735),br=n(519);const fr="CONVERSATION",hr="CONVERSATION_LIST",gr="KNOWLEDGE_BASE",yr="KNOWLEDGE_BASE_LIST",Or="SURVEY",mr=["/conversation/"],vr={survey:Or,401:"401",home:"HOME","guided-workflow":"GUIDED_WORKFLOW"};var jr=n(414);const Ir=()=>{var e;const t=Object(ur.a)(),n=Object(br.a)(),a=null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.pathname,o=null===n||void 0===n?void 0:n.action,r=Object(mn.useMemo)((()=>(e=>{let t;const n=null===e||void 0===e?void 0:e.split("/");if(n&&n.length>1)switch(n[1]){case"knowledge-base":n.length>2&&(t="article"===n[2]?gr:yr);break;case"conversation":n.length>3&&"survey"===n[3]?t=Or:n.length>2&&(t="all"===n[2]?hr:fr);break;default:t=vr[n[1]]}return t})(a)),[a]);Object(mn.useEffect)((()=>{r&&((e,t)=>!("REPLACE"===t&&mr.filter((t=>null===e||void 0===e?void 0:e.match(t))).length))(a,o)&&t({action:jr.a.PAGE_OPENED,additional:{value:r}})}),[r,a])};var Cr=n(402);const Er=Object(tr.a)((()=>Promise.all([n.e(0),n.e(105)]).then(n.bind(null,1874)))),Tr=e=>{const t=Object(jo.a)(),n=Object(ur.a)();return Ir(),Object(mn.useEffect)((()=>(n({action:jr.a.CONVERSATION_WINDOW_OPENED}),()=>{n({action:jr.a.CONVERSATION_WINDOW_CLOSED})})),[]),Object(Mn.jsx)(sr,null,Object(Mn.jsx)(lr,{ref:e.pageBoxRef,className:"spr",isPhone:t},Object(p.B)()?Object(Mn.jsx)(io,null):Object(Mn.jsx)(ao,null)))};var _r=Object(ea.h)((e=>{const t=Object(Gn.a)(),n=Object(mn.useRef)(),a=Object(ta.b)(),o=e.intl.formatMessage,r=Object(pr.a)(),i=Object(Ao.a)(Dn.e),c=Object(mn.useCallback)((()=>{r(n),i()}),[r,i]);return Object(Mn.jsx)(vn.a.Fragment,null,Object(Mn.jsx)(xo.a,{theme:a}),Object(Mn.jsx)(cr,{"aria-label":o(Cr.a.liveChat),name:"spr-chat__page-frame",contentDidMount:c,title:o(Cr.a.liveChat)},Object(Mn.jsx)(Mn.Global,{styles:dr}),t&&t.autoExpireUserSessionTimeInMinutes?Object(Mn.jsx)(mn.Suspense,{fallback:null},Object(Mn.jsx)(Er,null)):null,Object(Mn.jsx)(Tr,Object(Qn.a)({},e,{pageBoxRef:n}))),Object(Mn.jsx)(Ko,{parentFrameRef:n}),Object(Mn.jsx)(rr,null),Object(Mn.jsx)(So,null))})),Sr=n(569),xr=n(122),Ar=n.n(xr),wr=n(821),Rr=n(116),Nr=n.n(Rr),Lr=n(1434),Dr=n.n(Lr),Mr=n(997),Pr=n.n(Mr),kr=n(619),Ur=n.n(kr),Br=n(552);const Fr=(e,t)=>{const n=[];return Nr()(e,((e,a)=>{"filters"===a?Nr()(e,(e=>{let{filter:a,value:o}=e;d()(a)||d()(o)||n.push({field:a.field,filterType:a.fieldType||a.filterType,filters:a.filters,values:a.values,details:{...a.details,path:t,value:o}})})):n.push(...Fr(e,t?`${t}.${a}`:a))})),n},Gr=e=>{let{triggerAlign:t,frameAlign:n}=e;if(t===Br.f.LEFT)switch(n){case Br.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:return Br.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT;case Br.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return Br.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT;case Br.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:return Br.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT;default:return n||Br.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT}switch(n){case Br.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:return Br.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT;case Br.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:return Br.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT;case Br.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:return Br.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT;default:return n||Br.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT}},Wr=e=>{let{framePath:t,passedFilters:n}=e,a=!1,o=!1;return Nr()(n,(e=>{var n,r,i,c,s,l;(null===(n=e.details)||void 0===n?void 0:n.path)===`${t}`&&null!==(r=e.details)&&void 0!==r&&null!==(i=r.value)&&void 0!==i&&i.align&&(o=!0),"trigger"===(null===(c=e.details)||void 0===c?void 0:c.path)&&null!==(s=e.details)&&void 0!==s&&null!==(l=s.value)&&void 0!==l&&l.align&&(a=!0)})),a&&!o},zr=e=>{let{styles:t,passedFilters:n}=e;if(!Wr({framePath:"frame",passedFilters:n}))return{styles:t,passedFilters:n};const a=Gr({triggerAlign:Object(Ra.f)("trigger.align",Br.f.RIGHT)({theme:{styles:t}}),frameAlign:Object(Ra.f)("frame.align")({theme:{styles:t}})});return{styles:{...t,frame:{...(null===t||void 0===t?void 0:t.frame)||cn.a,align:a}},passedFilters:n}},Vr=e=>{var t;let{styles:n,passedFilters:a}=e;if(!!(null===(t=n.proactivePrompt)||void 0===t||!t.align)||!Wr({framePath:"proactivePrompt",passedFilters:a}))return{styles:n,passedFilters:a};const o=Gr({triggerAlign:Object(Ra.f)("trigger.align",Br.f.RIGHT)({theme:{styles:n}}),frameAlign:Object(Ra.f)("proactivePrompt.align")({theme:{styles:n}})});return{styles:{...n,proactivePrompt:{...n.proactivePrompt,align:o}},passedFilters:a}};var $r=n(1435),Hr=n.n($r),Yr=n(490),qr=n.n(Yr),Kr=n(1436),Xr=n.n(Kr),Zr=n(532),Jr=n(1032);const Qr="CLASSIC",ei="MODERN",ti="HYPERSPACE";var ni=n(624),ai=n(466),oi=n(736);const ri=oi.a.CROSS;function ii(e){return Object(uo.f)(e)||Object(uo.e)(e)?e:Zr.a.charcoal}const ci=oi.a.CHEVRON;function si(e){return Object(uo.f)(e)||Object(uo.e)(e)?e:Zr.a.charcoal}const li={[Qr]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:a},styles:o}=e,r=Object(uo.c)(t.primary),i=(Object(uo.h)(.1,t.primary,t.white),Object(uo.d)(t.primary)),c=ii(t.primary),l=function(e){const t=ii(e);return t?Object(uo.k)(Object(uo.e)(t)?.95:.85,t):""}(t.primary),d=s()(o,"chatConversation.body.backgroundColor",t.white),u=Object(uo.d)(d),p=Object(Ra.f)("trigger.closeIcon.type")({theme:e})||ri,b=s()(o,"chatMessage.secondary.backgroundColor",t.azure),f=s()(o,"trigger.align",Br.f.RIGHT),{smallHeaderBackgroundColor:h,smallHeaderButtonHoverColor:g,smallHeaderContrastingColor:y,largeHeaderBackgroundColor:O,largeHeaderButtonHoverColor:m,largeHeaderContrastingColor:v}=Object(ni.c)(s()(o,"header",{}),t.primary);return{frame:{borderRadius:"8px",height:"600px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5,...Object(ni.b)(f,s()(o,"frame"))},call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:ai.c.MEDIUM,variant:ai.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:t.white,color:i,fontFamily:a,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:s()(o,"header.gradients",`linear-gradient(64deg, ${Object(uo.b)(t.primary).join(",")})`)},page:{minPadding:"2.5%",backgroundColor:Object(uo.h)(.5,Object(uo.k)(.85,t.charcoal),Object(uo.k)(.95,t.primary))},button:{standard:{default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"},[ai.d.PRIMARY]:{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i,":hover":{backgroundColor:t.primary,borderColor:t.primary,position:"relative","::after":{backgroundColor:Object(uo.e)(t.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:t.primary,borderColor:t.primary,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary}},[ai.d.SECONDARY]:{backgroundColor:t.white,borderColor:t.white,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:t.white,borderColor:t.charcoal},":disabled":{backgroundColor:t.white,borderColor:t.white,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i}},[ai.d.TERTIARY]:{backgroundColor:t.white,borderColor:t.primary,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:Object(uo.e)(t.primary)?Object(uo.j)(t.primary,.02):Object(uo.j)(t.primary,.1)},":disabled":{backgroundColor:t.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:t.white,fill:t.white}},[ai.c.LARGE]:{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:18,fontSize:n.md},[ai.c.MEDIUM]:{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:16,fontSize:n.xs}}},card:{backgroundColor:t.white,borderRadius:"4px",lg:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:0,paddingRight:36,paddingBottom:0,paddingLeft:36,fontSize:n.lg,fontWeight:600,gutterWidth:20,textAlign:"center",color:t.charcoal}},sm:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:n.lg,fontWeight:500,gutterWidth:20,textAlign:"left",color:t.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:24,paddingRight:20,paddingBottom:0,paddingLeft:20,fontWeight:600,fontSize:n.lg,color:t.charcoal},summaryCard:{paddingTop:16,paddingRight:20,paddingBottom:16,paddingLeft:20},arrow:{icon:{fill:t.primary}},hoverStyles:{backgroundColor:t.water}}},notification:{color:t.white,backgroundColor:t.blue},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontWeight:"normal",fontSize:n.sm,paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:t.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:"600"},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"lg",gutterWidth:"12"}},chatMessage:{borderRadius:"4px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:t.primary,borderColor:t.primary,color:i},secondary:{backgroundColor:b,borderColor:t.azure,color:t.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:Br.e.VERTICAL},senderName:{align:Br.d.BOTTOM},attachment:{size:Br.a.FIXED,card:{title:{color:t.charcoal,fontWeight:700,textAlign:"center",fontSize:n.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:n.sm,textAlign:"left"},color:t.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:ai.a.CENTER,button:{size:ai.c.LARGE,variant:ai.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:t.charcoal,alignSelf:"center",fontWeight:600,textAlign:"center",fontSize:n.sm},paddingTop:20,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:20,buttonAndFieldsGutterWidth:8,button:{size:ai.c.MEDIUM,variant:ai.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:ai.c.MEDIUM,variant:ai.d.SECONDARY}}}}},chatConversation:{disclaimerCard:{color:t.charcoal,borderRadius:"4px",iconBox:{paddingTop:"8px",paddingRight:"8px",paddingLeft:"8px",paddingBottom:"8px",icon:{height:"16px",width:"16px",alignSelf:"flex-start"}},description:{paddingTop:"8px",paddingRight:"12px",paddingLeft:"0px",paddingBottom:"8px"}},body:{backgroundColor:t.white,backgroundUrl:"",paddingTop:12,paddingRight:16,paddingBottom:0,paddingLeft:16},dateBubble:{color:u,backgroundColor:d,borderRadius:"20px",boxShadow:"0 2px 8px 0 rgba(10, 10, 20, 0.2)"},quickReply:{color:t.charcoal,backgroundColor:t.white,borderColor:t.ash,hoverStyles:{color:i,backgroundColor:t.primary,borderColor:t.primary}},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:t.azure,option:{fontSize:n.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:t.charcoal,borderBottomWidth:1,borderBottomColor:t.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",borderTopColor:t.ash,paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:n.md,backgroundColor:t.white,placeholder:{color:t.anchor},disabledStyles:{backgroundColor:b},focusStyles:{boxShadow:"0px 0px 10px 0px rgba(0, 0, 0, 0.1)"},button:{default:{fontSize:n.md},primary:{color:t.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:t.primary}},secondary:{button:{},icon:{fill:t.anchor,hoverStyles:{fill:t.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:t.blue},icon:{height:16,width:16,fill:t.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{backgroundColor:t.charcoal,borderRadius:4,color:t.white,iconBox:{paddingTop:"8px",paddingRight:"8px",paddingBottom:"8px",paddingLeft:"12px",icon:{failure:{fill:"#FA6274"},success:{fill:"#6AC96E"}}},message:{paddingTop:"8px",paddingRight:"12px",paddingBottom:"8px",paddingLeft:"0px"}},errorScreen:{icon:{height:40,width:40,fill:t.red},label:{fontSize:n.md,fontWeight:600,minHeight:0},button:{marginTop:16}},header:{backgroundColor:h,buttonGroupGutterWidth:"0",color:y,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:n.md,color:y},description:{fontSize:n.xs,color:y},icon:{fill:y,height:"14",width:"14"},button:{width:"40",height:"40",hoverStyles:{backgroundColor:g}},lg:{backgroundColor:O,color:v,paddingTop:28,paddingBottom:0,paddingLeft:28,paddingRight:28,logo:{marginBottom:20,height:32},title:{fontWeight:300,fontSize:n.xxxxl},description:{marginTop:8,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:n.lg},icon:{fill:v},button:{hoverStyles:{backgroundColor:m}}}},input:{default:{borderColor:t.ash,fontSize:n.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,borderRadius:4,backgroundColor:t.white,color:t.charcoal,placeholderColor:t.anchor,hoverStyles:{borderColor:t.fossil,fill:t.primary},focusStyles:{borderColor:t.primary},errorStyles:{borderColor:t.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:t.fossil,hoverStyles:{fill:t.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:l},selectedStyles:{fontWeight:600,backgroundColor:l,borderLeftWidth:2,borderLeftColor:c}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:t.water,hoverStyles:{backgroundColor:t.azure},focusStyles:{backgroundColor:t.azure},selectedStyles:{backgroundColor:t.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:t.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:t.primary,borderColor:t.primary,backgroundColor:t.primary}},option:{fontSize:n.xs,color:t.charcoal}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottom:t.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:t.white,marginTop:10,borderRadius:12,disabledStyles:{color:t.ash},selectedStyles:{backgroundColor:t.primary,color:t.white},hoverStyles:{backgroundColor:b},neighboringMonth:{color:t.anchor}}}},inputLabel:{fontSize:n.xs,fontWeight:500,color:t.anchor,labelAndInputGutterWidth:4,errorColor:t.anchor,activeColor:t.anchor},trigger:{align:f,backgroundColor:t.primary,borderWidth:1,borderColor:t.primary,backgroundHoverColor:r,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:n.xs},removeIcon:{backgroundColor:t.charcoal,fill:t.white},icon:{type:"mic",color:i,height:26,width:26},closeIcon:{type:p,color:i,height:Br.g[p].height,width:Br.g[p].width}},link:{color:s()(o,["link","color"],"#0E61F6")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(uo.j)(t.charcoal,.6)},icon:{fill:Zr.a.white,height:8,width:8}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:n.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)",fontWeight:400,backgroundColor:Object(uo.j)(t.primary,.05),hoverStyles:{color:t.white,backgroundColor:t.primary}}},statusBar:{failure:{backgroundColor:t.gray},success:{backgroundColor:t.green}}}},[ei]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:a},styles:o}=e,r=Object(uo.c)(t.primary),i=(Object(uo.h)(.1,t.primary,t.white),Object(uo.d)(t.primary)),c=si(t.primary),l=function(e){const t=si(e);return t?Object(uo.k)(Object(uo.e)(t)?.95:.85,t):""}(t.primary),d=s()(o,"chatConversation.body.backgroundColor",t.white),u=Object(uo.d)(d),p=Object(Ra.f)("trigger.closeIcon.type")({theme:e})||ci,b=s()(o,"chatMessage.secondary.backgroundColor",t.azure),f=s()(o,"trigger.align",Br.f.RIGHT),{smallHeaderBackgroundColor:h,smallHeaderButtonHoverColor:g,smallHeaderContrastingColor:y,largeHeaderBackgroundColor:O,largeHeaderButtonHoverColor:m,largeHeaderContrastingColor:v}=Object(ni.c)(s()(o,"header",{}),t.primary);return{frame:{borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5,...Object(ni.b)(f,s()(o,"frame"))},call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:ai.c.MEDIUM,variant:ai.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:t.white,color:i,fontFamily:a,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:s()(o,"header.gradients",`linear-gradient(64deg, ${Object(uo.b)(t.primary).join(",")})`)},page:{minPadding:"2.5%",backgroundColor:Object(uo.h)(.5,Object(uo.k)(.85,t.charcoal),Object(uo.k)(.95,t.primary))},button:{standard:{default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"},[ai.d.PRIMARY]:{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i,":hover":{backgroundColor:t.primary,borderColor:t.primary,position:"relative","::after":{backgroundColor:Object(uo.e)(t.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:t.primary,borderColor:t.primary,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary}},[ai.d.SECONDARY]:{backgroundColor:t.white,borderColor:t.white,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:t.white,borderColor:t.charcoal},":disabled":{backgroundColor:t.white,borderColor:t.white,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i}},[ai.d.TERTIARY]:{backgroundColor:t.white,borderColor:t.primary,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:Object(uo.e)(t.primary)?Object(uo.j)(t.primary,.02):Object(uo.j)(t.primary,.1)},":disabled":{backgroundColor:t.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:t.white,fill:t.white}},[ai.c.LARGE]:{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:10,fontSize:n.md},[ai.c.MEDIUM]:{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:8,fontSize:n.xs}}},card:{backgroundColor:t.white,borderRadius:"10px",boxShadow:"0px 2px 15px 0px rgba(0, 0, 0, 0.15)",lg:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:20,paddingRight:10,paddingBottom:0,paddingLeft:10,fontSize:n.xxl,fontWeight:600,gutterWidth:42,textAlign:"left",color:t.charcoal}},sm:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:n.lg,fontWeight:600,gutterWidth:16,textAlign:"left",color:t.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:20,paddingRight:20,paddingBottom:2,paddingLeft:20,fontSize:n.lg,fontWeight:600,color:t.charcoal},summaryCard:{paddingTop:12,paddingRight:20,paddingBottom:12,paddingLeft:20},arrow:{icon:{fill:t.primary}},hoverStyles:{backgroundColor:t.water}}},notification:{color:t.white,backgroundColor:t.red},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontSize:n.sm,fontWeight:"normal",paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:t.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:600},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"md",gutterWidth:"12"}},chatMessage:{borderRadius:"10px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:t.primary,borderColor:t.primary,color:i},secondary:{backgroundColor:b,borderColor:t.azure,color:t.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:Br.e.VERTICAL},senderName:{align:Br.d.BOTTOM},attachment:{size:Br.a.FIXED,card:{title:{color:t.charcoal,fontWeight:700,textAlign:"center",fontSize:n.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:n.sm,textAlign:"left"},color:t.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:ai.a.CENTER,button:{size:ai.c.LARGE,variant:ai.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:t.charcoal,alignSelf:"center",fontWeight:600,textAlign:"left",fontSize:n.sm},paddingTop:16,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:16,buttonAndFieldsGutterWidth:4,button:{size:ai.c.MEDIUM,variant:ai.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:ai.c.MEDIUM,variant:ai.d.SECONDARY}}}}},chatConversation:{disclaimerCard:{color:t.charcoal,borderRadius:"4px",iconBox:{paddingTop:"8px",paddingRight:"8px",paddingLeft:"8px",paddingBottom:"8px",icon:{height:"16px",width:"16px",alignSelf:"flex-start"}},description:{paddingTop:"8px",paddingRight:"12px",paddingLeft:"0px",paddingBottom:"8px"}},body:{backgroundColor:t.white,backgroundUrl:"",paddingTop:12,paddingRight:16,paddingBottom:0,paddingLeft:16},dateBubble:{color:u,backgroundColor:d,borderRadius:"14px",boxShadow:"0px 0px 6px 0px rgba(0, 0, 0, 0.15)"},quickReply:{color:t.charcoal,backgroundColor:t.white,borderColor:t.ash,hoverStyles:{color:i,backgroundColor:t.primary,borderColor:t.primary}},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:t.azure,option:{fontSize:n.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:t.charcoal,borderBottomWidth:1,borderBottomColor:t.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 16px 16px",borderTopColor:t.ash,paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:n.md,backgroundColor:t.white,placeholder:{color:t.anchor},focusStyles:{boxShadow:"0px 0px 10px 0px rgba(0, 0, 0, 0.1)"},disabledStyles:{backgroundColor:b},button:{default:{fontSize:n.md},primary:{color:t.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:t.primary}},secondary:{button:{},icon:{fill:t.anchor,hoverStyles:{fill:t.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:t.blue},icon:{height:16,width:16,fill:t.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{backgroundColor:t.charcoal,borderRadius:4,color:t.white,iconBox:{paddingTop:"8px",paddingRight:"8px",paddingBottom:"8px",paddingLeft:"12px",icon:{failure:{fill:"#FA6274"},success:{fill:"#6AC96E"}}},message:{paddingTop:"8px",paddingRight:"12px",paddingBottom:"8px",paddingLeft:"0px"}},errorScreen:{icon:{height:40,width:40,fill:t.red},label:{fontSize:n.md,fontWeight:600,minHeight:0},button:{marginTop:16}},header:{backgroundColor:h,buttonGroupGutterWidth:"0",color:y,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:n.md,color:y},description:{fontSize:n.xs,color:y},icon:{fill:y,height:"14",width:"14"},button:{width:"40",height:"40",hoverStyles:{backgroundColor:g}},lg:{backgroundColor:O,color:v,paddingTop:28,paddingBottom:20,paddingLeft:24,paddingRight:24,logo:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,height:26},title:{fontWeight:500,fontSize:n.xxxl},description:{marginTop:4,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:n.lg},icon:{fill:v},button:{hoverStyles:{backgroundColor:m}}}},input:{default:{fontSize:n.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,color:t.charcoal,backgroundColor:t.white,borderRadius:8,borderColor:t.ash,placeholderColor:t.anchor,hoverStyles:{borderColor:t.fossil,fill:t.primary},focusStyles:{borderColor:t.primary},errorStyles:{borderColor:t.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:t.fossil,hoverStyles:{fill:t.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:l},selectedStyles:{fontWeight:600,backgroundColor:l,borderLeftWidth:2,borderLeftColor:c}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:t.water,hoverStyles:{backgroundColor:t.azure},focusStyles:{backgroundColor:t.azure},selectedStyles:{backgroundColor:t.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:t.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:t.primary,borderColor:t.primary,backgroundColor:t.primary}},option:{fontSize:n.xs,color:t.charcoal}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottom:t.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:t.white,marginTop:10,borderRadius:12,disabledStyles:{color:t.ash},selectedStyles:{backgroundColor:t.primary,color:t.white},hoverStyles:{backgroundColor:b},neighboringMonth:{color:t.anchor}}}},inputLabel:{fontSize:n.xs,fontWeight:500,color:t.anchor,labelAndInputGutterWidth:4,errorColor:t.anchor,activeColor:t.anchor},trigger:{align:f,backgroundColor:t.primary,borderWidth:1,borderColor:t.primary,backgroundHoverColor:r,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:n.xs},removeIcon:{backgroundColor:t.charcoal,fill:t.white},icon:{type:"mic",color:i,height:26,width:26},closeIcon:{type:p,color:i,height:Br.g[p].height,width:Br.g[p].width}},link:{color:s()(o,["link","color"],"#0E61F6")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(uo.j)(t.charcoal,.6)},icon:{height:8,width:8,fill:Zr.a.white}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:n.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)",fontWeight:400,backgroundColor:Object(uo.j)(t.primary,.05),hoverStyles:{color:t.white,backgroundColor:t.primary}}},statusBar:{failure:{backgroundColor:t.gray},success:{backgroundColor:t.green}}}},[ti]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:a},styles:o}=e;return{tombstone:{background:"linear-gradient(to right, #f8f8fa 0%, #dbdbdb 50%, #f8f8fa 100%)"},frame:{borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5},body:{backgroundColor:t.white,color:"#ffffff",fontFamily:a,fontSize:"1.2rem",lineHeight:1.4,gradients:s()(o,"header.gradients",`linear-gradient(64deg, ${Object(uo.b)(t.primary).join(",")})`)},link:{color:s()(o,["link","color"],"#0E61F6")},trigger:{align:"right",backgroundColor:"#0a0a14",borderWidth:1,borderColor:"#0a0a14",backgroundHoverColor:"#0240cb",size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:"12px"},icon:{type:"collaborators",color:"#ffffff",height:26,width:26},closeIcon:{type:"cross",color:"#ffffff",height:14,width:14},xPadding:20,yPadding:30,border:"1px solid #1c62fd"},search:{backgroundColor:"#f8f8fd",hover:{borderColor:"#0e61f6"}},timestamp:{color:"#73737d"},createConversationButton:{borderColor:"#CAD3D6",hover:{borderColor:"#0e61f6"}},backIcon:{color:"#a9a9b2",hover:{color:"#0e61f6"}},receivedMessage:{backgroundColor:"#f5f5f5",color:"#0a0a14"},sentMessage:{backgroundColor:"#0a0a14",color:"#ffffff"},messageArea:{hover:{borderColor:"#0e61f6"}},sendIcon:{hover:{color:"#0e61f6"}}}}},di=(e,t)=>li[t](e),ui={field:"userInfo.deviceType",fieldType:"EQUALS",values:["MOBILE"]},pi={[Qr]:e=>{const{typography:{fontSizes:t}}=e;return{page:{filters:[{value:{minPadding:"0"},filter:ui}]},button:{standard:{[ai.c.LARGE]:{filters:[{value:{fontSize:t.lg},filter:ui}]},[ai.c.MEDIUM]:{filters:[{value:{fontSize:t.sm},filter:ui}]}}},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]},description:{filters:[{value:{fontSize:t.lg},filter:ui}]}},form:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]}}}},input:{default:{filters:[{value:{fontSize:t.lg,minHeight:36},filter:ui}]},checkboxGroup:{option:{filters:[{value:{fontSize:t.lg},filter:ui}]}}},inputLabel:{filters:[{value:{fontSize:t.lg},filter:ui}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:t.lg},filter:ui}]}},faq:{option:{filters:[{value:{fontSize:t.lg},filter:ui}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:t.md},filter:ui}]}},errorScreen:{label:{filters:[{value:{fontSize:t.lg},filter:ui}]}},header:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]},description:{filters:[{value:{fontSize:t.md},filter:ui}]},lg:{logo:{filters:[{value:{height:40},filter:ui}]},title:{filters:[{value:{fontSize:t.xxxxxl},filter:ui}]},description:{filters:[{value:{fontSize:t.xl},filter:ui}]}}},card:{lg:{title:{filters:[{value:{fontSize:t.xl},filter:ui}]}},sm:{title:{filters:[{value:{fontSize:t.xl},filter:ui}]}}}}},[ei]:e=>{const{typography:{fontSizes:t}}=e;return{page:{filters:[{value:{minPadding:"0"},filter:ui}]},button:{standard:{[ai.c.LARGE]:{filters:[{value:{fontSize:t.lg},filter:ui}]},[ai.c.MEDIUM]:{filters:[{value:{fontSize:t.sm,minHeight:36},filter:ui}]}}},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]},description:{filters:[{value:{fontSize:t.lg},filter:ui}]}},form:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]}}}},input:{default:{filters:[{value:{fontSize:t.lg},filter:ui}]},checkboxGroup:{option:{filters:[{value:{fontSize:t.lg},filter:ui}]}}},inputLabel:{filters:[{value:{fontSize:t.lg},filter:ui}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:t.lg},filter:ui}]}},faq:{option:{filters:[{value:{fontSize:t.lg},filter:ui}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:t.md},filter:ui}]}},errorScreen:{errorLabel:{filters:[{value:{fontSize:t.lg},filter:ui}]}},header:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]},description:{filters:[{value:{fontSize:t.md},filter:ui}]},lg:{logo:{filters:[{value:{height:40},filter:ui}]},description:{filters:[{value:{fontSize:t.xl},filter:ui}]}}}}},[ti]:()=>({})};function bi(e,t){if(!pe()(e)||d()(e))return t;const n=Hr()(e);return Nr()(t,((t,a)=>{n[a]=de()(t)?qr()(Xr()(e[a],t)):bi(e[a],t)})),n}const fi=e=>{let{appColors:t={},appTypography:n={},appIcons:a={}}=e;return{colors:Ar()({},Zr.a,t),typography:Object(Jr.a)(n),icons:a}},hi=e=>{let{appBase:t,appStyleFilters:n,skin:a}=e;const o=((e,t)=>pi[t](e))(t,a);return bi(o,n)},gi=e=>{let{appBase:t,styles:n={},skin:a}=e;return{...t,styles:Object(ni.a)(Ar()({},di({...t,styles:n},a),n))}};var yi=e=>{let{children:t}=e;const n=Object(Gn.a)(),a=Object(wr.a)(),o=Object(mn.useMemo)((()=>Ar()(n.otherConfigs.theme,Object(u.a)().theme)),[Object(u.a)().theme]),{appBase:r,appFilters:i}=Object(mn.useMemo)((()=>{const e=fi({appColors:o.colors,appTypography:o.typography,appIcons:o.icons});return{appBase:e,appFilters:Fr(hi({appBase:e,appStyleFilters:n.otherConfigs.theme.styleFilters,skin:a}),"")}}),[o,a]),c=Object(zn.a)(i),l=Object(mn.useMemo)((()=>{const e=i.filter(((e,t)=>c[t].hasPassed));let t=(e=>{let{styles:t,passedFilters:n}=e;const a=Dr()(t);return Nr()(n,(e=>{e.details&&Pr()(a,e.details.path,{...s()(a,e.details.path),...e.details.value})})),a})({styles:o.styles,passedFilters:e});return t=(e=>{let{styles:t,passedFilters:n}=e;return Ur()([zr,Vr])({styles:t,passedFilters:n}).styles})({styles:t,passedFilters:e}),gi({appBase:r,styles:t,skin:a})}),[o,i,c,a]);return Object(Mn.jsx)(ta.a,{theme:l},t)},Oi=n(553),mi=n.n(Oi),vi=n(520),ji=n(738),Ii=n(379),Ci=n(530);const Ei=vn.a.createContext(null),Ti=(e,t)=>{if(!e)return null;const{width:n,height:a,left:o,top:r}=e.getBoundingClientRect();return{width:n,height:a,left:o,right:t.innerWidth-o-n,bottom:t.innerHeight-r-a}},_i=e=>{var t;let{children:n}=e;const a=window.parent,o=!(null===(t=Object(Ii.a)().trigger)||void 0===t||!t.useCustomTrigger),r=Object(u.a)().triggerContainer,i=Object(mn.useRef)(!0),c=Object(Ci.a)(),s=Object(mn.useMemo)((()=>o&&r?a.document.querySelector(r):null),[r]),[l,d]=Object(mn.useState)((()=>Ti(s,a))),p=Object(mn.useCallback)(mi()((()=>{d((()=>Ti(s,a)))}),200),[]),b=Object(vi.a)(a,p),f=Object(ji.a)(a,p);return i.current&&(i.current=!1,s&&(b(s),f(s))),Object(mn.useLayoutEffect)((()=>{s&&p()}),[c]),o&&!s?(Object(g.a)('Error in Sprinklr Live Chat. "triggerContainer" missing in window.sprChatSettings.'),null):Object(Mn.jsx)(Ei.Provider,{value:l},n)};var Si=n(786),xi=n(565),Ai=n.n(xi),wi=n(431),Ri=n(1033);const Ni=Object(Ia.a)("div",{target:"emlrnqp0"})("transition:width ",Ri.a,"ms ease,max-height ",Ri.a,"ms ease;position:fixed;box-sizing:border-box;z-index:",(e=>Object(Ra.f)("frame.zIndex")(e)),";padding:",(e=>Object(Ra.h)("frame.margin")(e)),";transform:",(e=>`translateZ(${Object(Ra.f)("frame.translateZ")(e)}px)`),";",(e=>(e=>{const t=Object(wi.b)(Object(Ra.f)("frame.marginTop")({theme:e})),n=Object(wi.b)(Object(Ra.f)("frame.marginBottom")({theme:e})),a=Object(wi.b)(Object(Ra.f)("frame.marginLeft")({theme:e})),o=Object(wi.b)(Object(Ra.f)("frame.marginRight")({theme:e}));return Ai()([t,n,a,o],(e=>e>0))})(e.theme)&&`background-color: ${Object(uo.i)(Object(Ra.f)("frame.overlay.opacity")(e),Object(Ra.f)("frame.overlay.backgroundColour")(e))};`),";"),Li=Object(Ia.a)(Ni,{target:"emlrnqp1"})((e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:o}=e;return Object(Ri.c)({isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:o})}),""),Di=Object(Ia.a)(Ni,{target:"emlrnqp2"})((e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:o,customTriggerPosition:r}=e;return Object(Ri.b)({isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:o,customTriggerPosition:r})}),""),Mi=Object(Ia.a)("div",{target:"emlrnqp3"})("height:100%;width:100%;position:relative;overflow:hidden;box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);border-radius:",(e=>Object(Ra.a)("frame.borderRadius")(e)),";",(e=>{const t=Object(wi.b)(Object(Ra.f)("frame.marginTop")(e))>0?Object(Ra.f)("frame.borderRadius")(e):0,n=Object(wi.b)(Object(Ra.f)("frame.marginBottom")(e))>0?Object(Ra.f)("frame.borderRadius")(e):0;return e.isPhone&&`\n    border-top-left-radius: ${t};\n    border-top-right-radius: ${t};\n    border-bottom-left-radius: ${n};\n    border-bottom-right-radius: ${n};\n    box-shadow: none;`}),";"),Pi="spr-chat-box-anim",ki=Object(Ia.a)(po.a,{target:"emlrnqp4"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Ui={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"};var Bi=n(1034);const Fi=()=>Object(mn.useContext)(Ei);var Gi=n(463);const Wi=Object(tr.a)((()=>Promise.all([n.e(0),n.e(105)]).then(n.bind(null,1874)))),zi=e=>Object(Vn.g)(Object($n.b)(e)),Vi=Object(ea.h)((e=>{var t;const n=Object(Gn.a)(),a=Object(Pn.d)(zi),o=e.intl.formatMessage,r=Object(Ii.a)(),i=!(null===r||void 0===r||null===(t=r.trigger)||void 0===t||!t.hideWhenOpen),c=Object(ur.a)(),s=Object(jo.a)(),l=Object(mn.useRef)(),d=Object(pr.a)(),u=Object(Ao.a)(Dn.e),[b,f]=Object(mn.useState)(!1),h=Object(ta.b)();Ir();const g=Object(mn.useCallback)((e=>{f(e)}),[]),y=Fi(),O=y?Di:Li;Fn()((()=>{const e=a?Gi.a.CONVERSATION_WINDOW_CLOSED:Gi.a.CONVERSATION_WINDOW_OPENED;c({action:e})}),[a]);const m=Object(mn.useCallback)((()=>{d(l),u()}),[d]),v=Object(mn.useMemo)((()=>({setIsFrameMaximized:g,isFrameMaximized:b})),[g,b]),j=(I={theme:h},Object(Mn.css)(`\n  .spr-chat__box.spr-chat-box-anim-enter {\n    opacity: 0;\n    transform: translateZ(${Object(Ra.f)("frame.translateZ")(I)}px) translateY(20px) ;\n  }\n\n  .spr-chat__box.spr-chat-box-anim-enter.spr-chat-box-anim-enter-active {\n    opacity: 1;\n    transform: translateZ(${Object(Ra.f)("frame.translateZ")(I)}px) translateY(0px) ;\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n\n  .spr-chat__box.spr-chat-box-anim-enter-done {\n    transform: translateZ(${Object(Ra.f)("frame.translateZ")(I)}px) ;\n  }\n\n  .spr-chat__box.spr-chat-box-anim-exit {\n    opacity: 1;\n    transform: translateZ(${Object(Ra.f)("frame.translateZ")(I)}px) translateY(0);\n  }\n\n  .spr-chat__box.spr-chat-box-anim-exit.spr-chat-box-anim-exit-active {\n    opacity: 0;\n    transform: translateZ(${Object(Ra.f)("frame.translateZ")(I)}px) translateY(20px);\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n`,""));var I;return Object(Mn.jsx)(vn.a.Fragment,null,Object(Mn.jsx)(Mn.Global,{styles:j}),Object(Mn.jsx)(na.CSSTransition,{in:!a,classNames:Pi,timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(Mn.jsx)(Bi.a.Provider,{value:v},Object(Mn.jsx)(O,{className:"spr-chat__box spr-live-chat-frame",ref:e.frameRef,isPhone:s,customTriggerPosition:y,isTriggerHiddenWhenMaximised:i,isMaximized:b},Object(Mn.jsx)(Mi,{isPhone:s},Object(Mn.jsx)(ki,{"aria-label":o(Cr.a.liveChat),name:"spr-chat__box-frame",isPhone:s,contentDidMount:m,title:o(Cr.a.liveChat)},Object(Mn.jsx)(Mn.Global,{styles:Ui}),Object(Mn.jsx)("div",{className:"full-height full-width",ref:l},n&&n.autoExpireUserSessionTimeInMinutes?Object(Mn.jsx)(mn.Suspense,{fallback:null},Object(Mn.jsx)(Wi,null)):null,Object(p.B)()?Object(Mn.jsx)(io,null):Object(Mn.jsx)(ao,null))))))))}));var $i=vn.a.forwardRef(((e,t)=>Object(Mn.jsx)(Vi,{frameRef:t}))),Hi=n(416),Yi=n.n(Hi),qi=n(534),Ki=n(585),Xi=n(390);const Zi=Object(tr.a)((()=>n.e(48).then(n.bind(null,1862)))),Ji=e=>Object(Vn.f)(Object($n.b)(e)),Qi=e=>Object(Xi.b)(Object(Xi.p)(Object(Po.c)(e)));var ec=e=>{var t,n;const a=Object(Pn.d)($n.d),o=Object(Pn.d)(Ji),{isLocked:r,lockReason:i}=Object(qi.a)(),c=Object(Pn.d)(Qi),s=Fi(),l=Object(Gn.a)(),u=!(null===l||void 0===l||null===(t=l.otherConfigs)||void 0===t||null===(n=t.proactivePrompt)||void 0===n||!n.showWithBoxOpen),p=Object(mn.useRef)();p.current=Object(mn.useMemo)((()=>{if(p.current){const e=p.current.id,t=Yi()(a,(t=>t.id===e));if(!d()(t)){const e=Object(Ki.g)({prompt:t,isLocked:r});if(e)return e}}return Yi()(a,(e=>{const t=Object(Ki.g)({prompt:e,isLocked:r});if(t)return t}))}),[a,r]);const b=o&&!s&&!u;return d()(p.current)||b||!c?(r&&Object(g.a)("Cannot initiate prompt: ",i),null):Object(Mn.jsx)(mn.Suspense,{fallback:null},Object(Mn.jsx)(Zi,Object(Qn.a)({},e,{visiblePrompt:p.current,customTriggerPosition:s,showWithBoxOpen:u})))},tc=n(620),nc=n(791);const ac=Object(Ia.a)("div",{target:"egvnsbi0"})("display:flex;background:transparent;overflow:hidden;border-radius:",(e=>Object(Ra.a)("trigger.overlayIconButton.borderRadius",Object(Ra.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";bottom:",(e=>Object(Si.b)(e)),"px;height:",Object(Ra.f)("trigger.overlayIconButton.button.height"),"px;",(e=>Object(Si.d)({leftOffset:Object(Si.f)(e),rightOffset:Object(Si.f)(e)})(e)),";width:",Object(Ra.f)("trigger.overlayIconButton.button.width"),"px;position:fixed;transform:translatez(",(e=>Object(Ra.f)("frame.translateZ")(e)),"px);"),oc=Object(Ia.a)(po.a,{target:"egvnsbi1"})({name:"1aywylc",styles:"border:0 none;box-shadow:0 2px 32px 0 rgba(0,0,0,0.15),0 1px 6px 0 rgba(0,0,0,0.09);height:100%;width:100%;"}),rc=Object(Ia.a)(nc.a,{target:"egvnsbi2"})("font-size:",Object(Ra.f)("trigger.overlayIconButton.fontSize"),";height:",Object(Ra.f)("trigger.overlayIconButton.button.height"),"px;width:",Object(Ra.f)("trigger.overlayIconButton.button.width"),"px;line-height:",Object(Ra.f)("trigger.overlayIconButton.button.height"),"px;border-radius:",(e=>Object(Ra.a)("trigger.overlayIconButton.borderRadius",Object(Ra.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";"),ic="spr-chat-proactive-box-anim",cc=Object(Mn.css)(".",ic,"-enter{opacity:0;}.",ic,"-enter.",ic,"-enter-active{opacity:1;transition:opacity 0.3s ease,transform 0.15s ease;}.",ic,"-enter-done,.",ic,"-appear{}.",ic,"-exit{opacity:1;}.",ic,"-exit.",ic,"-exit-active{opacity:0;transition:opacity 0s ease,transform 0s ease;}"),sc=Object(Ia.a)("div",{target:"egvnsbi3"})("position:relative;z-index:",(e=>Object(Ra.f)("frame.zIndex")(e)),";");var lc=n(570);const dc=Object(tc.a)((e=>Object(Vn.g)(Object($n.b)(e))),(e=>Object(Vn.f)(Object($n.b)(e))),(e=>Object(Xi.v)(Object(Xi.p)(Object($n.c)(e)))),((e,t,n)=>({isMinimized:e,isChatTriggerHidden:t,totalUnreadCount:n})));var uc=Object(ea.h)((e=>{const{isMinimized:t,totalUnreadCount:n,isChatTriggerHidden:a}=Object(Pn.d)(dc),o=Object(ta.b)(),r=e.intl.formatMessage;return a?null:Object(Mn.jsx)(vn.a.Fragment,null,Object(Mn.jsx)(Mn.Global,{styles:cc}),Object(Mn.jsx)(na.CSSTransition,{in:t,timeout:{enter:300,exit:0},classNames:ic,mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(Mn.jsx)(sc,{className:"notification-container"},Object(Mn.jsx)(lc.a,{unreadCount:n,shouldPlay:!0}),n>0&&Object(Mn.jsx)(ac,{className:"spr-chat__notification-box spr-live-chat-frame",theme:o},Object(Mn.jsx)(oc,{name:"spr-chat__notification-frame","aria-label":r(Cr.a.liveChatNotification),title:r(Cr.a.liveChatNotification)},Object(Mn.jsx)(rc,{className:"center-x-y",count:n}))))))}));var pc=()=>{const e=Object(mn.useRef)(null);return Object(Mn.jsx)(_i,null,Object(Mn.jsx)(ec,{chatBoxFrameRef:e}),Object(Mn.jsx)(Si.a,null),Object(Mn.jsx)(uc,null),Object(Mn.jsx)($i,{ref:e}),Object(Mn.jsx)(Ko,{parentFrameRef:e}),Object(Mn.jsx)(rr,null),Object(Mn.jsx)(So,null))},bc=n(651),fc=n(567),hc=n(1013);const gc=e=>Object(Mn.jsx)(hc.a.Provider,{value:Object(mn.useState)(void 0)},e.children);var yc=n(1012),Oc=n(790),mc=n(1031),vc=n(793);const jc=vn.a.createContext("MODERN");var Ic=e=>Object(Mn.jsx)(jc.Provider,{value:e.skin},e.children),Cc=n(831),Ec=n(1016);var Tc=e=>{let{theme:t,children:n}=e;const a=Object(mn.useContext)(jc),o=Object(mn.useMemo)((()=>{if(!t)return;const e=fi({appColors:t.colors,appTypography:t.typography,appIcons:t.icons});return gi({appBase:e,styles:t.styles,skin:a})}),[t,a]);return o?Object(Mn.jsx)(ta.a,{theme:o},n):Object(Mn.jsx)(vn.a.Fragment,null,n)};const _c={direction:"ltr",device:"DESKTOP",skin:"CLASSIC",intl:{locale:"en",messages:{},defaultLocale:"en"},ownerDocument:window.document},Sc=e=>{let{theme:t,direction:n,device:a,skin:o,ownerDocument:r,intl:i,children:c}=e;const s=Object(mn.useMemo)((()=>{return e=r,Object(vc.a)({container:e.head});var e}),[r]);return Object(Mn.jsx)(Mn.CacheProvider,{value:s},Object(Mn.jsx)(ea.e,i,Object(Mn.jsx)(Ic,{skin:o},Object(Mn.jsx)(Tc,{theme:t},Object(Mn.jsx)(Ec.b,{direction:n},Object(Mn.jsx)(Cc.b,{device:a},c))))))};Sc.defaultProps=_c;var xc=Sc,Ac=n(580);var wc=vn.a.memo(Object(ea.h)((e=>{const t=Object(Ac.a)(),n=Object(Io.a)(),a=Object(wr.a)(),o=Object(mn.useMemo)((()=>({locale:e.intl.locale,messages:e.intl.messages,defaultLocale:e.intl.defaultLocale})),[e.intl]);return Object(Mn.jsx)(xc,{ownerDocument:window.parent.document,direction:n.direction,device:t.device,skin:a,intl:o},e.children)}))),Rc=n(1026),Nc=n(114),Lc=n.n(Nc);const Dc=e=>{let{id:t,filters:n}=e;const a=Object(zn.a)(n);return Object(mn.useEffect)((()=>{Object(be.a)({topic:me,payload:{data:{id:t,filters:n,results:de()(a)?Lc()(a,(e=>e.hasPassed)):a.hasPassed}}})}),[a,n]),null},Mc=e=>Object(Vn.b)(Object($n.b)(e)),Pc=vn.a.memo((e=>{const t=Object(Pn.d)(Mc);return Object(Mn.jsx)(vn.a.Fragment,null,Lc()(t,((e,t)=>Object(Mn.jsx)(Dc,{key:t,id:t,filters:e}))),e.children)}));var kc=n(1288),Uc=n(404),Bc=n(623);var Fc=function(e){let{applicationConfig:t,store:n,history:a}=e;const o=Object(u.b)(),r=Object(p.K)()?_r:pc,i=Object(mn.useCallback)((e=>Object(Uc.f)(Object($n.g)(n.getState()),e)),[]),c=Object(mn.useMemo)((()=>Object(Bc.a)(o.document)),[o.document]);return Object(mn.useEffect)((()=>{n.dispatch(Object(Dn.d)())}),[n]),Object(Mn.jsx)(Mn.CacheProvider,{value:c},Object(Mn.jsx)(Oc.a,{window:o},Object(Mn.jsx)(Pn.a,{store:n},Object(Mn.jsx)(Jn.b.Provider,{value:t},Object(Mn.jsx)(Ka.b,null,Object(Mn.jsx)(gc,null,Object(Mn.jsx)(Un.b,null,Object(Mn.jsx)(bc.a,null,Object(Mn.jsx)(Rc.b,null,Object(Mn.jsx)(Zn,{history:a},Object(Mn.jsx)(fc.b,null,Object(Mn.jsx)(yc.a,null,Object(Mn.jsx)(Pc,null,Object(Mn.jsx)(kc.b,null,Object(Mn.jsx)(qn,null,Object(Mn.jsx)(wc,null,Object(Mn.jsx)(yi,null,Object(Mn.jsx)(Sr.b.Provider,{value:i},Object(Mn.jsx)(kn.b,null,Object(Mn.jsx)(mc.a.Provider,{value:a},Object(Mn.jsx)(Ln,{history:a},Object(Mn.jsx)(r,null))))))))))))))))))))))},Gc=n(484),Wc=function(e){return"@@redux-saga/"+e},zc=Wc("CANCEL_PROMISE"),Vc=Wc("CHANNEL_END"),$c=Wc("IO"),Hc=Wc("MATCH"),Yc=Wc("MULTICAST"),qc=Wc("SAGA_ACTION"),Kc=Wc("SELF_CANCELLATION"),Xc=Wc("TASK"),Zc=Wc("TASK_CANCEL"),Jc=Wc("TERMINATE"),Qc=Wc("LOCATION"),es=n(529),ts=n(617),ns=function(e){return null===e||void 0===e},as=function(e){return null!==e&&void 0!==e},os=function(e){return"function"===typeof e},rs=function(e){return"string"===typeof e},is=Array.isArray,cs=function(e){return e&&os(e.then)},ss=function(e){return e&&os(e.next)&&os(e.throw)},ls=function e(t){return t&&(rs(t)||ps(t)||os(t)||is(t)&&t.every(e))},ds=function(e){return e&&os(e.take)&&os(e.close)},us=function(e){return os(e)&&e.hasOwnProperty("toString")},ps=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var bs=function(e,t){var n;void 0===t&&(t=!0);var a=new Promise((function(a){n=setTimeout(a,e,t)}));return a[zc]=function(){clearTimeout(n)},a},fs=function(e){return function(){return e}}(!0),hs=function(){};var gs=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var ys=function(e,t){Object(es.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function Os(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function ms(e){var t=!1;return function(){t||(t=!0,e())}}var vs=function(e){throw e},js=function(e){return{value:e,done:!0}};function Is(e,t,n){void 0===t&&(t=vs),void 0===n&&(n="iterator");var a={meta:{name:n},next:e,throw:t,return:js,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(a[Symbol.iterator]=function(){return a}),a}function Cs(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var Es=function(e){return Array.apply(null,new Array(e))},Ts=function(e){return function(t){return e(Object.defineProperty(t,qc,{value:!0}))}},_s=function(e){return e===Jc},Ss=function(e){return e===Zc},xs=function(e){return _s(e)||Ss(e)};function As(e,t){var n=Object.keys(e),a=n.length;var o,r=0,i=is(e)?Es(a):{},c={};return n.forEach((function(e){var n=function(n,c){o||(c||xs(n)?(t.cancel(),t(n,c)):(i[e]=n,++r===a&&(o=!0,t(i))))};n.cancel=hs,c[e]=n})),t.cancel=function(){o||(o=!0,n.forEach((function(e){return c[e].cancel()})))},c}function ws(e){return{name:e.name||"anonymous",location:Rs(e)}}function Rs(e){return e[Qc]}var Ns={isEmpty:fs,put:hs,take:hs};function Ls(e,t){void 0===e&&(e=10);var n=new Array(e),a=0,o=0,r=0,i=function(t){n[o]=t,o=(o+1)%e,a++},c=function(){if(0!=a){var t=n[r];return n[r]=null,a--,r=(r+1)%e,t}},s=function(){for(var e=[];a;)e.push(c());return e};return{isEmpty:function(){return 0==a},put:function(c){var l;if(a<e)i(c);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=c,r=o=(o+1)%e;break;case 4:l=2*e,n=s(),a=n.length,o=n.length,r=0,n.length=l,e=l,i(c)}},take:c,flush:s}}var Ds=function(){return Ns},Ms=function(e){return Ls(e,3)},Ps=function(e){return Ls(e,4)},ks=Object.freeze({__proto__:null,none:Ds,fixed:function(e){return Ls(e,1)},dropping:function(e){return Ls(e,2)},sliding:Ms,expanding:Ps}),Us="TAKE",Bs="PUT",Fs="ALL",Gs="RACE",Ws="CALL",zs="FORK",Vs="CANCEL",$s="SELECT",Hs="ACTION_CHANNEL",Ys="CANCELLED",qs=function(e,t){var n;return(n={})[$c]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Ks=function(e){return qs(zs,Object(es.a)({},e.payload,{detached:!0}))};function Xs(e,t){return void 0===e&&(e="*"),ls(e)?qs(Us,{pattern:e}):ds(n=e)&&n[Yc]&&as(t)&&ls(t)?qs(Us,{channel:e,pattern:t}):ds(e)?qs(Us,{channel:e}):void 0;var n}function Zs(e,t){return ns(t)&&(t=e,e=void 0),qs(Bs,{channel:e,action:t})}function Js(e){var t=qs(Fs,e);return t.combinator=!0,t}function Qs(e){var t=qs(Gs,e);return t.combinator=!0,t}function el(e,t){var n,a=null;return os(e)?n=e:(is(e)?(a=e[0],n=e[1]):(a=e.context,n=e.fn),a&&rs(n)&&os(a[n])&&(n=a[n])),{context:a,fn:n,args:t}}function tl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return qs(Ws,el(e,n))}function nl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return qs(zs,el(e,n))}function al(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Ks(nl.apply(void 0,[e].concat(n)))}function ol(e){return void 0===e&&(e=Kc),qs(Vs,e)}function rl(e){void 0===e&&(e=gs);for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return qs($s,{selector:e,args:n})}function il(e,t){return qs(Hs,{pattern:e,buffer:t})}var cl=tl.bind(null,bs);function sl(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var ll=sl,dl=[],ul=0;function pl(e){try{hl(),e()}finally{gl()}}function bl(e){dl.push(e),ul||(hl(),yl())}function fl(e){try{return hl(),e()}finally{yl()}}function hl(){ul++}function gl(){ul--}function yl(){var e;for(gl();!ul&&void 0!==(e=dl.shift());)pl(e)}var Ol=function(e){return function(t){return e.some((function(e){return Cl(e)(t)}))}},ml=function(e){return function(t){return e(t)}},vl=function(e){return function(t){return t.type===String(e)}},jl=function(e){return function(t){return t.type===e}},Il=function(){return fs};function Cl(e){var t="*"===e?Il:rs(e)?vl:is(e)?Ol:us(e)?vl:os(e)?ml:ps(e)?jl:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var El={type:Vc},Tl=function(e){return e&&e.type===Vc};function _l(e){void 0===e&&(e=Ps());var t=!1,n=[];return{take:function(a){t&&e.isEmpty()?a(El):e.isEmpty()?(n.push(a),a.cancel=function(){Os(n,a)}):a(e.take())},put:function(a){if(!t){if(0===n.length)return e.put(a);n.shift()(a)}},flush:function(n){t&&e.isEmpty()?n(El):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var a=0,o=e.length;a<o;a++){(0,e[a])(El)}}}}}function Sl(e,t){void 0===t&&(t=Ds());var n,a=!1,o=_l(t),r=function(){a||(a=!0,os(n)&&n(),o.close())};return n=ms(n=e((function(e){Tl(e)?r():o.put(e)}))),a&&n(),{take:o.take,flush:o.flush,close:r}}function xl(){var e=function(){var e,t=!1,n=[],a=n,o=function(){a===n&&(a=n.slice())},r=function(){t=!0;var e=n=a;a=[],e.forEach((function(e){e(El)}))};return(e={})[Yc]=!0,e.put=function(e){if(!t)if(Tl(e))r();else for(var o=n=a,i=0,c=o.length;i<c;i++){var s=o[i];s[Hc](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=Il),t?e(El):(e[Hc]=n,o(),a.push(e),e.cancel=ms((function(){o(),Os(a,e)})))},e.close=r,e}(),t=e.put;return e.put=function(e){e[qc]?t(e):bl((function(){t(e)}))},e}function Al(e,t){var n=e[zc];os(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var wl,Rl=0,Nl=function(){return++Rl};function Ll(e){e.isRunning()&&e.cancel()}var Dl=((wl={}).TAKE=function(e,t,n){var a=t.channel,o=void 0===a?e.channel:a,r=t.pattern,i=t.maybe,c=function(e){e instanceof Error?n(e,!0):!Tl(e)||i?n(e):n(Jc)};try{o.take(c,as(r)?Cl(r):null)}catch(s){return void n(s,!0)}n.cancel=c.cancel},wl.PUT=function(e,t,n){var a=t.channel,o=t.action,r=t.resolve;bl((function(){var t;try{t=(a?a.put:e.dispatch)(o)}catch(i){return void n(i,!0)}r&&cs(t)?Al(t,n):n(t)}))},wl.ALL=function(e,t,n,a){var o=a.digestEffect,r=Rl,i=Object.keys(t);if(0!==i.length){var c=As(t,n);i.forEach((function(e){o(t[e],r,c[e],e)}))}else n(is(t)?[]:{})},wl.RACE=function(e,t,n,a){var o=a.digestEffect,r=Rl,i=Object.keys(t),c=is(t)?Es(i.length):{},s={},l=!1;i.forEach((function(e){var t=function(t,a){l||(a||xs(t)?(n.cancel(),n(t,a)):(n.cancel(),l=!0,c[e]=t,n(c)))};t.cancel=hs,s[e]=t})),n.cancel=function(){l||(l=!0,i.forEach((function(e){return s[e].cancel()})))},i.forEach((function(e){l||o(t[e],r,s[e],e)}))},wl.CALL=function(e,t,n,a){var o=t.context,r=t.fn,i=t.args,c=a.task;try{var s=r.apply(o,i);if(cs(s))return void Al(s,n);if(ss(s))return void zl(e,s,c.context,Rl,ws(r),!1,n);n(s)}catch(l){n(l,!0)}},wl.CPS=function(e,t,n){var a=t.context,o=t.fn,r=t.args;try{var i=function(e,t){ns(e)?n(t):n(e,!0)};o.apply(a,r.concat(i)),i.cancel&&(n.cancel=i.cancel)}catch(c){n(c,!0)}},wl.FORK=function(e,t,n,a){var o=t.context,r=t.fn,i=t.args,c=t.detached,s=a.task,l=function(e){var t=e.context,n=e.fn,a=e.args;try{var o=n.apply(t,a);if(ss(o))return o;var r=!1;return Is((function(e){return r?{value:e,done:!0}:(r=!0,{value:o,done:!cs(o)})}))}catch(i){return Is((function(){throw i}))}}({context:o,fn:r,args:i}),d=function(e,t){return e.isSagaIterator?{name:e.meta.name}:ws(t)}(l,r);fl((function(){var t=zl(e,l,s.context,Rl,d,c,void 0);c?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},wl.JOIN=function(e,t,n,a){var o=a.task,r=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&Os(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(is(t)){if(0===t.length)return void n([]);var i=As(t,n);t.forEach((function(e,t){r(e,i[t])}))}else r(t,n)},wl.CANCEL=function(e,t,n,a){var o=a.task;t===Kc?Ll(o):is(t)?t.forEach(Ll):Ll(t),n()},wl.SELECT=function(e,t,n){var a=t.selector,o=t.args;try{n(a.apply(void 0,[e.getState()].concat(o)))}catch(r){n(r,!0)}},wl.ACTION_CHANNEL=function(e,t,n){var a=t.pattern,o=_l(t.buffer),r=Cl(a),i=function t(n){Tl(n)||e.channel.take(t,r),o.put(n)},c=o.close;o.close=function(){i.cancel(),c()},e.channel.take(i,r),n(o)},wl.CANCELLED=function(e,t,n,a){n(a.task.isCancelled())},wl.FLUSH=function(e,t,n){t.flush(n)},wl.GET_CONTEXT=function(e,t,n,a){n(a.task.context[t])},wl.SET_CONTEXT=function(e,t,n,a){var o=a.task;ys(o.context,t),n()},wl);function Ml(e,t){return e+"?"+t}function Pl(e){var t=e.name,n=e.location;return n?t+"  "+Ml(n.fileName,n.lineNumber):t}function kl(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Ul=null,Bl=[],Fl=function(){Ul=null,Bl.length=0},Gl=function(){var e=Bl[0],t=Bl.slice(1),n=e.crashedEffect?function(e){var t=Rs(e);return t?t.code+"  "+Ml(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+Pl(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+Pl(e.meta)})),[kl(Bl)]).join("\n")};function Wl(e,t,n,a,o,r,i){var c;void 0===i&&(i=hs);var s,l,d=0,u=null,p=[],b=Object.create(n),f=function(e,t,n){var a,o=[],r=!1;function i(e){t(),s(),n(e,!0)}function c(t){o.push(t),t.cont=function(c,s){r||(Os(o,t),t.cont=hs,s?i(c):(t===e&&(a=c),o.length||(r=!0,n(a))))}}function s(){r||(r=!0,o.forEach((function(e){e.cont=hs,e.cancel()})),o=[])}return c(e),{addTask:c,cancelAll:s,abort:i,getTasks:function(){return o}}}(t,(function(){p.push.apply(p,f.getTasks().map((function(e){return e.meta.name})))}),h);function h(t,n){if(n){if(d=2,(r={meta:o,cancelledTasks:p}).crashedEffect=Ul,Bl.push(r),g.isRoot){var a=Gl();Fl(),e.onError(t,{sagaStack:a})}l=t,u&&u.reject(t)}else t===Zc?d=1:1!==d&&(d=3),s=t,u&&u.resolve(t);var r;g.cont(t,n),g.joiners.forEach((function(e){e.cb(t,n)})),g.joiners=null}var g=((c={})[Xc]=!0,c.id=a,c.meta=o,c.isRoot=r,c.context=b,c.joiners=[],c.queue=f,c.cancel=function(){0===d&&(d=1,f.cancelAll(),h(Zc,!1))},c.cont=i,c.end=h,c.setContext=function(e){ys(b,e)},c.toPromise=function(){return u||(u=ll(),2===d?u.reject(l):0!==d&&u.resolve(s)),u.promise},c.isRunning=function(){return 0===d},c.isCancelled=function(){return 1===d||0===d&&1===t.status},c.isAborted=function(){return 2===d},c.result=function(){return s},c.error=function(){return l},c);return g}function zl(e,t,n,a,o,r,i){var c=e.finalizeRunEffect((function(t,n,a){if(cs(t))Al(t,a);else if(ss(t))zl(e,t,l.context,n,o,!1,a);else if(t&&t[$c]){(0,Dl[t.type])(e,t.payload,a,d)}else a(t)}));u.cancel=hs;var s={meta:o,cancel:function(){0===s.status&&(s.status=1,u(Zc))},status:0},l=Wl(e,s,n,a,o,r,i),d={task:l,digestEffect:p};return i&&(i.cancel=l.cancel),u(),l;function u(e,n){try{var o;n?(o=t.throw(e),Fl()):Ss(e)?(s.status=1,u.cancel(),o=os(t.return)?t.return(Zc):{done:!0,value:Zc}):o=_s(e)?os(t.return)?t.return():{done:!0}:t.next(e),o.done?(1!==s.status&&(s.status=3),s.cont(o.value)):p(o.value,a,u)}catch(r){if(1===s.status)throw r;s.status=2,s.cont(r,!0)}}function p(t,n,a,o){void 0===o&&(o="");var r,i=Nl();function s(n,o){r||(r=!0,a.cancel=hs,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(i,n):e.sagaMonitor.effectResolved(i,n)),o&&function(e){Ul=e}(t),a(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:n,label:o,effect:t}),s.cancel=hs,a.cancel=function(){r||(r=!0,s.cancel(),s.cancel=hs,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},c(t,i,s)}}function Vl(e,t){var n=e.channel,a=void 0===n?xl():n,o=e.dispatch,r=e.getState,i=e.context,c=void 0===i?{}:i,s=e.sagaMonitor,l=e.effectMiddlewares,d=e.onError,u=void 0===d?Cs:d;for(var p=arguments.length,b=new Array(p>2?p-2:0),f=2;f<p;f++)b[f-2]=arguments[f];var h=t.apply(void 0,b);var g,y=Nl();if(s&&(s.rootSagaStarted=s.rootSagaStarted||hs,s.effectTriggered=s.effectTriggered||hs,s.effectResolved=s.effectResolved||hs,s.effectRejected=s.effectRejected||hs,s.effectCancelled=s.effectCancelled||hs,s.actionDispatched=s.actionDispatched||hs,s.rootSagaStarted({effectId:y,saga:t,args:b})),l){var O=Gc.d.apply(void 0,l);g=function(e){return function(t,n,a){return O((function(t){return e(t,n,a)}))(t)}}}else g=gs;var m={channel:a,dispatch:Ts(o),getState:r,sagaMonitor:s,onError:u,finalizeRunEffect:g};return fl((function(){var e=zl(m,h,c,y,ws(t),!0,void 0);return s&&s.effectResolved(y,e),e}))}var $l=function(e){var t,n=void 0===e?{}:e,a=n.context,o=void 0===a?{}:a,r=n.channel,i=void 0===r?xl():r,c=n.sagaMonitor,s=Object(ts.a)(n,["context","channel","sagaMonitor"]);function l(e){var n=e.getState,a=e.dispatch;return t=Vl.bind(null,Object(es.a)({},s,{context:o,channel:i,dispatch:a,getState:n,sagaMonitor:c})),function(e){return function(t){c&&c.actionDispatched&&c.actionDispatched(t);var n=e(t);return i.put(t),n}}}return l.run=function(){return t.apply(void 0,arguments)},l.setContext=function(e){ys(o,e)},l},Hl=$l,Yl=n(551),ql=n(439);class Kl{constructor(){this.data={}}setReducer(e){return this.data.reducer=e,this}setSaga(e){return this.data.saga=e,this}setPreloadedState(e){return this.data.preloadedState=e,this}setHTTPClient(e){return this.data.httpClient=e,this}setApplicationConfig(e){return e&&(this.data.applicationConfig=e),this}setHandshakeDetails(e){return e&&(this.data.handshakeDetails=e),this}setChatSettings(e){return e&&(this.data.chatSettings=e),this}build(){const{applicationConfig:e,handshakeDetails:t,chatSettings:n,httpClient:a,reducer:o,preloadedState:r,saga:i}=this.data,c=n.clientContext;_n()(a,"HTTP Client is not configured"),Object(Yl.b)(a),_n()(o,"Reducer is not configured");const s=[];const l=Hl();s.push(l);const d=Object(Gc.e)(o,r,Object(Gc.a)(...s));i&&l.run(i);const u={payload:{applicationConfig:e,handshakeDetails:t,clientContext:c},type:ql.a};return d.dispatch(u),this.data.store=d,d}}var Xl=function(e){return{done:!0,value:e}},Zl={};function Jl(e){return ds(e)?"channel":us(e)?String(e):os(e)?e.name:String(e)}function Ql(e,t,n){var a,o,r,i=t;function c(t,n){if(i===Zl)return Xl(t);if(n&&!o)throw i=Zl,n;a&&a(t);var c=n?e[o](n):e[i]();return i=c.nextState,r=c.effect,a=c.stateUpdater,o=c.errorState,i===Zl?Xl(t):r}return Is(c,(function(e){return c(null,e)}),n)}function ed(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var r,i={done:!1,value:Xs(e)},c=function(e){return{done:!1,value:nl.apply(void 0,[t].concat(a,[e]))}},s=function(e){return r=e};return Ql({q1:function(){return{nextState:"q2",effect:i,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(r)}}},"q1","takeEvery("+Jl(e)+", "+t.name+")")}function td(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var r,i,c={done:!1,value:Xs(e)},s=function(e){return{done:!1,value:nl.apply(void 0,[t].concat(a,[e]))}},l=function(e){return{done:!1,value:ol(e)}},d=function(e){return r=e},u=function(e){return i=e};return Ql({q1:function(){return{nextState:"q2",effect:c,stateUpdater:u}},q2:function(){return r?{nextState:"q3",effect:l(r)}:{nextState:"q1",effect:s(i),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:s(i),stateUpdater:d}}},"q1","takeLatest("+Jl(e)+", "+t.name+")")}function nd(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var r,i={done:!1,value:Xs(e)},c=function(e){return{done:!1,value:tl.apply(void 0,[t].concat(a,[e]))}},s=function(e){return r=e};return Ql({q1:function(){return{nextState:"q2",effect:i,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(r)}}},"q1","takeLeading("+Jl(e)+", "+t.name+")")}function ad(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return nl.apply(void 0,[ed,e,t].concat(a))}var od=n(455),rd=n(460),id=n.n(rd),cd=n(41),sd=n.n(cd),ld=n(583),dd=n(424);const ud=e=>({userId:e,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:"",locale:"en"});function*pd(e){try{const t=Lc()(e,(e=>e.sender)),n=yield tl(ld.a,e),a=Lc()(n,(e=>dd.a.getId(e)));let o=[];Nr()(t,(e=>{!a.includes(e)&&Object(on.c)(e)&&(o=[...o,ud(e)])})),yield Zs({type:U.e,payload:{users:[...n,...o]}})}catch(t){Object(wt.b)(t)}}function*bd(e){try{const t=id()(e);if(0===t.length)return;const n=((e,t)=>{const n={};return sd()(t,((t,a)=>{const o=a.sender;return n[o]||!!Object(Uc.g)(e,o)||(n[o]=o,t.push(a)),t}),[])})(yield rl(Po.h),t);if(0===n.length)return;yield tl(pd,n)}catch(t){Object(wt.b)(t)}}function*fd(e){try{yield tl(pd,id()(e))}catch(t){Object(wt.b)(t)}}var hd=n(446);function gd(e){return e.type===rt||e.type===it}function*yd(e){try{yield Js(e.filter(gd).map((e=>Zs(e))))}catch(t){Object(wt.b)(t)}}function Od(e){return e.type===ht}const md=e=>"USER"===e,vd=new Set(["WORK_QUEUE","TASK_QUEUE","HOLDING_QUEUE"]);function*jd(e){try{const{assignmentTime:n,assignedTo:a,unassignedFrom:o,conversationId:r,newAssigneeType:i,oldAssigneeType:c}=e.payload,s=[];a&&md(i)&&s.push({conversationId:r,sender:a}),o&&md(c)&&s.push({conversationId:r,sender:o}),yield tl(bd,s),yield Zs(Object(od.a)({conversationId:r,workQueueAssigned:(t=i,vd.has(t)),agentAssigned:md(i)}));const l=yield rl((e=>Object(Uc.g)(Object(Po.h)(e),a))),d={currentlyAssignedUser:l,previouslyAssignedUser:yield rl((e=>Object(Uc.g)(Object(Po.h)(e),o))),assignmentTime:n};md(i)&&(yield Zs(Object(Dn.c)({conversationId:r,additional:d,action:jr.a.AGENT_ASSIGNED})))}catch(n){Object(wt.b)(n)}var t}function*Id(e){try{const t=e.filter(Od);yield Js(t.map(jd))}catch(t){Object(wt.b)(t)}}function*Cd(e){try{const{events:t}=e.payload;yield Js([tl(yd,t),tl(Id,t)])}catch(t){Object(wt.b)(t)}}function*Ed(){try{yield ad(hd.k,Cd)}catch(e){Object(wt.b)(e)}}function*Td(e){yield cl(e),yield Zs(Object(Dn.h)())}function*_d(){let e;const t=yield il([rt,it]);for(;;)try{const{type:n,payload:a}=yield Xs(t);e&&!e.isCancelled()&&(yield ol(e)),n===rt&&(e=yield nl(Td,a.waitTime),yield Zs(Object(Dn.f)({waitTime:a.waitTime,reason:a.reason}))),n===it&&(yield Zs(Object(Dn.h)()))}catch(n){Object(wt.b)(n)}}function*Sd(){yield Js([nl(_d)])}function*xd(){try{yield Js([nl(Ed),nl(Sd)])}catch(e){Object(wt.b)(e)}}var Ad=n(819),wd=n.n(Ad),Rd=n(419),Nd=n(391),Ld=n(435),Dd=n(474),Md=n(427),Pd=n.n(Md);function kd(e){let{shouldFetchNumberOfOpenConversation:t,size:n,cursor:a}=e;return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){let e=`/livechat/conversation/fetch?fetchNumberOfOpenConversations=${t}&sortKey=lastInteractionTime`;n&&(e=`${e}&size=${n}`),a&&a.after&&(e=`${e}&after=${a.after}`),a&&a.before&&(e=`${e}&before=${a.before}`);return(yield Yl.a.post(e,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function Ud(e,t,n){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){const a=wa()(n)?{data:n}:n,o=[...Object.keys(a)];return(yield Yl.a.post(e,a,{headers:Object.assign(Object.assign({},t),{"Content-Type":"application/x-www-form-urlencoded"}),baseURL:"",transformRequest:[e=>(Nr()(e,((t,n)=>{Pd()(o,n)||delete e[n]})),e)]})).data}))}function Bd(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post(`/livechat/conversation/fetch/${e}`,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function Fd(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post(`/livechat/conversation/fetch/case/${e}`,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function Gd(e,t){let{size:n,cursor:a}=t;return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){const t=[{key:"conversationId",value:e}];n&&t.push({key:"size",value:n}),a&&t.push({key:"cursor",value:a}),t.push({key:"includeMaskedDeletedMessages",value:!0});const o=t.map((e=>`${e.key}=${e.value}`)).join("&");return(yield Yl.a.post(`/livechat/conversation/fetchMessages?${o}`,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function Wd(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post(`/livechat/conversation/closeConversation?conversationId=${e}`,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function zd(){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post("/livechat/conversation/closeAll",void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function Vd(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post(`/livechat/conversation/delete?conversationId=${e}`,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function $d(){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post("/livechat/conversation/deleteAll",void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function Hd(e,t){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post(`/livechat/conversation/updateDisclaimer/${e}?disclaimerStatus=${t}`,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function Yd(e,t){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){const n={conversationId:e,messageId:t};return(yield Yl.a.post("/livechat/conversation/fetchMessage",void 0,{params:n,backoff:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function qd(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post("/livechat/appointment/slots",{slotDefinitionId:e.slotDefinitionId,startTime:e.selectedDate.getTime(),timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function Kd(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post("/livechat/appointment/reserve",{p:{startTime:e.selectedDate.getTime(),selectedSlot:e.selectedSlot,slotDefinitionId:e.slotDefinitionId,timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function Xd(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post("/livechat/conversation/new",{p:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function Zd(e,t,n,a){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post("/livechat/conversation/suggestions",{p:Object.assign({conversationId:e,query:t,locale:a},n)},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function Jd(e){let{context:t,updateLatest:n}=e;return Yl.a.post(`/livechat/conversation/updateConversationDetails?updateLatest=${n}`,{p:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function Qd(e){let{conversationId:t,context:n}=e;return Yl.a.post(`/livechat/conversation/updateConversationDetails?conversationId=${t}`,{p:n},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function eu(e){return Yl.a.post(`/livechat/conversation/cancelAsset/${e}`,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function tu(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return Yl.a.post(`/livechat/conversation/markSurveyOpened/${e}`,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}))}function nu(){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post("/livechat/conversation/fetchNumberOfOpenConversations",void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}function au(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return Yl.a.post(`/livechat/conversation/markTimeOfDelivery?messageIds=${e.join(",")}`,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}))}var ou=n(413);function*ru(e){Object(Dd.k)(e)&&(yield Zs(Object(ou.p)(e)))}function iu(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){let t=e;Object(Dd.j)(e)||(t=Ut()(e,"id"));const n=yield function(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post("/livechat/conversation/send",{p:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}(t);return n}))}function*cu(e){try{return yield tl(iu,e)}catch(t){return void Object(wt.b)(t)}}function*su(e){const t=e.id,n=Nd.a.getConversationId(e);let a;const o=s()(Ld.a.getAttachment(Nd.a.getMessagePayload(e)),"messageId");try{a=yield tl(iu,e)}catch(r){throw yield Zs({type:Te.I,payload:{chatMessage:new Nd.a(e).setCreationTime(Date.now()).build(),conversationId:Nd.a.getConversationId(e)}}),yield Zs({payload:{conversationId:n,transientId:t,postbackParentMessageId:o},type:Te.F}),r}Object(Dd.k)(a)&&(yield Zs({payload:{chatMessage:a,conversationId:n,transientId:t},type:Te.G}))}var lu=n(500);function*du(e){try{const t=lu.a.makeOutgoing().makeTextMessage(e.payload);yield tl(ru,t),yield tl(su,t)}catch(t){Object(wt.b)(t)}}function*uu(){yield ad(Te.Z,du)}var pu=n(398);const bu=(e,t)=>{const n=Ld.a.getAttachment(Nd.a.getMessagePayload(e));return k()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{clickedButtonId:t.buttonId}:{}),{submitted:!n.reSubmittable})}}})},fu=(e,t)=>{const n=Ld.a.getAttachment(Nd.a.getMessagePayload(e));return k()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{filledForm:t.filledForm}:{}),{submitted:!0})}}})},hu={[pu.c.CARD]:bu,[pu.c.CAROUSEL]:bu,[pu.c.CO_BROWSE_INVITE]:bu,[pu.c.PRODUCT_CARD]:bu,[pu.c.PRODUCT_SHOWCASE_CARD]:bu,[pu.c.INFO_CARD]:bu,[pu.c.PRODUCT_BANNER]:bu,[pu.c.PRODUCT_LIST]:bu,[pu.c.FORM]:fu,[pu.c.CONTACT_DETAILS_FORM]:fu,[pu.c.SECURE_FORM]:fu,[pu.c.APPOINTMENT]:(e,t)=>k()(e,{messagePayload:{attachment:{$merge:{selectedDate:t.selectedDate,selectedSlot:t.selectedSlot,submitted:!0}}}}),[pu.c.SURVEY]:(e,t)=>k()(e,{messagePayload:{attachment:{$merge:{opened:!!t.opened,submitted:!!t.submitted}}}})},gu=(e,t)=>{if(!e||!t)return{};switch(Ld.a.getAttachment(Nd.a.getMessagePayload(e)).type){case pu.c.CAROUSEL:case pu.c.CO_BROWSE_INVITE:case pu.c.PRODUCT_CARD:case pu.c.PRODUCT_SHOWCASE_CARD:case pu.c.INFO_CARD:case pu.c.PRODUCT_BANNER:case pu.c.PRODUCT_LIST:case pu.c.CARD:return{buttonId:Ld.a.getAttachment(Nd.a.getMessagePayload(t)).buttonId};case pu.c.SURVEY:return{submitted:!Ld.a.getAttachment(Nd.a.getMessagePayload(t)).reSubmittable,opened:!0};case pu.c.SECURE_FORM:case pu.c.FORM:case pu.c.CONTACT_DETAILS_FORM:return{filledForm:Ld.a.getAttachment(Nd.a.getMessagePayload(t)).filledForm};case pu.c.APPOINTMENT:return{selectedDate:Ld.a.getAttachment(Nd.a.getMessagePayload(t)).selectedDate,selectedSlot:Ld.a.getAttachment(Nd.a.getMessagePayload(t)).selectedSlot};default:return{}}};function*yu(e){let{chatMessage:t,conversationId:n,params:a}=e;if(!t)return null;const o=hu[Ld.a.getAttachment(Nd.a.getMessagePayload(t)).type];if(o){const e=o(t,a);return yield Zs({type:Te.I,payload:{chatMessage:e,conversationId:n}}),e}return null}function*Ou(e){const{postback:{messageId:t},conversationId:n}=e.payload;let a;const o=yield rl(Po.c),r=Object(Xi.j)(Object(Xi.l)(o,n),t);try{const t=lu.a.makeOutgoing().makeTemplatePostbackAttachmentMessage(e.payload);a=yield tl(yu,{chatMessage:r,conversationId:n,params:gu(r,t)}),t&&(yield tl(ru,t),yield tl(su,t),e.promise.resolve())}catch(i){a&&(yield Zs({type:Te.I,payload:{chatMessage:r,conversationId:n}})),e.promise.reject(),Object(wt.b)(i)}}function*mu(){yield ad(Te.Y,Ou)}function*vu(e){try{const t=lu.a.makeOutgoing().makeQuickReplyPostbackAttachmentMessage(e.payload);t&&(yield tl(ru,t),yield tl(su,t))}catch(t){Object(wt.b)(t)}}function*ju(){yield ad(Te.R,vu)}const Iu="/co-browse/conversation",Cu={headers:{"Content-Type":"application/x-www-form-urlencoded"}},Eu=e=>{let{messageId:t,markCompletedSession:n}=e;return Object(Rd.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Yl.a.post(`${Iu}/${n?"completed":"cancelled"}?messageId=${t}`,void 0,Cu)).data}))},Tu=e=>{let{messageId:t,actionPayload:n}=e;return Object(Rd.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Yl.a.post(`${Iu}/push?messageId=${t}`,{p:{type:"CO_BROWSE",payload:n}},Cu)).data}))},_u=e=>{let{messageId:t,payload:n}=e;return Object(Rd.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Yl.a.post(`${Iu}/push/status?messageId=${t}`,{p:n},Cu)).data}))},Su=e=>{let{messageId:t,otp:n,additionalInfo:a}=e;return Object(Rd.__awaiter)(void 0,void 0,void 0,(function*(){return _u({messageId:t,payload:{status:"SUCCESS",otp:n,additionalInfo:a}})}))},xu=e=>{let{messageId:t,reason:n}=e;return Object(Rd.__awaiter)(void 0,void 0,void 0,(function*(){return _u({messageId:t,payload:{status:"FAILED",reason:n}})}))},Au=e=>{let{messageId:t,payload:n}=e;return Yl.a.post(`${Iu}/event?messageId=${t}`,{p:n},Cu)},wu=e=>{let{messageId:t}=e;return Object(Rd.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Yl.a.post(`${Iu}/session/live?messageId=${t}`,void 0,Cu)).data}))};var Ru=n(728);function*Nu(e){try{const{messageId:t}=yield rl(Po.f);yield tl(Tu,{messageId:t,actionPayload:e.payload})}catch(t){Object(wt.b)(t)}}function*Lu(e){const{messageId:t,conversationId:n,agentId:a}=yield rl(Po.f);try{const{otp:o,additionalInfo:r}=e.payload;yield tl(Su,{messageId:t,otp:o,additionalInfo:r}),yield Zs(Object(er.i)({state:{messageId:t,conversationId:n,agentId:a}}))}catch(o){try{yield Zs(Object(er.e)({reason:nr.a.OTP_SEND_FAILED})),yield tl(xu,{messageId:t,reason:nr.a.OTP_SEND_FAILED})}catch(r){Object(wt.b)(o)}}}function*Du(e){try{const{messageId:t,reason:n}=e.payload;yield Zs(Object(er.e)({reason:n})),yield tl(xu,{messageId:t,reason:n})}catch(t){Object(wt.b)(t)}}function*Mu(e){let{messageId:t}=e;const[n,a]=yield Qs([Xs((e=>{let{type:n,payload:a}=e;return n===Te.G&&s()(a,"chatMessage.messagePayload.attachment.messageId")===t})),Xs((e=>{let{type:n,payload:a}=e;return n===Te.F&&s()(a,"postbackParentMessageId")===t})),Xs(Ru.g),Xs(Ru.h)]);n&&(yield Zs(Object(er.p)())),a&&(yield Zs(Object(er.e)({reason:nr.a.POSTBACK_SEND_FAILED})))}function*Pu(e){try{const{messageId:t}=yield rl(Po.f);yield tl(Au,{messageId:t,payload:e.payload})}catch(t){Object(wt.b)(t)}}function*ku(e){try{const{messageId:t,endedByAgent:n,markCompletedSession:a}=e.payload;if(n||!t)return;return void(yield tl(Eu,{messageId:t,markCompletedSession:a}))}catch(t){Object(wt.b)(t)}}function*Uu(e){try{const{shouldNotifyAgent:t,mode:n}=e.payload;t&&(yield Zs(Object(er.j)({type:n,payload:{status:"ACCEPT"}})))}catch(t){Object(wt.b)(t)}}function*Bu(e){try{const{mode:t}=e.payload;yield Zs(Object(er.j)({type:t,payload:{status:"REJECT"}}))}catch(t){Object(wt.b)(t)}}function*Fu(e){try{const{mode:t}=e.payload;yield Zs(Object(er.j)({type:t,payload:{status:"STOP"}}))}catch(t){Object(wt.b)(t)}}function*Gu(e){const{messageId:t,conversationId:n,agentId:a}=e.payload.state;try{const[e]=yield Js([tl(wu,{messageId:t}),tl(bd,{sender:a,conversationId:n})]);e?yield Zs(Object(er.o)({state:{conversationId:n,messageId:t,agentId:a}})):yield Zs(Object(er.e)({reason:nr.a.RESUME_SESSION_FAILED}))}catch(o){yield Zs(Object(er.f)({messageId:t,reason:nr.a.RESUME_SESSION_FAILED})),Object(wt.b)(o)}}function*Wu(){yield ad(Ru.g,ku)}function*zu(){yield ad(Ru.o,Lu)}function*Vu(){yield ad(Ru.p,Du)}function*$u(){yield ad(Ru.a,Uu)}function*Hu(){yield ad(Ru.d,Bu)}function*Yu(){yield ad(Ru.b,Fu)}function*qu(){yield ad(Ru.e,Nu)}function*Ku(){yield ad(Ru.k,Gu)}function*Xu(){yield ad(Ru.f,Pu)}function*Zu(){yield Js([nl(zu),nl(Vu),nl(Wu),nl($u),nl(Hu),nl(Yu),nl(qu),nl(Ku),nl(Xu)])}var Ju=n(505);function*Qu(e){const t=e?id()(e):Ju.a;if(0===t.length)return;const n=Nd.a.getConversationId(t[0]),a=Lc()(t,(e=>({sender:Nd.a.getSender(e),conversationId:n})));yield tl(bd,a)}var ep=n(412),tp=n.n(ep),np=n(833),ap=n(834),op=n(663),rp=n(82),ip=n(1038);const cp=(e,t)=>{const n=dd.a.getId(t),a=Ld.a.getAttachment(Nd.a.getMessagePayload(e)),o=Object(ip.a)(a,{user:t}),r=Ai()(np.a.getFields(ap.a.getForm(a)),(e=>{const{id:t,validator:n}=e;return"EQUALITY"!==n&&d()(o[t])}));return!Object(on.b)(n)&&r},sp=(e,t,n,a)=>{let o;return o="string"===typeof e?(new Nd.a).setMessagePayload((new Ld.a).setMessageType(op.b).setMessageText(e).setMessageDisableManualResponse(!!a).build()).build():e,lu.a.makeSent().makeMessage(Object.assign({messageId:n,conversationId:t,sender:oo.b},o))},lp=e=>{if(wa()(e))return e;switch(Object(hn.f)(e)?s()(e,"response.status",404):-1){case 401:case 404:return rp.a.NOT_FOUND;case 406:return rp.a.NOT_ACCEPTABLE;default:return rp.a.UNEXPECTED_ERROR}};var dp=n(604),up=n(489);let pp={};function*bp(e){try{const n=e.payload.conversationId;if(pp[n]){for(;;){const[t,a]=yield Qs([Xs(Te.L),Xs(Te.M)]);if(s()(t||a,"payload.transientConversationId")===n){e.promise&&(t&&e.promise.resolve({conversationId:t.payload.conversationResponse.id,caseNumber:t.payload.conversationResponse.caseNumber}),a&&e.promise.reject(a.payload.error));break}}return}try{pp[n]=!0;const t=yield rl(Po.c),a=yield rl(Po.d),o=tp()(a),r=Object(Xi.l)(t,n),i=Object(Xi.p)(t),c=Object(Xi.g)(i,n),l=s()(Object(Xi.f)(i,n),"assignToUser"),d=Object(Xi.w)(r),u=Object(Xi.e)(Object(Xi.p)(t),n)||{},p=u.clickedOnPrompt,b=yield tl(Xd,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d?{chatMessages:Object(Xi.k)(r).map((e=>({messagePayload:Nd.a.getMessagePayload(e),sender:Nd.a.getSender(e)})))}:void 0),{createCase:Object(Xi.A)(Object(Xi.p)(t),n),startedByContext:c}),u),e.payload.appContext),!p&&o?{creativeId:o.additional.creativeId,interceptId:o.additional.interceptId,clickedOnPrompt:!1}:{}),{assignToUser:l})),f=Object(Uc.b)(yield rl(Po.h));yield Zs({payload:{transientConversationId:n,conversationResponse:b,botUserIds:f},type:Te.L}),e.promise&&e.promise.resolve({conversationId:b.id,caseNumber:b.caseNumber})}catch(t){yield Zs({type:Te.M,payload:{transientConversationId:e.payload.conversationId,error:lp(t)}}),e.promise&&e.promise.reject(lp(t)),Object(wt.b)(t)}finally{delete pp[e.payload.conversationId]}}catch(n){}}function*fp(e){try{const t=qr()(id()(Kt.a.getDefaultMessages(qt.a.getCustomizationConfig(e)))),n=qr()(t.map(((e,t)=>sp(e,oo.e,`${oo.d}${t}`))));if(n.length){const e=yield rl(Po.h),t=n.map((t=>{const n=Object(dp.e)(e,Nd.a.getSender(t));return Zs(Object(od.g)(t,n))}));yield Js(t)}return n}catch(t){Object(wt.b)(t)}}function*hp(e,t){try{const n=Kt.a.getContactDetailsMessage(qt.a.getCustomizationConfig(e)),a=[];if(n&&cp(n,up.a.getChatUser(t))){const e=sp(n,oo.e,oo.c),t=yield rl(Po.h),o=Object(dp.e)(t,Nd.a.getSender(e));a.push(e),yield Zs(Object(od.g)(e,o))}return a}catch(n){Object(wt.b)(n)}}function*gp(e,t){try{const n=yield tl(fp,e),a=yield tl(hp,e,t);return[...n,...a]}catch(n){Object(wt.b)(n)}}function yp(){pp={}}function*Op(){try{const t=s()(Object(Uc.c)(yield rl(Po.h)),"userId");for(;;)try{const e=yield rl(Po.c),n=Object(Xi.l)(e,oo.e),a=Object(Xi.j)(n,oo.c);if(!a)break;const{payload:{users:o}}=yield Xs(U.e),r=o.find((e=>e.userId===t));r&&!cp(a,r)&&(yield Zs(Object(od.h)(oo.e,oo.c)))}catch(e){Object(wt.b)(e)}}catch(e){Object(wt.b)(e)}}function*mp(){try{yield ad(ql.c,yp)}catch(e){Object(wt.b)(e)}}function*vp(){try{yield ad(Te.K,bp)}catch(e){Object(wt.b)(e)}}function*jp(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield Xs(ql.a);yield tl(gp,e,t),yield Js([nl(Op),nl(vp),nl(mp)])}catch(e){Object(wt.b)(e)}}var Ip=n(547);function*Cp(e){const{payload:t}=e,{actionParams:n}=t;n.actionType===Ip.a&&(yield Zs(Object(od.i)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}function*Ep(e){const{payload:t}=e,{actionParams:n}=t;n.actionType===Ip.b&&(yield Zs(Object(od.j)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}function*Tp(e){yield Js([tl(Cp,e),tl(Ep,e)])}function*_p(e){const{messageId:t,conversationId:n}=e.payload,a=yield rl(Po.c),o=Object(Xi.j)(Object(Xi.l)(a,n),t);let r;try{r=yield tl(yu,{chatMessage:o,conversationId:n,params:{opened:!0}}),yield tl(tu,t)}catch(i){r&&(yield Zs({type:Te.I,payload:{chatMessage:o,conversationId:n}})),Object(wt.b)(i)}}function*Sp(e){const{attachment:t}=e.payload,n=s()(t,"opened");try{return void(n||(yield tl(_p,e)))}catch(a){Object(wt.b)(a)}}function*xp(){yield ad(Te.V,Sp)}var Ap=n(535),wp=n(726),Rp=n(566),Np=n(464),Lp=n(835),Dp=n(665),Mp=n(661),Pp=n(1268),kp=n(491);function Up(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return Yl.a.post("/livechat/event/publish",{p:Object.assign({type:e.type},e.payload)},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}))}var Bp=n(659);const Fp=e=>Object(kp.e)(Object(Po.e)(e));function Gp(e){return e===Ip.a||e===Ip.b}function Wp(e){return e===wp.a.OPEN_URL}function zp(e){return e===wp.a.DIAL}function Vp(e){return e===wp.a.FETCH_APPOINTMENT_TIME_SLOTS}function $p(e){return e===wp.a.RESERVE_APPOINTMENT_TIME_SLOT}function Hp(e){return e===wp.a.START_VIDEO_CALL}function Yp(e){return e===wp.a.START_AUDIO_CALL}function qp(e){return e===wp.a.REJOIN_CALL}function*Kp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{if(!(yield rl(Fp)))for(;;){const{payload:e}=yield Xs(hd.e);if(e.status===Bp.a.CONNECTED)break}return yield tl(e,t)}catch(a){if(Object(hn.c)(a)&&n>1)return yield tl(Kp,e,t,n-1);throw a}}function Xp(e,t){return lu.a.makeSent().makeMessage({messageId:e.id,messagePayload:Nd.a.getMessagePayload(e),conversationId:t,sender:Nd.a.getSender(e),creationTime:Nd.a.getCreationTime(e),clientMessageId:Nd.a.getClientMessageId(e),deleted:Nd.a.getDeleted(e)})}function*Zp(e){try{const{payload:t}=e,{conversationId:n,cursor:a}=t,o=yield tl(Gd,n,{size:t.size,cursor:a}),r=qr()(o.results.map((e=>Xp(e,n))));yield tl(Qu,r),yield Zs({payload:{conversationMessagesResponse:Object.assign(Object.assign({},o),{results:r}),conversationId:n,cursor:a},type:Te.m}),e.promise&&e.promise.resolve()}catch(t){e.promise&&e.promise.reject(),yield Zs({type:Te.n,payload:{conversationId:e.payload.conversationId}}),Object(wt.b)(t)}}function*Jp(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:o}=t,r=o?yield tl($d):yield tl(Vd,a);yield Zs(Object(od.a)({conversationId:a,includeAll:o,deleted:!0,surveyUrl:r.surveyUrl})),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(wt.b)(t)}}function*Qp(){try{yield ad(Te.i,Jp)}catch(e){Object(wt.b)(e)}}function*eb(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:o}=t,r=o?yield tl(zd):yield tl(Wd,a);yield Zs(Object(od.a)({conversationId:a,includeAll:o,closed:!0,surveyUrl:r.surveyUrl})),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(wt.b)(t)}}function*tb(){try{yield ad(Te.h,eb)}catch(e){Object(wt.b)(e)}}function*nb(){try{yield ad(Te.l,Zp)}catch(e){Object(wt.b)(e)}}function*ab(e){try{const{query:t,conversationId:n,faqAttachment:a,locale:o}=e.payload,r=yield tl(Zd,n,t,a,o);e.promise&&e.promise.resolve(r)}catch(t){e.promise&&e.promise.reject(),Object(wt.b)(t)}}function*ob(){try{yield ad(Te.A,ab)}catch(e){Object(wt.b)(e)}}function*rb(e){try{const t=sd()(e,((e,t)=>{const n=Np.a.getParticipants(t);return Nr()(n,(n=>{e.push({sender:n,conversationId:t.id})})),e}),[]);yield tl(bd,t)}catch(t){Object(wt.b)(t)}}function*ib(){try{for(;;)try{const e=yield Xs(Te.f),t=yield tl(kd,e.payload);yield tl(rb,t.results);const n=yield rl(Po.h),a=Object(Uc.b)(n),o=Object(Uc.d)(n);yield Zs({payload:{conversationResponse:t,botUserIds:a,chatUserId:o},type:Te.g})}catch(e){Object(wt.b)(e)}}catch(t){Object(wt.b)(t)}}function*cb(){try{for(;;){let n,a,o;const r=yield Xs(Te.s);a=r.payload.caseId,n=r.payload.conversationId,o=r.payload.context;const i=yield rl(Po.h),c=Object(Uc.b)(i),s=Object(Uc.d)(i);try{const e=yield tl(Fd,r.payload.caseId);yield Zs({payload:{caseId:a,conversationResponse:e,botUserIds:c,chatUserId:s},type:Te.t})}catch(e){try{if(Object(hn.a)(e))throw e;{const e=yield tl(Xd,Object.assign({createCase:!0,caseId:a},o));yield Zs({payload:{caseId:a,conversationResponse:e,botUserIds:c,chatUserId:s},type:Te.t})}}catch(t){yield Zs({payload:{conversationId:n,error:lp(t)},type:Te.u})}}}}catch(n){Object(wt.b)(n)}}function*sb(){try{for(;;){let t;try{const e=yield Xs(Te.v);t=e.payload.conversationId;const n=yield tl(Bd,e.payload.conversationId),a=yield rl(Po.h),o=Object(Uc.b)(a),r=Object(Uc.d)(a);yield Zs({payload:{conversationResponse:n,botUserIds:o,chatUserId:r},type:Te.w})}catch(e){yield Zs({payload:{conversationId:t,error:lp(e)},type:Te.x}),Object(wt.b)(e)}}}catch(t){Object(wt.b)(t)}}function*lb(e){try{for(;;){const n=yield rl(Fp);try{if(n){const t=e.payload,{conversationId:n}=t,a=Xp(yield tl(Yd,n,t.messageId),n);return yield tl(Qu,a),a}yield Xs(hd.e)}catch(t){if(Object(wt.b)(t),!Object(hn.c)(t))break}}return null}catch(n){return Object(wt.b)(n),null}}function*db(e){try{const t=e.payload;yield Zs(Object(od.k)({type:t.actionType,payload:Ut()(e.payload,["actionType"])}))}catch(t){Object(wt.b)(t)}}function*ub(e){try{const t=yield tl(lb,e);t&&(yield Zs({type:Te.I,payload:{chatMessage:t,conversationId:Nd.a.getConversationId(t)}}))}catch(t){Object(wt.b)(t)}}function*pb(e){try{const t=yield rl(Po.c),n=Object(Xi.p)(t),a=Object(Uc.c)(yield rl(Po.h)),{sender:o,deleted:r,closed:i,caseNumber:c,conversationId:s}=e.payload,l=Object(Xi.f)(n,s);(o!==a.userId||c&&l&&!l.caseNumber&&!r&&!i)&&(yield Zs(Object(od.a)(e.payload)),c&&l&&!l.caseNumber&&(yield Zs(Object(Dn.c)({action:jr.a.NEW_CONVERSATION_CREATED,conversationId:s,additional:{caseNumber:c}}))))}catch(t){Object(wt.b)(t)}}function*bb(e){try{const{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}=e.payload;yield Zs({type:Te.d,payload:{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}})}catch(t){Object(wt.b)(t)}}function*fb(e){try{const{payload:t}=e,{actionParams:n}=t;Gp(n.actionType)&&(yield tl(Tp,e),e.promise.resolve())}catch(t){Object(wt.b)(t)}}function*hb(e){try{const{payload:t}=e,{actionParams:n,conversationId:a}=t;if(n.actionType===wp.a.ACCOUNT_LINK){const t=Object(Mp.a)(n.actionId,n.attachment);yield Zs(Object(Dn.a)({ssoId:t.accountLinkUrl,conversationId:a,messageId:n.messageId})(e.promise))}}catch(t){Object(wt.b)(t)}}function*gb(e){try{const{actionParams:{attachment:t,values:n}}=e.payload,a=t,o=yield tl(Ud,a.submitResponseUrl,a.httpHeaders,n.secureData);return{maskedData:n.maskedData,secureFormId:o}}catch(t){return Object(wt.b)(t),null}}function*yb(e){try{const{actionParams:{messageId:t,actionType:n,values:a},conversationId:o}=e.payload;if(n===wp.a.ACCEPT_CO_BROWSE){const e=yield rl((e=>Object(Xi.j)(Object(Xi.l)(Object(Po.c)(e),o),t))),n=Nd.a.getSender(e);yield Zs(Object(er.d)({messageId:t,conversationId:o,agentId:n})),yield al(Mu,{messageId:t})}return a}catch(t){return Object(wt.b)(t),null}}function*Ob(e){try{const{actionParams:{attachment:t,actionId:n,values:a,messageId:o},conversationId:r}=e.payload,i=s()(Object(Mp.a)(n,t),"surveyUrl","");yield Zs(Object(od.e)({surveyUrl:i,conversationId:r})),yield Zs({type:Te.V,payload:{messageId:o,conversationId:r,attachment:t}});const[c]=yield Qs([Xs(Te.W),Xs(Te.T),Xs(Te.X)]);return c?a:null}catch(t){return Object(wt.b)(t),null}}function*mb(e){try{const{actionParams:{actionType:t,values:n}}=e.payload;return function(e){return e===wp.a.SECURE_FORM_POST_BACK}(t)?yield tl(gb,e):function(e){return e===wp.a.ACCEPT_CO_BROWSE||e===wp.a.DENY_CO_BROWSE}(t)?yield tl(yb,e):function(e){return e===wp.a.SURVEY_POST_BACK}(t)?yield tl(Ob,e):n}catch(t){return Object(wt.b)(t),null}}function*vb(e){try{const{payload:a}=e,{actionParams:o,appContext:r}=a;if(!Gp(t=o.actionType)&&!Wp(t)&&!zp(t)&&!Vp(t)&&!$p(t)&&!Yp(t)&&!Hp(t)&&!qp(t))try{const t=yield tl(mb,e);i()(t)?e.promise&&e.promise.resolve():yield Zs(Object(od.o)({conversationId:a.conversationId,sender:a.sender,postback:{attachment:o.attachment,values:t,additional:o.additional,appContext:r,messageId:o.messageId,postbackId:o.actionId,postbackType:o.actionType},inReplyToChatMessageId:a.inReplyToChatMessageId})(e.promise))}catch(n){Object(g.a)(n),e.promise.reject()}}catch(a){Object(wt.b)(a)}var t}function*jb(e){try{const{payload:t}=e,{actionParams:n}=t;Wp(n.actionType)&&(yield Zs(Object(od.f)({attachment:n.attachment,actionId:n.actionId})(e.promise)))}catch(t){Object(wt.b)(t)}}function*Ib(e){try{const{payload:t}=e,{actionParams:n}=t;zp(n.actionType)&&(yield Zs(Object(od.d)({attachment:n.attachment,actionId:n.actionId})(e.promise)))}catch(t){Object(wt.b)(t)}}function*Cb(e){var t,n;try{const{payload:a}=e,{actionParams:{actionId:o,actionType:r,attachment:i,messageId:c,values:l},conversationId:d,appContext:u}=a;if(qp(r)){l.callMode&&l.participantPermissions||Object(wt.b)(`Call mode (${l.callMode}) or participant permissions (${l.participantPermissions}) unset`);const a=l.audioOnly?Uo.b.AUDIO:Uo.b.VIDEO,o=null!==(t=l.callMode)&&void 0!==t?t:Object(Dp.b)(a);yield Zs(Object(Ap.o)({conversationId:d,isPhone:u.isPhone,type:a,isIncomingCall:l.isIncomingCall,videoConversationId:l.videoChatConversationId,participantPermissions:null!==(n=l.participantPermissions)&&void 0!==n?n:Object(Dp.c)(o),callMode:o,prevState:Object(Lp.a)(l.currentState,l.isIncomingCall)})),e.promise&&e.promise.resolve()}else if(Hp(r)||Yp(r)){const t=yield rl(Po.b);if(Object(ko.a)(t))return void(e.promise&&e.promise.reject());const n=Hp(r)?Uo.b.VIDEO:Uo.b.AUDIO,a=s()(Object(Mp.a)(o,i),"title","");let l={};o&&(l={sourceButtonId:o,messageId:c,messageText:a}),yield Zs(Object(Ap.g)(Object.assign({conversationId:d,isPhone:u.isPhone,type:n},l))),e.promise&&e.promise.resolve()}}catch(a){Object(wt.b)(a)}}function*Eb(e){try{const{payload:n}=e,{actionParams:a,conversationId:o,appContext:r}=n,i=Vp(a.actionType),c=$p(a.actionType);let s,l;if(i||c)try{const t=yield rl(Po.c);let n;s=Object(Xi.j)(Object(Xi.l)(t,o),a.messageId),i&&(yield Zs({type:Te.I,payload:{chatMessage:k()(s,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:o}}),l=yield tl(qd,{selectedDate:a.values.selectedDate,slotDefinitionId:a.attachment.slotDefinitionConfigId,timeZone:r.timeZone,appointmentAssetParams:a.attachment.params,messageId:a.messageId}),yield Zs({type:Te.I,payload:{chatMessage:k()(s,{messagePayload:{attachment:{$merge:{slots:l}}}}),conversationId:o}})),c&&(l=yield tl(Kd,{selectedDate:a.values.selectedDate,selectedSlot:a.values.selectedSlot,timeZone:r.timeZone,slotDefinitionId:a.attachment.slotDefinitionConfigId,appointmentAssetParams:a.attachment.params,messageId:a.messageId}),n=l.reservationId,n||(yield Zs({type:Te.I,payload:{chatMessage:k()(s,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},l.slots?{slots:l.slots}:{}),l.availableDates?{availableDates:l.availableDates}:{})}}}),conversationId:o}}))),e.promise.resolve({actionType:a.actionType,response:{reservationId:n,selectedSlot:a.values.selectedSlot,selectedDate:a.values.selectedDate,visibleSlots:a.values.visibleSlots}})}catch(t){Object(wt.b)(t),e.promise.reject({actionType:a.actionType,response:{error:l}})}}catch(n){Object(wt.b)(n)}}function*Tb(e){try{yield Js([tl(fb,e),tl(vb,e),tl(jb,e),tl(Ib,e),tl(hb,e),tl(Eb,e),tl(Cb,e)])}catch(t){Object(wt.b)(t)}}function*_b(e,t){try{const n=k()(e,{payload:{actionParams:{$set:Object.assign(Object.assign({},Ut()(e.payload.actionParams,["actionTypes"])),{actionType:t})}}}),a=new Promise(((e,t)=>{n.promise={resolve:e,reject:t}}));return yield tl(Tb,n),a}catch(n){return Object(wt.b)(n),null}}function*Sb(e){try{let n={},a={};try{const t=e.payload.actionParams.actionTypes;for(let o=0;o<wd()(t);o+=1){(yield tl(_b,e,t[o])).then((e=>{a=Ar()(a,e)}),(e=>{n=Ar()(n,e)}))}e.promise.resolve(a)}catch(t){e.promise.reject(n),Object(wt.b)(t)}}catch(n){Object(wt.b)(n)}}function*xb(){try{yield ad(Te.c,Sb)}catch(e){Object(wt.b)(e)}}function*Ab(e){try{let n,a;try{const{disclaimerStatus:t}=e.payload,o=yield rl(Po.c),r=Object(Xi.p)(o);n=e.payload.conversationId,a=s()(Object(Xi.h)(r,n),"disclaimerStatus"),yield Zs({type:Te.r,payload:{conversationId:n,disclaimerStatus:t}}),yield tl(Hd,n,t),e.promise.resolve()}catch(t){e.promise.reject(),yield Zs({type:Te.r,payload:{conversationId:n,disclaimerStatus:a}}),Object(wt.b)(t)}}catch(n){Object(wt.b)(n)}}function*wb(){try{yield ad(Te.q,Ab)}catch(e){Object(wt.b)(e)}}const Rb={field:"closed",values:[!0],filterType:Rp.a.NIN};function*Nb(e){try{const{context:t,filters:n}=e.payload,a=yield rl(Po.c),o=Object(Xi.u)(a),r=n||Rb,i=Yi()(o.ids,(e=>{let t=!1;if(d()(r))return!0;Pp.a.createFilterAction(r,{getFilterBuilder:Pp.a.createFilterAction}).matches(o.byId[e],{logOnFailure:!0})&&(t=!0);return t}));i?(yield tl(Kp,Qd,{context:t,conversationId:i}),e.promise.resolve()):e.promise.reject(rp.a.NOT_FOUND)}catch(t){e.promise.reject(lp(t)),Object(wt.b)(t)}}function*Lb(e){try{yield Xs(Te.g),yield tl(Nb,e)}catch(t){e.promise.reject(lp(t)),Object(wt.b)(t)}}function*Db(e){try{const{context:t,conversationId:n,includeDeleted:a}=e.payload;if(n)return yield tl(Kp,Qd,{context:t,conversationId:n}),void e.promise.resolve();if(a)return yield tl(Kp,Jd,{context:t,updateLatest:a}),void e.promise.resolve();const o=yield rl(Po.c),r=Object(Xi.p)(o);if(Object(Xi.b)(r))return void(yield tl(Nb,e));yield nl(Lb,e)}catch(t){e.promise.reject(lp(t)),Object(wt.b)(t)}}function*Mb(){try{yield ad(Te.k,Db)}catch(e){Object(wt.b)(e)}}function*Pb(e){try{const{lastReadMessageId:t}=e.payload;yield tl(Up,{type:"MESSAGE_READ",payload:{messageId:t}})}catch(t){Object(wt.b)(t)}}function*kb(){try{yield ad(Te.O,Pb)}catch(e){Object(wt.b)(e)}}function*Ub(e){try{const e=yield tl(nu);yield Zs({payload:{openConversationCount:e},type:Te.ab})}catch(t){Object(wt.b)(t)}}function*Bb(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return nl.apply(void 0,[nd,e,t].concat(a))}(Te.B,Ub)}catch(e){Object(wt.b)(e)}}function*Fb(){try{yield Js([nl(ib),nl(sb),nl(ob),nl(jp),nl(nb),nl(Qp),nl(tb),nl(uu),nl(mu),nl(ju),nl(xb),nl(Mb),nl(cb),nl(wb),nl(kb),nl(xp),nl(Bb)])}catch(e){Object(wt.b)(e)}}const Gb={},Wb="START_TYPING",zb="STOP_TYPING";function*Vb(e,t){try{yield tl(Up,{type:e,payload:{conversationId:t}})}catch(n){Object(wt.b)(n)}}function*$b(e,t){for(;;)yield nl(Vb,Wb,e),yield cl(25e3),yield Xs(t)}function*Hb(e,t){let n,a;try{for(n=_l(ks.dropping(1)),a=yield nl($b,e,n);;){const e=yield Xs(t);if(e.type!==Te.bb)break;n.put(e)}}catch(o){Object(wt.b)(o)}finally{yield nl(Vb,zb,e),n&&n.close(),a&&a.cancel()}}function*Yb(e,t){for(;;)try{let n;if(n=yield Xs(t),n.type!==Te.bb)continue;yield tl(Hb,e,t)}catch(n){Object(wt.b)(n)}}function*qb(){for(;;)try{const e=yield Qs([Xs(Te.bb),Xs(Te.cb)]),t=qr()(e)[0],{payload:{conversationId:n}}=t;let a=Gb[n];a||(a=_l(ks.sliding(1)),Gb[n]=a,yield nl(Yb,n,a)),a.put(t)}catch(e){Object(wt.b)(e)}}function*Kb(){yield nl(qb)}var Xb=n(486),Zb=n.n(Xb),Jb=n(548),Qb=n.n(Jb);const ef={};function*tf(){throw yield cl(3e4),new Error("")}function*nf(e,t,n,a){let o;yield Zs({type:Te.a,payload:{conversationId:t,userId:n,actionTime:a}});try{for(o=yield nl(tf);;){const a=yield Xs(e);if(a.type===at)o.isCancelled()||(yield ol(o)),o=yield nl(tf),yield Zs({type:Te.a,payload:{conversationId:t,userId:n,actionTime:a.payload.actionTime}});else{const e=yield rl(Po.c),o=Object(Xi.l)(e,t),r=Object(Xi.s)(o,n);if(r&&Nd.a.getCreationTime(r)<a.payload.actionTime)break}}}catch(r){Object(wt.b)(r)}finally{yield Zs({type:Te.b,payload:{conversationId:t,userId:n}}),o.isCancelled()||(yield ol(o))}}function*af(e,t,n){for(;;)try{let a;if(a=yield Xs(e),a.type!==at)continue;yield tl(nf,e,t,n,a.payload.actionTime)}catch(a){}}function*of(e){const{payload:{conversationId:t,sender:n}}=e,a=yield rl(Po.h),o=tp()(Object(dp.e)(a,n)),r=function(e,t){return`${e}_${t}`}(t,o);let i=ef[r];i||(i=_l(ks.sliding(1)),ef[r]=i,yield nl(af,i,t,o)),i.put(e)}function*rf(e){try{yield Js(e.map((e=>tl(of,e))))}catch(t){Object(wt.b)(t)}}function*cf(e){try{yield Js(e.map((e=>tl(of,e))))}catch(t){Object(wt.b)(t)}}const sf=(()=>{const e=new Set;return{add:t=>e.add(t),has:t=>e.has(t),delete:t=>e.delete(t),clear:()=>e.clear()}})(),lf=(()=>{let e=[];return{set:t=>{e=t},get:()=>e,push:t=>{e=[...e,...id()(t)]},clear:()=>{e=[]}}})();function df(e){return e.type===Qe}function uf(e){return e.type===at}function pf(e){return e.type===ot}function*bf(e){try{const{data:t}=e;if(t){const e=yield rl(Po.h),n=Object(dp.e)(e,Nd.a.getSender(t));yield Zs(Object(od.g)(t,n))}}catch(t){Object(wt.b)(t)}}function*ff(e){try{const t=e.filter(df);yield Js(t.map((e=>tl(bf,e))));const n=t.reduce(((e,t)=>{const{data:n}=t;return n&&e.push(Nd.a.getId(n)),e}),[]);d()(n)||(yield tl(au,n))}catch(t){Object(wt.b)(t)}}function*hf(e){try{const t=e.filter(uf);if(!t.length)return;yield tl(rf,t)}catch(t){Object(wt.b)(t)}}function*gf(e){try{const t=e.filter(pf);if(!t.length)return;yield tl(cf,t)}catch(t){Object(wt.b)(t)}}function*yf(e){try{yield Js([tl(ff,e),tl(hf,e),tl(gf,e)])}catch(t){Object(wt.b)(t)}}function*Of(e){try{const{id:t,data:n}=e;if(sf.add(t),Nr()(lf.get(),(e=>{if(e.id===t)return e.data=n,!1})),t===s()(tp()(lf.get()),"id")){const{resolvedEvents:e,unresolvedEvents:t}=sd()(lf.get(),((e,t)=>sf.has(t.id)&&d()(e.unresolvedEvents)?(sf.delete(t.id),Object.assign(Object.assign({},e),{resolvedEvents:[...e.resolvedEvents,t]})):Object.assign(Object.assign({},e),{unresolvedEvents:[...e.unresolvedEvents,t]})),{resolvedEvents:[],unresolvedEvents:[]});lf.set(t),yield nl(yf,e)}}catch(t){Object(wt.b)(t)}}function*mf(e){try{if(df(e)){const t=yield tl(lb,e);yield tl(Of,{id:e.id,data:t})}}catch(t){Object(wt.b)(t)}}function*vf(e){try{if(uf(e)){const t=Qb()(e.payload,["conversationId","sender"]);yield tl(bd,t),yield tl(Of,{id:e.id,data:{}})}}catch(t){Object(wt.b)(t)}}function*jf(e){try{pf(e)&&(yield tl(Of,{id:e.id,data:{}}))}catch(t){Object(wt.b)(t)}}function*If(e){try{yield Js([tl(mf,e),tl(vf,e),tl(jf,e)])}catch(t){Object(wt.b)(t)}}function*Cf(e){try{lf.push(e),yield Js(e.map((e=>nl(If,e))))}catch(t){Object(wt.b)(t)}}var Ef=n(962),Tf=n.n(Ef);function _f(e){return e.type===et}function Sf(e){return e.type===dt}function xf(e){return e.type===nt}function Af(e){return e.type===tt}function wf(e){return e.type===ct}function*Rf(e){try{yield Js(e.filter(Af).map((e=>tl(db,e))))}catch(t){Object(wt.b)(t)}}function*Nf(e){try{yield Js(e.filter(_f).map((e=>tl(ub,e))))}catch(t){Object(wt.b)(t)}}function*Lf(e){try{yield Js(Tf()(e.filter(xf).map((e=>[tl(fd,{sender:e.payload.chatUserId,conversationId:e.payload.conversationId}),Zs(Object(Dn.c)({conversationId:e.payload.conversationId,action:jr.a.USER_PROFILE_UPDATED,additional:{sender:e.payload.chatUserId}}))]))))}catch(t){Object(wt.b)(t)}}function*Df(e){try{yield Js(e.filter(wf).map((e=>tl(pb,e))))}catch(t){Object(wt.b)(t)}}function*Mf(e){try{yield Js(e.filter(Sf).map((e=>tl(bb,e))))}catch(t){Object(wt.b)(t)}}function*Pf(e){try{yield Js([tl(Rf,e),tl(Nf,e),tl(Lf,e),tl(Df,e),tl(Mf,e)])}catch(t){Object(wt.b)(t)}}const kf=[Qe,at,ot];function*Uf(e){try{const{events:t}=e.payload;let n=[],a=[];Nr()(t,(e=>{Pd()(kf,e.type)?n=[...n,Object.assign(Object.assign({},e),{id:Zb()()})]:a=[...a,e]})),yield tl(Cf,n),yield tl(Pf,a)}catch(t){Object(wt.b)(t)}}function*Bf(){try{yield ad(hd.k,Uf)}catch(e){Object(wt.b)(e)}}function*Ff(){try{yield Xs(ql.c),sf.clear(),lf.clear()}catch(e){Object(wt.b)(e)}}function*Gf(){try{yield Js([nl(Bf),nl(Ff)])}catch(e){Object(wt.b)(e)}}var Wf=n(465),zf=n(517);const Vf=e=>{const t=qt.a.getNoDisplayConfigFilter(e);return!d()(t)&&Object(zf.c)(t,Wf.a.IS_CONVERSATION_OPEN)};function*$f(e){try{const t=yield rl(Po.c),n=Object(Xi.p)(t);if(!Object(Xi.b)(n))return;yield Zs(Object(od.b)({shouldFetchNumberOfOpenConversation:Vf(e.applicationConfig),size:n.ids.length}))}catch(t){Object(wt.b)(t)}}function*Hf(){try{const e=yield rl(Po.c),t=Object(Xi.p)(e),n=Object(Xi.n)(e),a=sd()(n,((e,n,a)=>{const o=n.messages;if(!a.startsWith(oo.e)&&Object(Xi.a)(o)&&!Object(Xi.y)(t,a)){const t=Object(od.c)(a,{size:Object(Xi.k)(o).length})();e.push(Zs(t))}return e}),[]);a.length&&(yield Js(a))}catch(e){Object(wt.b)(e)}}function*Yf(e){yield Js([nl($f,e),nl(Hf)])}function*qf(){const{payload:{applicationConfig:e}}=yield Xs(ql.a);yield ad(hd.l,Yf,{applicationConfig:e})}function*Kf(){yield Js([nl(Fb),nl(Kb),nl(Gf),nl(qf)])}function*Xf(e){try{const t=e.payload,n=Object(Uc.c)(yield rl(Po.h));yield tl(ld.c,Object.assign(Object.assign({},n),{customContext:t})),yield Zs(Object(Dn.c)({action:jr.a.USER_PROFILE_UPDATED}))}catch(t){Object(wt.b)(t)}}function*Zf(){try{yield ad(U.d,Xf)}catch(e){Object(wt.b)(e)}}function*Jf(e){try{const t=e.payload,n=yield tl(ld.b,t);e.promise.resolve(n);const a=n.results;yield Zs({type:U.e,payload:{users:a}})}catch(t){e.promise.reject(t),Object(wt.b)(t)}}function*Qf(){try{yield ad(U.c,Jf)}catch(e){console.error(e)}}function*eh(){try{yield Js([nl(Zf),nl(Qf)])}catch(e){Object(wt.b)(e)}}var th=n(664);function nh(e){return e.type===st}function ah(e){return e.type===lt}function oh(e){return e.type===pt}function rh(e){return e.type===bt}function ih(e){return e.type===ut}function ch(e){return e.type===Ot}function*sh(e){try{const t=Object(Uc.c)(yield rl(Po.h));yield Js(e.filter(nh).map((e=>{var n,a;const o=e.payload.participantInfos.find((e=>e.snId===t.userId)),r=e.payload.type,i=null!==(n=null===o||void 0===o?void 0:o.callMode)&&void 0!==n?n:Object(Dp.b)(r),c=null!==(a=null===o||void 0===o?void 0:o.permissions)&&void 0!==a?a:Object(Dp.c)(i);return Zs(Object(Ap.n)({conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId,callMode:i,permissions:c,participantInfos:e.payload.participantInfos,type:r}))})))}catch(t){Object(wt.b)(t)}}function*lh(e){try{yield Js(e.filter(ah).map((e=>Zs(Object(Ap.l)({notifyAgent:!1,videoConversationId:e.payload.videoConversationId})))))}catch(t){Object(wt.b)(t)}}function*dh(e){try{const t=yield rl(Po.b),n=Object(ko.f)(t);yield Js(e.filter(rh).map((e=>Zs(n.videoConversationId===e.payload.videoConversationId?Object(Ap.i)({videoConversationId:e.payload.videoConversationId,reason:Uo.e.AGENT_ASSIGNMENT_FAILED}):Object(Ap.l)({notifyAgent:!1,videoConversationId:e.payload.videoConversationId})))))}catch(t){Object(wt.b)(t)}}function*uh(e){try{yield Js(e.filter(oh).map((e=>Zs(Object(Ap.i)({videoConversationId:e.payload.videoConversationId,reason:Uo.e.AGENT_ASSIGNMENT_FAILED})))))}catch(t){Object(wt.b)(t)}}function*ph(e){try{yield Js(e.filter(ih).map((e=>Zs(Object(Ap.t)({videoConversationId:e.payload.videoConversationId,callInfo:{conversation:e.payload.conversation,participant:e.payload.participant}})))))}catch(t){Object(wt.b)(t)}}function*bh(e){try{yield Js(e.filter(ch).map((e=>Zs({type:th.v,payload:{videoConversationId:e.payload.videoConversationId,participantPermissions:e.payload.permissions,callMode:e.payload.callMode}}))))}catch(t){Object(wt.b)(t)}}function*fh(e){try{const{events:t}=e.payload;yield Js([tl(lh,t),tl(sh,t),tl(uh,t),tl(ph,t),tl(dh,t),tl(bh,t)])}catch(t){Object(wt.b)(t)}}function*hh(){try{yield ad(hd.k,fh)}catch(e){Object(wt.b)(e)}}function gh(e){let{videoConversationId:t,shouldWaitForConnection:n}=e;return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post(`video-chat/conversation/accept/${t}?shouldWaitForConnection=${n}`)).data}))}function yh(e){let{videoConversationId:t}=e;return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return Yl.a.post(`video-chat/conversation/leave/${t}`)}))}function Oh(e){let{conversationId:t,audioOnly:n,messageText:a,sourceButtonId:o,postBackChatMessageId:r,shouldWaitForConnection:i,videoConversationId:c,activityEventType:s}=e;return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.post(`video-chat/conversation/initiate/${t}`,{audioOnly:n,messageText:a,clickedButtonId:o,postBackChatMessageId:r,shouldWaitForConnection:i,videoChatConversationId:c,activityEventType:s})).data}))}function mh(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.get(`video-chat/conversation/participant/connected/${e}`)).data}))}function vh(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){return(yield Yl.a.get(`video-chat/conversation/fetch/ongoing/conversation?caseId=${e}`)).data}))}function*jh(e){try{const{notifyAgent:t,isIncomingCall:n,callDetails:a,videoConversationId:o}=e.payload;if(!t)return;if(!n&&!a.hasInitiateSucceeded&&a.state===Uo.f.WAITING){if((yield Xs((e=>(e.type===th.v||e.type===th.o)&&s()(e,"payload.videoConversationId")===o))).type===th.o)return}if(n&&a.state===Uo.d.ACCEPTED){if((yield Xs((e=>(e.type===th.k||e.type===th.h)&&s()(e,"payload.videoConversationId")===o))).type===th.h)return}yield tl(yh,{videoConversationId:o})}catch(t){Object(wt.b)(t)}}function*Ih(e){try{e.payload.isOutgoingWaiting&&(yield tl(jh,e)),yield Zs({type:Te.Z,payload:{text:e.payload.text,sender:e.payload.sender,conversationId:e.payload.conversationId}})}catch(t){Object(wt.b)(t)}}function*Ch(e){try{const{actionParams:{messageId:t,actionId:n},conversationId:a}=e.payload,o=yield rl(Po.b),r=Object(ko.f)(o),i=r.messageId;if(i&&t===i&&n!==r.sourceButtonId){const e=yield rl(Po.c),n=Object(Xi.j)(Object(Xi.l)(e,a),t);n&&!Ld.a.getAttachment(Nd.a.getMessagePayload(n)).reSubmittable&&(yield Zs(Object(Ap.l)({notifyAgent:!0,callDetails:r,videoConversationId:r.videoConversationId})))}}catch(t){Object(wt.b)(t)}}function*Eh(e){try{yield Zs(Object(Ap.p)({conversationId:e.payload.conversationId,controls:Object(Lp.e)(e.payload.isPhone),type:e.payload.type,messageText:e.payload.messageText,messageId:e.payload.messageId,sourceButtonId:e.payload.sourceButtonId,videoConversationId:Zb.a.v4()}))}catch(t){Object(wt.b)(t)}}function*Th(e){try{const{videoConversationId:t}=e.payload;yield Zs(Object(Ap.b)({videoConversationId:t,controls:Object(Lp.e)(e.payload.isPhone)}));const n=yield tl(gh,{videoConversationId:t,shouldWaitForConnection:!0});yield Zs({type:th.v,payload:{callMode:n.participant.callMode,participantPermissions:n.participant.permissions,videoConversationId:n.conversation.id}}),yield Zs(Object(Ap.s)({videoConversationId:t}))}catch(t){if(Object(wt.b)(t),Object(hn.f)(t)){const n=s()(t,"response.data.error");yield Zs(Object(Ap.d)({videoConversationId:e.payload.videoConversationId,reason:"CALL_ALREADY_ENDED"===n?Uo.c.ACCEPT_FAILED_DUE_TO_CALL_END:Uo.c.ACCEPT_FAILED_DUE_TO_OTHER_REASONS}))}}}function*_h(e){try{yield Zs(Object(Ap.f)({videoConversationId:e.payload.videoConversationId}))}catch(t){Object(wt.b)(t)}}function*Sh(e){try{yield Zs(Object(Ap.k)({videoConversationId:e.payload.videoConversationId}))}catch(t){Object(wt.b)(t)}}function*xh(e){let t;try{const{videoConversationId:n}=e.payload,a=yield rl(Po.b),o=Object(ko.f)(a),r=o.messageId,i=o.conversationId,c=Object(ko.j)(a,n);if(yield Zs(Object(Dn.c)({conversationId:i,action:c?jr.a.AUDIO_CALL_OUTGOING_STARTING:jr.a.VIDEO_CALL_OUTGOING_STARTING})),r){const e=yield rl(Po.c);t=Object(Xi.j)(Object(Xi.l)(e,i),r),yield tl(yu,{chatMessage:t,conversationId:i,params:{buttonId:o.sourceButtonId}})}const s=yield tl(Oh,{conversationId:i,audioOnly:c,messageText:o.messageText,sourceButtonId:o.sourceButtonId,postBackChatMessageId:r,shouldWaitForConnection:!0,videoConversationId:n,activityEventType:"CALL_STARTED"});yield Zs({type:th.v,payload:{agentWaitTime:s.conversation.agentWaitTime,callMode:s.participant.callMode,participantPermissions:s.participant.permissions,videoConversationId:s.conversation.id}})}catch(n){t&&(yield Zs({type:Te.I,payload:{chatMessage:t,conversationId:e.payload.conversationId}})),Object(wt.b)(n),Object(hn.f)(n)&&(yield Zs(Object(Ap.i)({videoConversationId:e.payload.videoConversationId,reason:Uo.e.INITIATE_FAILED})))}}function*Ah(e){try{const{conversationId:n,type:a,isPhone:o,prevState:r,videoConversationId:i,participantPermissions:c,callMode:l}=e.payload,u=yield rl(Po.b),p=Object(ko.c)(u),b=s()(p,"state")===Uo.d.FAILED;if(Object(Lp.f)({callDetails:p,rejoiningVideoConversationId:i}))return;b&&(yield Zs(Object(Ap.l)({notifyAgent:!1,videoConversationId:i,callDetails:p,isIncomingCall:!0})));const f=a===Uo.b.AUDIO,h=Object(Lp.b)(r);yield Zs(Object(Dn.c)({conversationId:n,action:Object(Lp.c)(f,h)})),yield Zs(Object(Ap.q)({conversationId:n,videoConversationId:i,state:h?Uo.d.ACCEPTED:Uo.d.SETUP,controls:Object(Lp.e)(o),type:a,participantPermissions:c,callMode:l}));let g=yield tl(vh,n);if(d()(g))return yield Zs(Object(Ap.d)({videoConversationId:i,reason:Uo.c.REJOINING_FAILED_DUE_TO_CALL_END,prevState:r}));if(yield Zs({type:th.v,payload:{callMode:g.participant.callMode,participantPermissions:g.participant.permissions,videoConversationId:g.conversation.id}}),h){try{g=yield tl(gh,{videoConversationId:g.conversation.id,shouldWaitForConnection:!0}),yield Zs({type:th.v,payload:{callMode:g.participant.callMode,participantPermissions:g.participant.permissions,videoConversationId:g.conversation.id}})}catch(t){if(Object(wt.b)(t),Object(hn.f)(t)){const e=s()(t,"response.data.error");return yield Zs(Object(Ap.d)({videoConversationId:i,reason:"CALL_ALREADY_ENDED"===e?Uo.c.ACCEPT_FAILED_DUE_TO_CALL_END:Uo.c.ACCEPT_FAILED_DUE_TO_OTHER_REASONS,prevState:r}))}}yield Zs(Object(Ap.s)({videoConversationId:g.conversation.id}))}}catch(t){if(Object(wt.b)(t),Object(hn.f)(t))return yield Zs(Object(Ap.d)({videoConversationId:e.payload.videoConversationId,reason:Uo.c.REJOINING_FAILED_DUE_TO_OTHER_REASONS,prevState:e.payload.prevState}))}}function*wh(e){try{const{conversationId:t,type:n,isPhone:a,prevState:o,videoConversationId:r,participantPermissions:i,callMode:c}=e.payload,l=yield rl(Po.b),u=Object(ko.c)(l),p=s()(u,"state")===Uo.f.FAILED;if(Object(Lp.f)({callDetails:u,rejoiningVideoConversationId:r}))return;p&&(yield Zs(Object(Ap.l)({notifyAgent:!1,videoConversationId:r,callDetails:u})));const b=n===Uo.b.AUDIO;yield Zs(Object(Dn.c)({conversationId:t,action:Object(Lp.c)(b)})),yield Zs(Object(Ap.r)({conversationId:t,videoConversationId:r,state:Object(Lp.d)(o),controls:Object(Lp.e)(a),type:n,participantPermissions:i,callMode:c}));const f=yield tl(vh,e.payload.conversationId);if(d()(f))return yield Zs(Object(Ap.i)({videoConversationId:r,reason:Uo.e.REJOINING_FAILED_DUE_TO_CALL_END,prevState:o}));yield Zs({type:th.v,payload:{agentWaitTime:f.conversation.agentWaitTime,callMode:f.participant.callMode,participantPermissions:f.participant.permissions,videoConversationId:f.conversation.id}})}catch(t){if(Object(wt.b)(t),Object(hn.f)(t))return yield Zs(Object(Ap.i)({videoConversationId:e.payload.videoConversationId,reason:Uo.e.REJOINING_FAILED_DUE_TO_OTHER_REASONS,prevState:e.payload.prevState}))}}function*Rh(e){try{const t=e.payload,{isIncomingCall:n}=t,a=Object(Rd.__rest)(t,["isIncomingCall"]);n?yield Zs(Object(Ap.e)(a)):yield Zs(Object(Ap.j)(a))}catch(t){Object(wt.b)(t)}}function*Nh(e){try{yield tl(mh,e.payload.videoConversationId)}catch(t){Object(wt.b)(t)}}function*Lh(){try{yield ad(th.e,Th),yield ad(th.g,_h),yield ad(th.n,Sh),yield ad(th.b,jh),yield ad(th.m,Eh),yield ad(th.t,xh),yield ad(th.c,Ih),yield ad(th.u,Rh),yield ad(th.j,Ah),yield ad(th.q,wh),yield ad(Te.c,Ch),yield ad(th.w,Nh)}catch(e){Object(wt.b)(e)}}function*Dh(){yield Js([nl(hh),nl(Lh)])}function Mh(e){return e.type===ft}function*Ph(){const e=yield rl(Po.f);return d()(e)||(yield Zs(Object(er.g)())),null}function*kh(e){try{const{events:t}=e.payload;yield Js(t.filter(Mh).map((e=>{const{status:t}=e.payload;return"LIVE"===t?tl(Ph):"COMPLETED"===t?Zs(Object(er.c)({endedByAgent:!0})):null})))}catch(t){Object(wt.b)(t)}}function*Uh(){yield ad(hd.k,kh)}function*Bh(){yield Js([nl(Zu),nl(Uh)])}function Fh(e){return e.type===gt}function*Gh(e){yield Js(e.filter(Fh).map((e=>Zs({type:Pe,payload:e.payload}))))}function*Wh(e){try{const{events:t}=e.payload;yield Js([tl(Gh,t)])}catch(t){Object(wt.b)(t)}}function*zh(){yield ad(hd.k,Wh)}const Vh=new(n(953).a),$h=e=>Object(Rd.__awaiter)(void 0,void 0,void 0,(function*(){const{httpMethod:t="GET",httpUrl:n="",httpPayload:a=cn.a,actionIdentifier:o,requestId:r}=e.params;let i,c;try{const d="POST"===t||"PUT"===t?yield Vh[t.toLowerCase()](n,a,{withCredentials:!0}):yield Vh[t.toLowerCase()](n,{withCredentials:!0});i=d.request.status,c=d.request.responseText}catch(d){Object(wt.b)(d),Object(hn.f)(d)?(i=d.request.status,c=d.request.responseText):(i=500,c="")}finally{yield(s={status:i,responseText:c,actionIdentifier:o,requestId:r},l=e.conversationId,Yl.a.post(`/livechat/cart/on-add-to-cart/${l}`,s))}var s,l})),Hh=e=>Yl.a.post("/livechat/cart/update-cart",{p:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),Yh=e=>Yl.a.post("/livechat/cart/remove-from-cart",{p:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});function*qh(e){try{const{type:t,params:n,conversationId:a}=e.payload;"HTTP_REQUEST"===t&&(yield tl($h,{params:n,conversationId:a}))}catch(t){Object(wt.b)(t)}}function*Kh(){yield ad(Pe,qh)}const Xh={presence:!0,format:{pattern:"^(?!\\s*$).+",message:"can only be non-empty string"}},Zh={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Xh,productCategory:{type:"string"},quantity:{type:"number"},standardPrice:{type:"number"},standardCurrency:{type:"string"},title:{type:"string"},description:{type:"string"}}}}},Jh={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Xh,quantity:{type:"number"}}}}};function*Qh(e){try{const n=(t=e.payload,$e()(t,Zh));if(n)return void Object(g.a)("Invalid payload passed to update cart, please check",n);yield tl(Hh,e.payload)}catch(n){Object(wt.b)(n)}var t}function*eg(){yield ad(ke,Qh)}function*tg(e){try{const n=(t=e.payload,$e()(t,Jh));if(n)return void Object(g.a)("Invalid payload passed to remove from cart, please check",n);yield tl(Yh,e.payload)}catch(n){Object(wt.b)(n)}var t}function*ng(){yield ad(Ue,tg)}function*ag(){yield Js([nl(zh),nl(Kh),nl(eg),nl(ng)])}function*og(){try{yield Js([nl(xd),nl(Kf),nl(eh),nl(Dh),nl(Bh),nl(ag)])}catch(e){Object(wt.b)(e)}}function*rg(){try{const e=yield nl(og);yield Xs(ql.c),yield ol(e)}catch(e){Object(wt.b)(e)}}var ig=n(513);function cg(e,t){const n=Object(oa.a)(e,{path:"/conversation/:conversationId/:transientId?"});if(!n)return{};const a=s()(n.params,"conversationId"),o=s()(n.params,"transientId");return"all"===a?{isConversationPath:!1,matchedConversationId:void 0}:"new"===a?{isConversationPath:!0,matchedConversationId:t?t.slice(1):o}:{isConversationPath:!0,matchedConversationId:a}}function*sg(){try{const e=Object(Uc.e)(yield rl($n.g));return{...Object(Jt.a)(),locale:e}}catch(e){return void Object(wt.b)(e)}}var lg=n(949);function*dg(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=Object(Uc.d)(yield rl($n.g)),o=yield rl($n.c),r=Object(Xi.f)(o.conversations,t);if(r){const e=Lc()(r.defaultMessages,"id"),o=Nd.a.getId(n);if(e.includes(o))return void(yield Zs({type:Te.O,payload:{conversationId:t,lastReadMessageId:o}}));if(function(e,t){return!(Nd.a.getSender(e)===t)&&!Object(Dd.f)(e)}(n,a)){const{isConversationPath:e,conversationId:n}=yield rl(ig.e),a=yield rl($n.b),{isMinimized:o}=a,i=Object(je.b)(),c=!!e,s=!d()(r);(Object(p.B)()?s&&t===n:s)&&(yield Zs({type:Te.P,payload:{conversationId:t,count:1}}),o&&!c&&i.push(`/conversation/${t}`))}}}catch(t){Object(wt.b)(t)}}function*ug(){try{yield ad(Te.D,dg)}catch(e){Object(wt.b)(e)}}function*pg(e){try{const t=Object(rn.b)();Object(rn.c)(t)?t.open(Object(Qt.c)(e.payload.url),e.payload.target):window.open(Object(Qt.c)(e.payload.url)),e.promise.resolve()}catch(t){e.promise.reject(),Object(wt.b)(t)}}function*bg(){try{yield ad(Te.Q,pg)}catch(e){Object(wt.b)(e)}}function*fg(e){try{window.open(Object(Qt.b)(e.payload.phoneNumber)),e.promise.resolve()}catch(t){e.promise.reject(),Object(wt.b)(t)}}function*hg(){try{yield ad(Te.p,fg)}catch(e){Object(wt.b)(e)}}function*gg(e){try{const{surveyUrl:t,shouldReplace:n,conversationId:a}=e.payload,o=Object(je.b)(),r=Object(p.B)()||Object(p.F)()?`${t}&showCancel=true`:t,i=`/survey/${encodeURIComponent(`${r}&hideThankYouPage=true`)}`;return n?o.replace(i):o.push(a?`/conversation/${a}${i}`:i)}catch(t){return void Object(wt.b)(t)}}function*yg(){try{yield ad(Te.U,gg)}catch(e){Object(wt.b)(e)}}function*Og(e){try{const{deleted:n,closed:a,surveyUrl:o,conversationId:r}=e.payload;try{if(n||a){const e=Object(je.b)(),{matchedConversationId:t}=cg(e.location.pathname,e.location.hash),a=n&&r&&t===r&&!Object(p.B)();o?yield Zs(Object(ou.n)({surveyUrl:o,shouldReplace:a,conversationId:r})):a&&e.goBack()}}catch(t){Object(wt.b)(t)}}catch(t){Object(wt.b)(t)}}function*mg(){try{yield ad(Te.j,Og)}catch(e){Object(wt.b)(e)}}function*vg(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield Xs(ql.a);if(t){if(Object(p.E)()){const e=Object(p.g)();yield Zs(Object(ou.b)(e))}if(Object(p.D)()){const e=Object(p.f)(),t=Object(p.c)(e),n=yield tl(sg);yield Zs(Object(ou.a)(e,t,n))}yield cl(1e3),yield Zs(Object(ou.g)())}}catch(e){Object(wt.b)(e)}}function*jg(e){try{const{payload:t,promise:n}=e,{conversationId:a}=t;yield tl(lg.b,a),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(wt.b)(t)}}function*Ig(){try{yield ad(Te.o,jg)}catch(e){Object(wt.b)(e)}}function*Cg(e){try{const t=yield rl($n.g),n=Object(Uc.d)(t),a=yield rl($n.c),o=((e,t,n)=>{if(n){const a=Object(ig.d)(e[n],t);return a?[{conversationId:n,count:a}]:[]}return sd()(e,((e,n)=>{const a=Object(ig.d)(n,t);return a&&e.push({conversationId:n.id,count:a}),e}),[])})(Object(Xi.p)(a).byId,n,e);d()(o)||(yield Zs({type:Te.N,payload:o}))}catch(t){console.warn(t)}}function*Eg(){try{if(Object(p.B)()){if(Object(p.H)())for(;;){yield Xs(Te.g);const{conversationId:e}=yield rl(ig.e);yield tl(Cg,e)}if(Object(p.E)()||Object(p.D)()){yield Qs([Xs(Te.t),Xs(Te.u),Xs(Te.w),Xs(Te.x)]);const{conversationId:e}=yield rl(ig.e);return void(yield tl(Cg,e))}return}if(Object(p.E)()||Object(p.D)())return yield Js([Qs([Xs(Te.t),Xs(Te.w),Xs(Te.u),Xs(Te.x)]),Xs(Te.g)]),void(yield tl(Cg));if(Object(p.J)()||Object(p.G)()||Object(p.H)())for(;;)yield Xs(Te.g),yield tl(Cg)}catch(e){Object(wt.b)(e)}}function*Tg(){try{yield Js([nl(vg),nl(ug),nl(bg),nl(hg),nl(Ig),nl(yg),nl(mg),nl(Eg)])}catch(e){Object(wt.b)(e)}}function*_g(e){let{action:t}=e;try{const e=t.payload;if((n=e).type!==Ip.h&&n.type!==Ip.i)return;const a=yield rl($n.c),o=Object(Xi.d)(Object(Xi.u)(a));e.type===Ip.h&&(yield tl(Xt.m,e.payload.contextId||o,e.payload.abortedProcessContext,[])),e.type===Ip.i&&(yield tl(Xt.j,e.payload.contextId||o))}catch(a){Object(wt.b)(a)}var n}function*Sg(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield tl(Xt.e,t);if(a){const e=Ld.a.getAttachment(Nd.a.getMessagePayload(n));if(Object(on.c)(Nd.a.getSender(n))&&e&&Object(Mp.c)(e)){const e=Nd.a.getId(n),o=a.messageIds;yield tl(Xt.m,t,a.context,[...o,e])}}}catch(t){Object(wt.b)(t)}}function*xg(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield tl(Xt.e,t);a&&(yield tl(Xt.m,t,a.context,[]))}catch(t){Object(wt.b)(t)}}function*Ag(){yield ad(Te.D,Sg)}function*wg(){yield ad(Te.G,xg)}function*Rg(e){try{const t=yield tl(Xt.e,e);t&&(yield Js(t.messageIds.map((e=>tl(eu,e)))),yield tl(Qd,{context:t.context,conversationId:e}),yield tl(Xt.j,e))}catch(t){Object(wt.b)(t)}}function*Ng(e){try{const{results:t}=e.payload.conversationResponse;yield Js(t.map((e=>tl(Rg,e.id))))}catch(t){Object(wt.b)(t)}}function*Lg(){yield ad(Te.g,Ng)}function*Dg(){yield Js([nl(Ag),nl(wg),nl(Lg)])}var Mg=n(514),Pg=n.n(Mg),kg=n(503),Ug=n.n(kg),Bg=n(807);function*Fg(){try{const e=yield rl($n.b),{isMinimized:t}=e;t&&(yield Zs({type:V.d,payload:{}}))}catch(e){Object(wt.b)(e)}}function*Gg(){try{const e=yield rl($n.c),t=Object(Xi.d)(Object(Xi.u)(e)),n=yield tl(je.b),a=`/conversation/${t}`,{isConversationPath:o}=cg(n.location.pathname,n.location.hash);o?n.replace(a):n.push(a),yield tl(Fg)}catch(e){Object(wt.b)(e)}}function*Wg(){try{yield Xs(Te.g),yield tl(Gg)}catch(e){Object(wt.b)(e)}}function*zg(e){let{initialMessages:t,conversationContext:n,createCase:a,additional:o,assignToUser:r,conversationId:i}=e;try{const e=yield rl($n.g),c=Object(Uc.d)(e);let s,l;const u=Ug()(t,(e=>{const t=wa()(e)?e:e.message;return!d()(yn()(t))}));if(!d()(u)||d()(t)&&de()(t)){const e=(e=>e.map((e=>wa()(e)?{message:{text:e},isSentByUser:!1}:wa()(e.message)?{...e,message:{text:e.message}}:e)))(u);s=qr()(e.map(((e,t)=>e.isSentByUser?lu.a.makeOutgoing().makeTextMessage({text:e.message.text||"",conversationId:i,sender:c,disableManualResponse:e.message.disableManualResponse}):sp(e.message.text,i,`${t}`,e.message.disableManualResponse)))),l=!0}else{const e=yield rl($n.c),t=Object(Xi.l)(e,oo.e);s=Object(Xi.k)(t),l=Object(Xi.w)(t)}yield Zs({type:Te.J,payload:{conversationId:i,messages:s,conversationContext:n,hasInitialItems:l,createCase:a,assignToUser:r,additional:o}})}catch(c){Object(wt.b)(c)}}function*Vg(e,t){const{payload:{silent:n},promise:a}=t;try{let o=yield rl((e=>e));const r=qt.a.getCustomizationConfig(e),i=(e,t)=>s()(e,t),c=Object(Xi.p)(Object($n.c)(o));Ee()(Object(Xi.t)(c))&&(yield Zs({type:Te.B,payload:{}}),yield Xs(Te.ab),o=yield rl((e=>e)));const{isLocked:l}=Object(ig.g)(o,r,i);if(l){if(!n){const e=Object(Xi.b)(c);yield tl(e?Gg:Wg)}throw rp.a.LIMIT_REACHED}const d=`${oo.e}_${Pg()()}`;yield tl(zg,{...t.payload,conversationId:d});const u=yield tl(sg);if(n&&(yield Zs({type:Te.K,payload:{conversationId:d,appContext:u},promise:a})),!n){const e=Object(je.b)(),{isConversationPath:t}=cg(e.location.pathname,e.location.hash),n=`/conversation/new/${d}`;!!t?e.replace(n):e.push(n),yield tl(Fg)}}catch(o){a&&a.reject(lp(o)),Object(wt.b)(o)}}function*$g(e){const{payload:t,promise:n}=e;let a;try{let e=yield rl($n.c),o=Object(Xi.p)(e);if(a=t.conversationId,a||(Object(Xi.b)(o)||(yield Xs(Te.g),e=yield rl($n.c),o=Object(Xi.p)(e)),a=Object(Xi.d)(Object(Xi.u)(e))),!a)return void(n&&n.reject(rp.a.NOT_FOUND));const r=Object(je.b)(),{isConversationPath:i,matchedConversationId:c}=cg(r.location.pathname,r.location.hash),l=!!i,u=`/conversation/${a}`;let b=a,f=[];if(c!==a){if(Object(p.z)(a)){const e=Object(p.d)(a),t=Object(p.c)(e),n=Object(Xi.i)(o,e);if(b=t,!Pd()(o.ids,n)){const n=yield tl(sg);yield Zs(Object(ou.a)(e,t,n)),f=[Te.t,Te.u]}}else Pd()(o.ids,a)||(yield Zs(Object(ou.b)(a)),f=[Te.w,Te.x]);for(;!d()(f);){const[e,t]=yield Qs([Xs(f[0]),Xs(f[1])]);if(b===(s()(e,"payload.conversationResponse.id")||s()(t,"payload.conversationId"))){if(t)throw t.payload.error;break}}}l?r.replace(u):r.push(u),yield tl(Fg),n&&n.resolve(a)}catch(o){Object(wt.b)(o),n&&n.reject(lp(o))}finally{(yield qs(Ys,{}))&&n&&n.reject(rp.a.UNEXPECTED_ERROR)}}function*Hg(){try{const{payload:{applicationConfig:e}}=yield Xs(ql.a);yield ad(Bg.c,Vg,e)}catch(e){Object(wt.b)(e)}}function*Yg(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return nl.apply(void 0,[td,e,t].concat(a))}(Bg.a,$g)}catch(e){Object(wt.b)(e)}}var qg=n(727);const Kg={[pu.c.PROGRESS_BAR]:e=>{const t=Nd.a.getMessagePayload(e).attachment;return t.status===qg.a.ABORTED||t.status===qg.a.ERROR}},Xg=e=>{const t=Nd.a.getMessagePayload(e).attachment,n=t&&Kg[t.type];return n&&n(e)};class Zg{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=q()(this.queueItems,(t=>Nd.a.getId(e.message)===Nd.a.getId(t.message)));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}}const Jg="EXTERNAL_MESSAGE_SEND";function*Qg(e){try{const{message:t,externalMessageId:n}=e,a=yield tl(cu,t);a&&(yield Zs({type:Jg,payload:{id:n,message:a}}))}catch(t){Object(wt.b)(t)}}function*ey(e){try{for(;;){const t=yield Xs(e);Xg(t.message)||(yield tl(Qg,t))}}catch(t){Object(wt.b)(t)}}let ty;function*ny(e){try{ty||(ty=yield tl(_l,new Zg),yield al(ey,ty));const t=yield rl($n.c),n=Object(Xi.d)(Object(Xi.u)(t)),a=yield rl($n.g),o=Object(Uc.d)(a),r=lu.a.makeOutgoing().makeDynamicMessage({externalMessageId:e.id,messageId:e.sprMsgId,messagePayload:e.message,conversationId:e.contextId||n,messageContext:e.messageContext,sender:e.isSentByUser?o:oo.b});if(!r)return;const i={externalMessageId:e.id,message:r};!e.sprMsgId||Xg(r)?yield nl(Qg,i):yield Zs(ty,i);const{payload:{id:c,message:s}}=yield Xs(Jg);return{id:c,message:s}}catch(t){return void Object(wt.b)(t)}}function*ay(e){let{action:t}=e;try{if(t.payload.type!==Ip.d)return;const e=yield tl(ny,t.payload.payload);if(!e)return void Object(be.a)({topic:he,payload:{error:L,request:t.payload}});const{id:n,message:a}=e;yield Zs(Object(od.l)({id:n,conversationId:null===a||void 0===a?void 0:a.conversationId,messageId:null===a||void 0===a?void 0:a.id})),Object(be.a)({topic:he,payload:{data:{id:n,conversationId:null===a||void 0===a?void 0:a.conversationId,messageId:null===a||void 0===a?void 0:a.id},request:t.payload}})}catch(n){Object(wt.b)(n)}}function*oy(e){let{action:t}=e;try{if(t.payload.type!==Ip.c)return;const{payload:e}=t.payload,n=lu.a.makeOutgoing().makeDynamicMessage({externalMessageId:e.id,messagePayload:{events:id()(e.event)},conversationId:e.contextId,sender:oo.b});if(!n)return;yield tl(cu,n)}catch(n){Object(wt.b)(n)}}var ry=n(817),iy=n.n(ry),cy=n(1040),sy=n.n(cy);const ly=/\$\{(\w+)\}/g,dy=(e,t)=>{const n=Object.keys(t);return sy()(e,ly,((e,a)=>n.includes(a)?t[a]:e))},uy=(e,t)=>{const{totalUnits:n,completedUnits:a,action:o,status:r}=t,i=e[`progress.${o}.${r}.title`];return dy(i,{completedUnits:a,totalUnits:n})},py=(e,t)=>{const{totalUnits:n,completedUnits:a,action:o,status:r}=t,i=e[`progress.${o}.${r}.description`];return dy(i,{completedUnits:a,totalUnits:n})};class by{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=q()(this.queueItems,(t=>e.action.payload.contextId===t.action.payload.contextId));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}}const fy=(e,t)=>`${e}_${t}`,hy=iy()((()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n},remove:t=>{delete e[t]}}}));function*gy(e){for(;;)try{const{action:n,localeData:a}=yield Xs(e),{payload:{contextId:o,id:r,data:i,progressContext:c}}=n,s={type:pu.c.PROGRESS_BAR,title:uy(a,i),description:py(a,i),progress:i.progress,status:i.status,action:i.action,enableCancel:i.enableCancel,enableRetry:i.enableRetry},l={attachment:s,disableManualResponse:i.disableManualResponse},d=yield tl(ny,{contextId:o,id:r,sprMsgId:hy().get(fy(o,s.action)),message:l,messageContext:c});if(!d)return void Object(be.a)({topic:he,payload:{error:L,request:n}});const{id:u,message:p}=d;yield Zs(Object(od.m)({id:u,conversationId:null===p||void 0===p?void 0:p.conversationId,messageId:null===p||void 0===p?void 0:p.id})),Object(be.a)({topic:he,payload:{data:{id:r,conversationId:null===p||void 0===p?void 0:p.conversationId,messageId:null===p||void 0===p?void 0:p.id},request:n}}),(t=s).status!==qg.a.COMPLETED&&(t.status!==qg.a.ABORTED&&t.status!==qg.a.ERROR||t.enableRetry)?hy().set(fy(o,s.action),null===p||void 0===p?void 0:p.id):hy().remove(fy(o,s.action))}catch(n){Object(wt.b)(n)}var t}let yy;function*Oy(e){let{action:t,localeData:n}=e;try{if(t.payload.type!==Ip.f)return;yy||(yy=yield tl(_l,new by),yield al(gy,yy)),yield Zs(yy,{action:t.payload,localeData:n})}catch(a){Object(wt.b)(a)}}function*my(e,t){try{yield Js([tl(ay,{action:t,localeData:e}),tl(oy,{action:t,localeData:e}),tl(Oy,{action:t,localeData:e}),tl(_g,{action:t})])}catch(n){Object(wt.b)(n)}}function*vy(e,t){try{e&&(yield ad(e,my,t))}catch(n){Object(wt.b)(n)}}function*jy(){try{const t=yield il(Te.y);let n;for(;;)try{const{payload:{data:e}}=yield Xs(U.b);n&&(yield ol(n)),n=yield nl(vy,t,e)}catch(e){Object(wt.b)(e)}}catch(e){Object(wt.b)(e)}}function*Iy(){const e=Object(u.a)();yield Object(Xt.g)(e.appId)}function*Cy(){yield ad(V.f,Iy)}function*Ey(){try{yield Js([nl(Hg),nl(Yg),nl(jy),nl(Cy)])}catch(e){Object(wt.b)(e)}}function Ty(e){return Object(Xi.v)(Object(Xi.p)(Object($n.c)(e)))}function*_y(){try{let t=yield rl(Ty);for(;;)try{yield Qs({notificationReceived:Xs(Te.P),notificationRead:Xs(Te.O),notificationsReceived:Xs(Te.N)});const e=yield rl(Ty);t!==e&&(Object(be.a)({topic:ee.l,payload:{data:{count:e}}}),t=e)}catch(e){Object(wt.b)(e)}}catch(e){Object(wt.b)(e)}}function*Sy(){try{for(;;)try{const e=yield Xs(Te.z);Object(be.a)({topic:ee.f,payload:{data:{type:e.payload.type,payload:{...e.payload.payload,userAuthToken:yield Object(Xt.a)(Ft.a.getAppId(Object(u.a)()))}}}})}catch(e){Object(wt.b)(e)}}catch(e){Object(wt.b)(e)}}function*xy(){try{yield Js([nl(_y),nl(Sy)])}catch(e){Object(wt.b)(e)}}var Ay=n(197);async function wy(e){return(await ze.a.post(`/livechat/upload/policy?fileName=${encodeURIComponent(e)}`,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}async function Ry(e,t){let{bucket:n,domainName:a}=e;const o=await ze.a.post(`https://${n}.${null!==a&&void 0!==a?a:"s3.amazonaws.com"}/`,t);return decodeURIComponent(o.headers.location)}const Ny=[{key:"Cache-Control",value:n.n(Ay)()("max-age=31536000, no-transform, public")},{key:"Content-Type",value:e=>e.type}],Ly=["key","acl","x-amz-credential","x-amz-algorithm","x-amz-date","policy","x-amz-signature","x-amz-security-token","x-amz-server-side-encryption"];function*Dy(e,t){try{if(function(e){return"AZURE"===e.type}(e)){const{uploadFileOnAzure:a}=yield Promise.all([n.e(4),n.e(15)]).then(n.bind(null,1846));return yield tl(a,e,t)}return yield tl(Ry,e,function(e,t){const n=new FormData;return Ly.forEach((t=>{n.append(t,e[t])})),Ny.forEach((e=>{n.append(e.key,e.value(t))})),n.append("file",t),n}(e,t))}catch(a){return}}function*My(e){try{const t=yield tl(wy,e.name);if(t){return yield tl(Dy,t,e)}return}catch(t){return}}var Py=n(648),ky=n(625);function Uy(e){return new Promise((t=>{const n=document.createElement("img");n.onload=e=>{e.target&&t({height:e.target.naturalHeight,width:e.target.naturalWidth})},n.src=e}))}function*By(e,t,n,a){try{if(o=n.type,Pd()(ky.c,o)){const o=URL.createObjectURL(n),{height:r,width:i}=yield tl(Uy,o),c=yield tl(ou.p,lu.a.makeOutgoing().makeImageAttachmentMessage({attachmentProperties:{height:r,width:i,url:o},conversationId:e,sender:t,inReplyToChatMessageId:a}));yield Zs(c);const s=yield tl(My,n);if(s){const e=Object(Py.f)(c.payload.chatMessage,s,pu.c.IMAGE);yield tl(su,e),URL.revokeObjectURL(o)}else yield Zs({payload:{conversationId:e,transientId:c.payload.chatMessage.id},type:Te.F})}}catch(r){Object(wt.b)(r)}var o}function Fy(e){return new Promise((t=>{const n=document.createElement("video");n.onloadeddata=()=>{n.currentTime=0},n.onseeked=e=>{const a=document.createElement("canvas");a.height=n.videoHeight,a.width=n.videoWidth;const o=a.getContext("2d");if(o){o.drawImage(n,0,0,a.width,a.height);(a.toBlob||a.msToBlob).bind(a)((e=>{const a=e?new File([e],"image.jpg",{type:"image/jpeg"}):null;t({previewImageFile:a,height:n.videoHeight,width:n.videoWidth})}))}},n.src=e,n.load()}))}function*Gy(e){try{return yield tl(My,e)}catch(t){return void Object(wt.b)(t)}}function*Wy(e,t,n,a){try{if(o=n.type,Pd()(ky.e,o)){const o=URL.createObjectURL(n),{previewImageFile:r,height:i,width:c}=yield tl(Fy,o),s=URL.createObjectURL(r),l=yield tl(ou.p,lu.a.makeOutgoing().makeVideoAttachmentMessage({attachmentProperties:{height:i,width:c,previewImageUrl:s,url:o},conversationId:e,sender:t,inReplyToChatMessageId:a}));yield Zs(l);const[d,u]=yield Js([tl(My,n),tl(Gy,r)]);if(d){const e=Object(Py.g)(Object(Py.f)(l.payload.chatMessage,d,pu.c.VIDEO),u);yield tl(su,e),URL.revokeObjectURL(o),URL.revokeObjectURL(s)}else yield Zs({payload:{conversationId:e,transientId:l.payload.chatMessage.id},type:Te.F})}}catch(r){Object(wt.b)(r)}var o}var zy=n(1041);const Vy={"application/pdf":zy.a.PDF,"text/plain":zy.a.DOCUMENT,"application/msword":zy.a.WORD_DOCUMENT,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":zy.a.WORD_DOCUMENT,"application/vnd.ms-excel":zy.a.EXCEL,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":zy.a.EXCEL,"application/vnd.ms-powerpoint":zy.a.PRESENTATION,"application/vnd.openxmlformats-officedocument.presentationml.presentation":zy.a.PRESENTATION,"application/onenote":zy.a.ONENOTE,"application/json":zy.a.DOCUMENT};function*$y(e,t,n,a){try{if(o=n.type,Pd()(ky.b,o)){const o=URL.createObjectURL(n),r=yield tl(ou.p,lu.a.makeOutgoing().makeDocumentAttachmentMessage({attachmentProperties:{url:o,title:n.name,documentType:Vy[n.type]},conversationId:e,sender:t,inReplyToChatMessageId:a}));yield Zs(r);const i=yield tl(My,n);if(i){const e=Object(Py.f)(r.payload.chatMessage,i,pu.c.DOCUMENT);yield tl(su,e),URL.revokeObjectURL(o)}else yield Zs({payload:{conversationId:e,transientId:r.payload.chatMessage.id},type:Te.F})}}catch(r){Object(wt.b)(r)}var o}function*Hy(e,t,n,a){try{if(o=n.type,Pd()(ky.a,o)){const o=URL.createObjectURL(n),r=yield tl(ou.p,lu.a.makeOutgoing().makeAudioAttachmentMessage({attachmentProperties:{url:o,mimeType:n.type,title:n.name},conversationId:e,sender:t,inReplyToChatMessageId:a}));yield Zs(r);const i=yield tl(My,n);if(i){const e=Object(Py.f)(r.payload.chatMessage,i,pu.c.AUDIO);yield tl(su,e),URL.revokeObjectURL(o)}else yield Zs({payload:{conversationId:e,transientId:r.payload.chatMessage.id},type:Te.F})}}catch(r){Object(wt.b)(r)}var o}function*Yy(e){const{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:o}=e.payload;yield Js([tl(By,t,n,a,o),tl(Wy,t,n,a,o),tl(Hy,t,n,a,o),tl($y,t,n,a,o)])}var qy=function*(){yield ad(Bg.b,Yy)};let Ky;function*Xy(){for(;;)try{let e;yield Xs(hd.b),Ky=Date.now(),yield Xs(hd.a),e=Date.now(),Ky&&e-Ky>=3e5&&(Ky=void 0,yield Zs({type:hd.l}))}catch(e){Object(wt.b)(e)}}function*Zy(){yield Js([nl(Xy)])}var Jy=n(1015);function*Qy(){try{for(;;)try{yield Xs(V.g);Object(p.K)()?Object(be.a)({topic:ee.d}):yield Zs(Object(Bo.b)())}catch(e){Object(wt.b)(e)}}catch(e){Object(wt.b)(e)}}function*eO(){try{for(;;)try{const e=yield Xs(V.k),{isMediaOpen:t}=e.payload;t?Object(be.a)({topic:ee.h}):Object(be.a)({topic:ee.g})}catch(e){Object(wt.b)(e)}}catch(e){Object(wt.b)(e)}}function*tO(e,t){try{yield Zs(Object(Bo.i)(e,t))}catch(n){Object(wt.b)(n)}}function*nO(e,t,n){try{const e=yield rl($n.b),t=Object(Vn.e)(e),n=Object(Uc.c)(yield rl(Po.h)).userId;let a={};Nr()(t,((e,t)=>{a={...a,[t]:e.enabled}})),yield Object(Xt.n)(n,a)}catch(a){yield tl(tO,e,n),Object(wt.b)(a)}}function*aO(){try{for(;;){const e=yield Xs(V.p),{userPreferenceKey:t,newValue:n,oldValue:a}=e.payload;yield tl(tO,t,n),yield tl(nO,t,n,a)}}catch(e){Object(wt.b)(e)}}function*oO(){try{const{payload:{applicationConfig:e}}=yield Xs(ql.a);setTimeout((()=>{const t=s()(e,"otherConfigs.theme.icons",{});Nr()(t,(e=>{Object(Jy.a)(e)}))}),1e4)}catch(e){Object(wt.b)(e)}}function*rO(){try{yield Js([nl(Qy),nl(eO),nl(aO),nl(oO)])}catch(e){Object(wt.b)(e)}}function*iO(e){try{const{user:t,userContext:n}=e.payload||{},a=Object(Uc.c)(yield rl(Po.h)),o=dd.a.getId(a),r=Object(p.M)(n);if(Object(on.a)(t)&&!Object(on.b)(o)||Object(on.b)(o)&&Object(on.e)(t,a)){const e=k()(Object(u.a)(),{userContext:{$merge:r},user:{$set:{...Object(u.a)().user||{},...t}}});Object(u.f)(e);const{data:n}=yield tl(ld.c,{...a,...t,customContext:r});return yield Zs(Object(Dn.c)({action:jr.a.USER_PROFILE_UPDATED})),void(yield Zs({type:U.e,payload:{users:[n]}}))}const i=k()(Object(u.a)(),{userContext:{$set:r},user:{$set:t}});return Object(u.f)(i),void Object(en.e)({shouldReboot:!0,shouldContinueSession:!Object(on.a)(t)&&!Object(on.b)(o)})}catch(t){Object(wt.b)(t)}}function*cO(){try{yield ad(W,iO)}catch(e){Object(wt.b)(e)}}function*sO(){return Sl((e=>{const t=()=>{e(Object(Dn.g)(!0))},n=()=>{e(Object(Dn.g)(!1))};return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}))}function*lO(){let e;try{for(e=yield tl(sO);;){const t=yield Xs(e);yield Zs(t)}}catch(t){Object(wt.b)(t)}finally{e&&e.close()}}function dO(){return Sl((e=>{const t=Object(u.b)();if(!t)return X.a;const n=()=>{const{visibilityState:t}=document;"hidden"===t&&e({type:hd.b}),"visible"===t&&e({type:hd.a})};return t.document.addEventListener("visibilitychange",n),()=>{t.document.removeEventListener("visibilitychange",n)}}))}function*uO(){let e;try{for(e=yield tl(dO);;){const t=yield Xs(e);yield Zs(t)}}catch(t){Object(wt.b)(t)}finally{e&&e.close()}}function*pO(e){try{const{ssoId:t,conversationId:n,messageId:a}=e.payload;yield an({ssoId:t,conversationId:n,messageId:a}),e.promise&&e.promise.resolve(),Object(en.e)({shouldReboot:!0,shouldContinueSession:!0})}catch(t){yield Zs({type:hd.c,payload:{}}),e.promise&&e.promise.reject()}}function*bO(){try{yield ad(hd.d,pO)}catch(e){Object(wt.b)(e)}}function*fO(){try{yield Js([nl(bO)])}catch(e){Object(wt.b)(e)}}let hO=!0;function*gO(){for(;;)try{yield Xs(V.b),yield Zs({type:V.c})}catch(e){Object(wt.b)(e)}}function*yO(){for(;;)try{yield Xs(V.d),yield Zs({type:V.e})}catch(e){Object(wt.b)(e)}}function*OO(e){hO=!1,yield Zs(Object(Dn.a)({ssoId:Kt.a.getAutoLoginSSOId(qt.a.getCustomizationConfig(e))})())}function*mO(){try{const{payload:{applicationConfig:e}}=yield Xs(ql.a);if(Object(p.K)())return;if(!hO||!nn(e))return void(yield nl(yO));yield Xs(V.d),yield tl(OO,e),yield Xs(hd.c),yield nl(yO),yield Zs({type:V.d})}catch(e){Object(wt.b)(e)}}function*vO(){yield Js([nl(mO),nl(gO)])}var jO=n(1042),IO=n(830);function*CO(e){try{const{type:t,buttonId:n,promptId:a}=e.payload,o=yield rl($n.d),r=Yi()(o,(e=>e.id===a));if(!r)return;t!==IO.a.TRIGGERED&&(yield Zs(function(e){return{type:re.b,payload:{promptId:e}}}(a)));const i=Yi()(r.buttons,(e=>e.id===n));t===IO.a.ENGAGED&&i&&i.type===IO.b.URL&&i.value?window.open(Object(Qt.c)(i.value)):t!==IO.a.ENGAGED||i&&i.type===IO.b.CLOSE||(yield Zs(Object(fe.b)({initialMessages:qr()([...Lc()(r.messages,(e=>{let{text:t,disableManualResponse:n=!1}=e;return{message:{text:t,disableManualResponse:n}}})),i?{isSentByUser:!0,message:i.label}:void 0]),createCase:!!s()(r.additional,"createCase"),additional:{...Qb()(r.additional,["interceptId","creativeId"]),interceptTargetId:n,clickedOnPrompt:!0}}))),Object(be.a)({topic:ee.j,payload:{data:{type:t,id:a,button:i}}})}catch(t){Object(wt.b)(t)}}function*EO(){try{yield ad(jO.a,CO)}catch(e){Object(wt.b)(e)}}function*TO(){try{const{appId:e}=Object(u.a)();yield tl(Qo.remove,e)}catch(e){Object(wt.b)(e)}}function*_O(e){try{const{conversationId:t,messageId:n,agentId:a}=e.payload.state,{appId:o}=Object(u.a)();yield tl(Qo.set,o,JSON.stringify({conversationId:t,messageId:n,agentId:a}))}catch(t){Object(wt.b)(t)}}function*SO(){yield ad([Ru.g,Ru.h],TO)}function*xO(){yield ad(Ru.j,_O)}function*AO(){yield Js([nl(SO),nl(xO)])}var wO=n(1043);let RO=null;function NO(e){let{sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n}=e;if(t&&n)try{Object(wO.a)(),RO=setTimeout((()=>{NO({sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n})}),((e,t)=>{const n=60*e*1e3-t,a=60*e*1e3/3;return n<=a?Math.max(n-2e3,0):a})(t,n))}catch(a){Object(wt.b)(a)}}function*LO(){try{const{payload:{applicationConfig:e}}=yield Xs(ql.a),t=qt.a.getAutoExpireUserSessionTimeInMinutes(e),n=s()(e,"otherConfigs.settings.autoExpiryConfig.alertTime");for(;t&&n;)yield Qs([Xs(th.e),Xs(th.t),Xs(th.u)]),NO({sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n}),yield Qs([Xs(th.h),Xs(th.o),Xs(th.b)]),RO&&clearTimeout(RO)}catch(e){Object(wt.b)(e)}finally{RO&&clearTimeout(RO)}}var DO=n(655);function MO(e){return e.type===yt}function*PO(e){try{const{events:t}=e.payload,n=yield rl($n.g),a=Object(Uc.c)(n);yield Js(t.filter(MO).map((e=>(Object(on.d)(a)||DO.d.emit({type:DO.a}),null))))}catch(t){Object(wt.b)(t)}}function*kO(){try{yield ad(hd.k,PO)}catch(e){Object(wt.b)(e)}}var UO=n(941);const BO=(e,t)=>`${qt.a.getParnterId(t)}_${qt.a.getAppId(t)}_${dd.a.getId(up.a.getChatUser(e))}_${Date.now()}_${Math.random().toString(16).substr(2,8)}`;let FO;const GO=(e,t)=>{const n=up.a.getChatSessionToken(e),a=BO(e,t),o=up.a.getInboxServerUrl(e),r=up.a.getUserInbox(e);return FO=new UO.a({userName:n,clientId:a,inboxServerUrl:o,userInbox:r}),FO},WO=()=>FO;function zO(e){const t=()=>{WO().disconnect().then((()=>{Object(g.a)("MQTT Client | Disconnected")})).catch((e=>{Object(hn.f)(e)?console.warn(e):console.error(`MQTT Client | Disconnection Error ${e}`)}))};try{WO().connect().catch((e=>{Object(hn.f)(e)?console.warn(e):console.error(`MQTT Client | Connection Error ${e}`)})),function(){const e=WO();e.on("error",(()=>{Object(g.a)("MQTT Client | Error")})),e.on("offline",(()=>{Object(g.a)("MQTT Client | Offline")})),e.on("reconnect",(()=>{Object(g.a)("MQTT Client | Reconnect")})),e.on("close",(()=>{Object(g.a)("MQTT Client | Closed")}))}(),WO().subscribe().catch((e=>{Object(hn.f)(e)?console.warn(e):console.error(`MQTT client | Subscribe Error ${e}`)})),WO().on("message",((t,n)=>{try{const t=JSON.parse(n.toString());e(t)}catch(a){Object(wt.b)(a)}}))}catch(n){Object(wt.b)(n),t()}return t}var VO=class{constructor(e,t){if(this.poll=()=>{this.isActive&&(this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.enableBackOff&&(this.interval=this.interval+this.baseInterval),this.poll()}))}),this.interval))},this.start=e=>{this.isActive||(this.isActive=!0,this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.poll()}))}),e||0))},this.stop=()=>{this.isActive=!1,this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=void 0),this.enableBackOff&&(this.interval=this.baseInterval)},!e)throw new Error("No poll handler defined");var n;this.handler=(n=e,()=>n().catch((()=>{}))),this.baseInterval=t.pollInterval,this.enableBackOff=t.enableBackOff,this.interval=t.pollInterval,this.timeoutId=void 0,this.isActive=!1}};const $O=()=>{return"A_"+(e=Date.now(),`${Math.floor(e/1e3).toString(16)}0000000000000000`);var e},HO=iy()((()=>{let e=$O();return{set:t=>{e=t||e},get:()=>e}}));let YO=!0;function qO(e,t){const n=HO();return new VO((function(){return function(e){return Object(Rd.__awaiter)(this,void 0,void 0,(function*(){const{cursor:t,lastActiveDiff:n}=e||cn.a;return(yield Yl.a.post("/livechat/event/fetch-notifications"+(t?`?cursor=${t}`:""),{p:{lastActiveDiff:n},"x-chat-auto":!0},{backoff:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}({cursor:n.get(),lastActiveDiff:t.getLastActiveTimeDifference()}).then((t=>{const{results:a,afterCursor:o}=t;e(null,a,{isFirstCall:YO}),YO=!1,n.set(o)})).catch((t=>{e(Object(hn.c)(t)?t:null,[],{})}))}),{...t||{},pollInterval:15e3})}var KO=n(1885);const XO=Object(KO.a)(["payload","type"]),ZO=Object(Gt.a)("conversationId"),JO=Object(Gt.a)("sender"),QO=Object(Gt.a)("payload"),em=Object(Gt.a)("creationTime");class tm{}tm.getMessageType=Object(Wt.a)(XO),tm.getConversationId=Object(Wt.a)(ZO),tm.getSender=Object(Wt.a)(JO),tm.getCreationTime=Object(Wt.a)(em),tm.getPayload=e=>Object(Wt.a)(QO)(e);const nm={[Qe]:e=>({payload:{conversationId:tm.getConversationId(e),messageId:tm.getPayload(e).messageId},type:Qe}),[et]:e=>({payload:{conversationId:tm.getConversationId(e),messageId:tm.getPayload(e).messageId},type:et}),[tt]:e=>({payload:{...Ut()(e.payload.externalEvent,["type","action","conversationId","payload"]),actionType:tm.getPayload(e).externalEvent.action,externalParams:tm.getPayload(e).externalEvent.payload,contextId:tm.getConversationId(e)},type:tt}),UI_CONTROL:e=>({type:tm.getPayload(e).event.action,payload:tm.getPayload(e).event.payload?JSON.parse(tm.getPayload(e).event.payload):{}}),[nt]:e=>({payload:{conversationId:tm.getConversationId(e),chatUserId:tm.getPayload(e).chatUserId},type:nt}),[at]:e=>({payload:{conversationId:tm.getConversationId(e),sender:tm.getSender(e),actionTime:tm.getCreationTime(e)},type:at}),[ot]:e=>({payload:{conversationId:tm.getConversationId(e),sender:tm.getSender(e),actionTime:tm.getCreationTime(e)},type:ot}),[ct]:e=>({payload:{conversationId:tm.getConversationId(e),sender:tm.getSender(e),closed:tm.getPayload(e).closed,deleted:tm.getPayload(e).deleted,caseNumber:tm.getPayload(e).caseNumber,expireAssetUntilLastMessageId:tm.getPayload(e).lastMessageId},type:ct}),[st]:e=>{const t=tm.getPayload(e).audioOnly;return{payload:{videoConversationId:tm.getPayload(e).videoConversationId,conversationId:tm.getConversationId(e),participantInfos:tm.getPayload(e).participantInfos,type:t?Uo.b.AUDIO:Uo.b.VIDEO},type:st}},[lt]:e=>({payload:{conversationId:tm.getConversationId(e),videoConversationId:tm.getPayload(e).videoConversationId},type:lt}),[dt]:e=>({payload:{conversationId:tm.getConversationId(e),videoCallEnabled:tm.getPayload(e).videoEnabled,audioCallEnabled:tm.getPayload(e).audioEnabled},type:dt}),[Ot]:e=>({payload:{conversationId:tm.getConversationId(e),permissions:tm.getPayload(e).permissions,callMode:tm.getPayload(e).callMode,videoConversationId:tm.getPayload(e).videoConversationId},type:Ot}),[ut]:e=>({payload:{conversationId:tm.getConversationId(e),videoConversationId:tm.getPayload(e).conversation.id,conversation:tm.getPayload(e).conversation,participant:tm.getPayload(e).participant},type:ut}),[pt]:e=>({payload:{conversationId:tm.getConversationId(e),videoConversationId:tm.getPayload(e).videoConversationId},type:pt}),[bt]:e=>({payload:{conversationId:tm.getConversationId(e),videoConversationId:tm.getPayload(e).videoConversationId},type:bt}),[ft]:e=>({payload:{status:tm.getPayload(e).status},type:ft}),[ht]:e=>({payload:{conversationId:tm.getConversationId(e),unassignedFrom:tm.getPayload(e).unassignedFrom,assignedTo:tm.getPayload(e).assignedTo,newAssigneeType:tm.getPayload(e).newAssigneeType,oldAssigneeType:tm.getPayload(e).oldAssigneeType,assignmentTime:tm.getPayload(e).assignmentTime},type:ht}),[gt]:e=>{const{action:t}=tm.getPayload(e);return{payload:{params:t.params,conversationId:tm.getConversationId(e),type:t.actionType},type:gt}},[yt]:e=>{const{action:t}=tm.getPayload(e);return{payload:{},type:yt}}};function am(e){try{const t=tm.getMessageType(e),n=nm[t];if(n)return n(e)}catch(t){Object(wt.b)(t)}}const om=(()=>{const e=new Set;return{add:t=>e.add(t),clear:()=>e.clear(),has:t=>e.has(t)}})(),rm=(()=>{let e=0,t=!0;return{getLastActiveTimeDifference:()=>t?0:Date.now()-e,setAppActive:n=>{t=n,n||(e=Date.now())}}})(),im=(e,t)=>function(e,t){let n;function a(){n&&n.stop()}try{n=qO(e,t),n.start(15e3)}catch{a()}return a}(((t,n,a)=>{let{isFirstCall:o}=a;if(e(Object(Dn.g)(!t)),t)return;const r=n.filter((e=>!om.has(e.id))).map(am).filter((e=>!!e)).filter((e=>!o||!(e=>e.type===ut||e.type===st)(e)));e(r),om.clear()}),{...t,getLastActiveTimeDifference:rm.getLastActiveTimeDifference});function cm(){return Sl((e=>{const t=(e=>zO((t=>{const n=am(t);n&&(om.add(t.id),e(n))})))(e);return()=>{t()}}))}function sm(){return Sl((e=>{const t=im(e);return()=>{t()}}))}function lm(){return Sl((e=>{const t=im(e,{enableBackOff:!0});let n;return n=window.setTimeout((()=>{t()}),432e5),()=>{n&&window.clearTimeout(n),t()}}))}const dm=e=>e.type===hd.e,um=e=>!dm(e);function*pm(e){try{yield Js(e.filter(dm).map((e=>Zs(e))))}catch(t){Object(wt.b)(t)}}function*bm(e){try{let t=e.filter(um);if((()=>{var e;return"CONVERSATION"===(null===(e=window.sprChatSettings)||void 0===e?void 0:e.scope)})()){const{isConversationPath:e,conversationId:n}=yield rl(ig.e);t=t.filter((t=>((e,t,n)=>{const a=s()(e.payload,"contextId")||s()(e.payload,"conversationId");return!!t&&(!a||!n||n.startsWith(oo.e)||a===n)})(t,e,n)))}d()(t)||(yield Zs({type:hd.k,payload:{events:t}}),yield Zs(Object(Dn.e)()))}catch(t){Object(wt.b)(t)}}function*fm(e){try{const t=id()(e);yield Js([tl(pm,t),tl(bm,t)])}catch(t){Object(wt.b)(t)}}function*hm(){try{let t,n;try{t=yield tl(lm),n=yield ad(t,fm),yield Xs(hd.a)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield ol(n))}}catch(t){Object(wt.b)(t)}}function*gm(){try{for(;;){yield Xs(hd.b);const[e,t]=yield Qs([Xs(hd.a),cl(18e5)]);if(t)break}}catch(e){Object(wt.b)(e)}}function*ym(){try{let t,n;try{t=yield tl(sm),n=yield ad(t,fm),yield tl(gm)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield ol(n))}}catch(t){Object(wt.b)(t)}}function*Om(){try{for(;;){yield Xs(hd.b);const[e,t]=yield Qs([Xs(hd.a),cl(108e5)]);if(t)break}}catch(e){Object(wt.b)(e)}}function*mm(){try{let t,n;for(;;)try{yield Qs([Xs(hd.i),Xs(hd.a)]),t=yield tl(cm),n=yield ad(t,fm),yield tl(Om)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield ol(n))}}catch(t){Object(wt.b)(t)}}function*vm(){try{for(yield Qs([Xs(hd.h),Xs(hd.a)]);;)yield tl(ym),yield tl(hm)}catch(e){Object(wt.b)(e)}}function*jm(){try{for(;;){const[e,t]=yield Qs([Xs(hd.a),Xs(hd.b)]);rm.setAppActive(!!e)}}catch(e){Object(wt.b)(e)}}function*Im(){try{yield Js([nl(mm),nl(vm),nl(jm)])}catch(e){Object(wt.b)(e)}}var Cm=n(54),Em=n.n(Cm);var Tm=async e=>{let t,{applicationConfig:a,preloadedState:o}=e;try{h.a.reset(),A(E),t=await pn(Object(u.a)()),sn({handshakeDetails:t}),On(t.chatUser),a.hasPrompts&&n.e(49).then(n.bind(null,1858)).then((e=>{let{default:n}=e;n(a,t)})),Mm(null,{applicationConfig:a,handshakeDetails:t,chatSettings:Object(u.a)(),subscribeToEvent:bn,preloadedState:o})}catch(r){const e=Ft.a.getUserSettings(Object(u.a)());Object(hn.e)(r)&&e&&Yt.getOneTimeToken(e)?Mm(r,{applicationConfig:a,handshakeDetails:t,chatSettings:Object(u.a)(),subscribeToEvent:bn,preloadedState:o}):await fn()}};function*_m(){try{const{payload:{applicationConfig:t}}=yield Xs(ql.a);for(;;)try{const{payload:{shouldContinueSession:e}}=yield Xs(ql.b);let n;e&&(n=yield rl(Em.a)),yield Tm({applicationConfig:t,preloadedState:n})}catch(e){Object(wt.b)(e)}}catch(e){Object(wt.b)(e)}}function*Sm(){try{yield Js([nl(Tg),nl(EO),nl(Ey),nl(xy),nl(qy),nl(lO),nl(uO),nl(Zy),nl(rO),nl(cO),nl(Dg),nl(AO),nl(LO),nl(kO),nl(Im)])}catch(e){Object(wt.b)(e)}}function*xm(){try{yield Xs(ql.c),A(S)}catch(e){Object(wt.b)(e)}}function*Am(){try{yield Js([nl(_m),nl(vO),nl(fO),nl(xm)])}catch(e){Object(wt.b)(e)}}function*wm(){try{yield nl(Am);const e=yield nl(Sm);yield Xs(ql.c),yield ol(e)}catch(e){Object(wt.b)(e)}}function*Rm(){yield Js([nl(rg),nl(wm)])}const Nm=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(new Kl).setReducer($n.a).setSaga(Rm).setPreloadedState(a).setHTTPClient(ze.a).setApplicationConfig(e).setHandshakeDetails(t).setChatSettings(n).build()};function Lm(e){let{applicationConfig:t,store:n,history:a}=e;const o=Object(u.b)().document,r=Object(p.K)()?p.a:p.b;In.a.render(Object(Mn.jsx)(Fc,{applicationConfig:t,history:a,store:n}),r(o,"spr-live-chat-app"))}function Dm(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:o,subscribeToEvent:r}=t;const i=Nm(n,a,o),c=Object(je.b)({isUnauthorized:!!e});GO(a,n);r((t=>{e||i.dispatch(t)})),Lm({applicationConfig:n,store:i,history:c})}function Mm(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:o,subscribeToEvent:r,preloadedState:i}=t;const c=Nm(n,a,o,i),s=Object(je.b)({isUnauthorized:!!e,reset:!i});GO(a,n);r((t=>{e||c.dispatch(t)})),Lm({applicationConfig:n,store:c,history:s}),i?s.goBack():s.go(s.entries.length-1)}async function Pm(){let e,t,a;try{if(e=Object(u.a)(),d()(e))throw new Error;await ln(e),sn({getSessionToken:()=>Object(Xt.a)(e.appId)});const[o,r]=await(async e=>{const[t,n]=await Promise.allSettled([un(e),pn(e)]),a=t.value;if(n.value.chatUser.locale=n.value.chatUser.locale||a.defaultLocale,Object(p.L)()||!nn(a))return[t,n];try{await an({ssoId:Kt.a.getAutoLoginSSOId(qt.a.getCustomizationConfig(a))})}catch(r){Object(wt.b)(r)}const o=await pn(e);return o.chatUser.locale=o.chatUser.locale||a.defaultLocale,[t,{value:o}]})(e);if(t=o.value,a=r.value,"rejected"===r.status)throw r.reason;if("rejected"===o.status)throw new Error;((e,t)=>{const{appId:n}=Object(u.a)(),{chatUser:a}=e;!s()(t,"otherConfigs.settings.disableSentry")&&Object(wt.a)()})(a,t),(e=>{const t=!Kt.a.isDebugModeDisabled(e.otherConfigs);window.sprDebugLog=function(){t&&console.debug(...arguments)}})(t),sn({applicationConfig:t,handshakeDetails:a}),t.hasPrompts&&n.e(49).then(n.bind(null,1858)).then((e=>{let{default:n}=e;n(t,a)})),Dm(null,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:bn})}catch(o){const n=Ft.a.getUserSettings(e);Object(hn.e)(o)&&n&&Yt.getOneTimeToken(n)?Dm(o,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:bn}):await fn()}}const km=()=>{!function(){async function e(){Pt(...arguments)}const t=Object(u.e)();e.q=t?t.q:[],e.loaded=!0,Object(u.b)().sprChat=e}();const e=Object(p.w)();n(1021)(`./${e.toLowerCase()}/pages`);const t=Object(u.e)();f(...t.q),Pm();const{meetingId:a,user:r,otp:c}=Object(u.a)(),l=s()(r,"oneTimeToken");d()(a)&&d()(l)&&d()(c)||t("open");const{autoTrigger:b}=Object(u.a)();let h;h=!0===b?0:o()(b)?1e3*Math.max(b,0):null,i()(h)||setTimeout((()=>{t("openNewConversation")}),h)}},1885:function(e,t,n){"use strict";var a=n(472),o=n(615),r=n(654),i=n(713),c=Number.isInteger||function(e){return e<<0===e},s=n(968),l=n(1395),d=Object(o.a)((function e(t,n,a){if(0===t.length)return n;var o=t[0];if(t.length>1){var d=!Object(l.a)(a)&&Object(r.a)(o,a)?a[o]:c(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,d)}if(c(o)&&Object(i.a)(a)){var u=[].concat(a);return u[o]=n,u}return Object(s.a)(o,n,a)})),u=n(1280),p=n(967),b=Object(a.a)((function(e){return Object(u.a)(Object(p.a)(e),d(e))}));t.a=b},373:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(365),o=n(530),r=n(946),i=n(7),c=n(618);function s(e){return Object(i.I)()||Object(r.b)(e)&&!Object(c.a)()}t.a=function(){const e=Object(o.a)();return Object(a.useMemo)((()=>s(e)),[e])}},374:function(e,t,n){"use strict";var a=n(365),o=n(567);t.a=function(){return Object(a.useContext)(o.a)}},375:function(e,t,n){"use strict";n.d(t,"b",(function(){return a.a})),n.d(t,"a",(function(){return o}));var a=n(709);const o={OPEN_LINK:"openLink",AUDIO:"audio",ATTACHMENT:"attachment",BOT_USER:"botUser",CAMERA:"camera",CHAT_USER:"chatUser",CHEVRON:"chevron",CLOSE:"close",CLOSE_CIRCLE:"closeCircle",CLOSE_CONVERSATION:"closeConversation",DELETE:"delete",DOCUMENT:"document",UNKNOWN_DOC:"unknownDoc",DOWNLOAD:"download",EMOJI:"emoji",ERROR:"error",EXCEL:"excel",IMAGE_PLACEHOLDER:"imagePlaceholder",INTERNET_DISCONNECTED:"internetDisconnected",MORE:"more",PDF:"pdf",PLAY:"play",PAUSE:"pause",PRESENTATION:"presentation",SEND:"send",SOUND_OFF:"soundOff",SOUND_ON:"soundOn",VIDEO:"video",VIDEO_ON:"videoOn",VIDEO_OFF:"videoOff",AUDIO_ON:"audioOn",AUDIO_OFF:"audioOff",END_CALL:"endCall",FULL_SCREEN:"fullScreen",EXIT_FULL_SCREEN:"exitFullScreen",ONENOTE:"onenote",LINE_LIST:"lineList",TEXT:"text",TIMER:"timer",LANGUAGE:"language",MINIMIZE:"minimize",MAXIMIZE:"maximize",SNACKBAR_SUCCESS:"snackbarSuccess",SNACKBAR_FAILURE:"snackbarFailure"}},379:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(365),o=n(546);function r(){return Object(a.useContext)(o.b).otherConfigs}},380:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(365),o=n(484),r=n(370);const i=e=>{const t=Object(r.c)();return Object(a.useMemo)((()=>Object(o.b)(e,t)),[e,t])}},385:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return h}));var a=n(729),o=n.n(a),r=n(442),i=n(528);function c(e){return{type:e?r.b:r.d,payload:{}}}function s(){return{type:r.j,payload:{}}}const l=o()(c,!0);o()(c,!1);function d(){return{type:r.g,payload:{}}}function u(e){return{type:r.k,payload:e}}function p(e,t,n){return{type:r.p,payload:{userPreferenceKey:e,newValue:t,oldValue:n}}}function b(e,t){return{type:r.q,payload:{userPreferenceKey:e,value:t}}}const f=e=>({type:i.b,payload:e}),h=e=>{let{value:t}=e;return{type:r.n,payload:{value:t}}}},388:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(1889),o=n(1802);const r=Object(a.a)("field"),i=Object(a.a)("values"),c=Object(a.a)("filterType"),s=Object(a.a)("filters"),l=Object(a.a)("details"),d=Object(a.a)("id");class u{}u.getField=Object(o.a)(r),u.getValues=Object(o.a)(i),u.getFilterType=Object(o.a)(c),u.getFilters=Object(o.a)(s),u.getDetails=Object(o.a)(l),u.getId=Object(o.a)(d)},394:function(e,t,n){"use strict";var a=n(365),o=n(416),r=n.n(o),i=n(18),c=n.n(i),s=n(178),l=n.n(s),d=n(374),u=n(582);t.a=()=>{const{locale:e,language:t}=Object(d.a)();return Object(a.useCallback)(((n,a)=>{const o=l()(n,"langVsTranslatedFieldValues");if(!c()(o))return l()(n,a);let i=l()(o,e)||l()(o,t);return i||(i=r()(o,((e,n)=>Object(u.b)(n)===t))),l()(i,a)||l()(n,a)}),[e,t])}},397:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(365),o=n(546);function r(){return Object(a.useContext)(o.b)}},401:function(e,t,n){"use strict";var a=n(365),o=n(1281);t.a=function(){return Object(a.useContext)(o.a)}},402:function(e,t,n){"use strict";var a=n(369);t.a=Object(a.g)({goBack:{id:"goBack",defaultMessage:"Go back"},liveChatBox:{id:"liveChatBox",defaultMessage:"Live chat box"},liveChatNotification:{id:"liveChatNotification",defaultMessage:"Live chat notification"},closeChat:{id:"closeChat",defaultMessage:"Close chat"},liveChat:{id:"liveChat",defaultMessage:"Live chat"},conversationClosed:{id:"conversationClosed",defaultMessage:"Conversation closed"},submit:{id:"submit",defaultMessage:"Submit"},textArea:{id:"textArea",defaultMessage:"Send your message here"},attachment:{id:"attachment",defaultMessage:"Attachment"},moreActions:{id:"moreActions",defaultMessage:"More actions"},sendingMessage:{id:"sendingMessage",defaultMessage:"Sending message"},sentMessage:{id:"sentMessage",defaultMessage:"Sent message"},receivedMessage:{id:"receivedMessage",defaultMessage:"Received message"},unreadMessages:{id:"unreadMessages",defaultMessage:"{count} Unread messages"},unreadMessage:{id:"unreadMessage",defaultMessage:"{count} Unread message"},newNotifications:{id:"newNotifications",defaultMessage:"New notifications"},newNotification:{id:"newNotification",defaultMessage:"New notification"},agentImage:{id:"agentImage",defaultMessage:"Agent Image"},brandImage:{id:"brandImage",defaultMessage:"Brand Image"},homeScreen:{id:"homeScreen",defaultMessage:"Live chat home screen"},newConversationCard:{id:"newConversationCard",defaultMessage:"New conversation"},existingConversationCard:{id:"existingConversationCard",defaultMessage:"Existing conversations"},conversationScreen:{id:"conversationScreen",defaultMessage:"Conversation Screen"},conversationListScreen:{id:"conversationListScreen",defaultMessage:"Conversation List Screen"},persistentMenu:{id:"persistentMenu",defaultMessage:"Menu"},brandLogo:{id:"brandLogo",defaultMessage:"Logo of {name}"},messageDeleteDescription:{id:"messageDeleteDescription",defaultMessage:"This message was deleted"},confirmationDialog:{id:"confirmationDialog",defaultMessage:"Confirmation dialog"}})},413:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"s",(function(){return b})),n.d(t,"p",(function(){return f})),n.d(t,"A",(function(){return h})),n.d(t,"z",(function(){return g})),n.d(t,"v",(function(){return y})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return m})),n.d(t,"w",(function(){return v})),n.d(t,"x",(function(){return j})),n.d(t,"o",(function(){return I})),n.d(t,"l",(function(){return C})),n.d(t,"n",(function(){return E})),n.d(t,"D",(function(){return T})),n.d(t,"B",(function(){return _})),n.d(t,"C",(function(){return S})),n.d(t,"E",(function(){return x})),n.d(t,"y",(function(){return A})),n.d(t,"k",(function(){return w})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return N})),n.d(t,"q",(function(){return L})),n.d(t,"c",(function(){return D})),n.d(t,"r",(function(){return M})),n.d(t,"m",(function(){return P})),n.d(t,"j",(function(){return k}));var a=n(409),o=n(547),r=n(661),i=n(391);const c=function(){let{shouldFetchNumberOfOpenConversation:e=!1,size:t,cursor:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:{shouldFetchNumberOfOpenConversation:e,size:t,cursor:n},type:a.f}},s=(e,t)=>{let{cursor:n,size:o}=t;return t=>({payload:{conversationId:e,cursor:n,size:o},type:a.l,promise:t})},l=e=>{let{conversationId:t,query:n,faqAttachment:o,locale:r}=e;return e=>({payload:{conversationId:t,query:n,faqAttachment:o,locale:r},type:a.A,promise:e})},d=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:a.i,promise:e})},u=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:a.h,promise:e})},p=e=>({type:a.j,payload:e}),b=e=>t=>({payload:{conversationId:e},type:a.o,promise:t}),f=e=>({type:a.H,payload:{chatMessage:e,conversationId:i.a.getConversationId(e)}}),h=e=>{let{text:t,conversationId:n,sender:o,disableManualResponse:r,inReplyToChatMessageId:i}=e;return{type:a.Z,payload:{text:t,conversationId:n,sender:o,disableManualResponse:r,inReplyToChatMessageId:i}}},g=e=>{let{postback:t,conversationId:n,sender:o,inReplyToChatMessageId:r}=e;return e=>({type:a.Y,payload:{postback:t,conversationId:n,sender:o,inReplyToChatMessageId:r},promise:e})},y=e=>({type:a.z,payload:e}),O=e=>{let{action:t,conversationId:n}=e;const a=Object(r.a)(t.actionId,t.attachment);return y({type:o.a,payload:{contextId:n,actionId:a.params,actionPayload:t.values}})},m=e=>{let{action:t,conversationId:n}=e;const a=Object(r.a)(t.actionId,t.attachment);return y({type:o.b,payload:{contextId:n,actionId:a.params,actionPayload:t.values}})},v=e=>{let{id:t,conversationId:n,messageId:a}=e;return y({type:o.e,payload:{id:t,contextId:n,sprMsgId:a}})},j=e=>{let{id:t,conversationId:n,messageId:a}=e;return y({type:o.g,payload:{id:t,contextId:n,sprMsgId:a}})},I=e=>{let{attachment:t,actionId:n}=e;return e=>{const o=Object(r.a)(n,t);return{type:a.Q,payload:{url:o.url,target:o.target},promise:e}}},C=e=>{let{attachment:t,actionId:n}=e;return e=>{const o=Object(r.a)(n,t);return{type:a.p,payload:{phoneNumber:o.phoneNumber},promise:e}}},E=e=>{let{surveyUrl:t,shouldReplace:n,conversationId:o}=e;return{type:a.U,payload:{surveyUrl:t,shouldReplace:n,conversationId:o}}},T=()=>({type:a.W,payload:{}}),_=()=>({type:a.T,payload:{}}),S=()=>({type:a.X,payload:{}}),x=e=>{let{actionParams:t,conversationId:n,sender:o,appContext:i,inReplyToChatMessageId:c}=e;return e=>({type:a.c,payload:{actionParams:Object.assign(Object.assign({},t),{actionTypes:Object(r.b)(t)}),conversationId:n,sender:o,appContext:i,inReplyToChatMessageId:c},promise:e})},A=e=>{let{postback:t,conversationId:n,sender:o,inReplyToChatMessageId:r}=e;return{type:a.R,payload:{postback:t,conversationId:n,sender:o,inReplyToChatMessageId:r}}},w=(e,t)=>n=>({type:a.K,payload:{conversationId:e,appContext:t},promise:n}),R=e=>({type:a.v,payload:{conversationId:e}}),N=(e,t,n)=>({type:a.s,payload:{conversationId:t,caseId:e,context:n}}),L=(e,t)=>({type:a.D,payload:{chatMessage:e,conversationId:i.a.getConversationId(e),alternateUserIds:t}}),D=(e,t)=>n=>({type:a.q,payload:{conversationId:e,disclaimerStatus:t},promise:n}),M=(e,t)=>({type:a.E,payload:{chatMessageId:t,conversationId:e}});function P(e,t){return{type:a.O,payload:{conversationId:e,lastReadMessageId:t}}}function k(){return{type:a.B,payload:{}}}},414:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={CONVERSATION_WINDOW_OPENED:{id:"CONVERSATION_WINDOW_OPENED",label:"Conversation window opened"},CONVERSATION_WINDOW_OPENED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_OPENED_FROM_JS_SDK",label:"Conversation window opened from JS SDK"},CONVERSATION_WINDOW_CLOSED:{id:"CONVERSATION_WINDOW_CLOSED",label:"Conversation window closed"},CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK",label:"Conversation window closed from JS SDK"},CONVERSATION_EXPORTED:{id:"CONVERSATION_EXPORTED",label:"Conversation exported"},CONVERSATION_DELETED:{id:"CONVERSATION_DELETED",label:"Conversation deleted"},CONVERSATION_CLOSED:{id:"CONVERSATION_CLOSED",label:"Conversation closed"},CONVERSATIONS_DELETED:{id:"CONVERSATIONS_DELETED",label:"Conversations deleted"},CONVERSATIONS_CLOSED:{id:"CONVERSATIONS_CLOSED",label:"Conversations closed"},NEW_CONVERSATION_CREATED:{id:"NEW_CONVERSATION_CREATED",label:"New conversation created"},NEW_CONVERSATION_STARTED:{id:"NEW_CONVERSATION_STARTED",label:"New conversation started"},NEW_CONVERSATION_STARTED_FROM_JS_SDK:{id:"NEW_CONVERSATION_STARTED_FROM_JS_SDK",label:"New conversation started from JS SDK"},EXISTING_CONVERSATION_OPENED:{id:"EXISTING_CONVERSATION_OPENED",label:"Existing conversation opened"},TRIGGER_VISIBLE:{id:"TRIGGER_VISIBLE",label:"Trigger visible"},BUTTON_CLICKED:{id:"BUTTON_CLICKED",label:"Button clicked"},AGENT_ASSIGNED:{id:"AGENT_ASSIGNED",label:"Assignment changed"},VIDEO_CALL_OUTGOING_STARTING:{id:"VIDEO_CALL_OUTGOING_STARTING",label:"Video call outgoing starting"},AUDIO_CALL_OUTGOING_STARTING:{id:"AUDIO_CALL_OUTGOING_STARTING",label:"Audio call outgoing starting"},VIDEO_CALL_CARD_CTA_CLICKED:{id:"VIDEO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from video call card"},AUDIO_CALL_CARD_CTA_CLICKED:{id:"AUDIO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from audio call card"},VIDEO_CALL_LAUNCH_CLICKED:{id:"VIDEO_CALL_LAUNCH_CLICKED",label:"Video call launch clicked"},AUDIO_CALL_LAUNCH_CLICKED:{id:"AUDIO_CALL_LAUNCH_CLICKED",label:"Audio call launch clicked"},VIDEO_CALL_LAUNCHED:{id:"VIDEO_CALL_LAUNCHED",label:"Video call launched"},AUDIO_CALL_LAUNCHED:{id:"AUDIO_CALL_LAUNCHED",label:"Audio call launched"},CONVERSATION_BACK_PRESSED:{id:"CONVERSATION_BACK_PRESSED",label:"Conversation back pressed"},CONVERSATION_LIST_BACK_PRESSED:{id:"CONVERSATION_LIST_BACK_PRESSED",label:"Conversation list back pressed"},SURVEY_BACK_PRESSED:{id:"SURVEY_BACK_PRESSED",label:"Survey back pressed"},GUIDED_WORKFLOW_BACK_PRESSED:{id:"GUIDED_WORKFLOW_BACK_PRESSED",label:"Guided workflow back pressed"},VIDEO_CALL_JOIN_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_CTA_CLICKED",label:"Video call join CTA clicked"},VIDEO_CALL_JOIN_BACK_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_BACK_CTA_CLICKED",label:"Video call join back CTA clicked"},AUDIO_CALL_JOIN_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_CTA_CLICKED",label:"Audio call join CTA clicked"},AUDIO_CALL_JOIN_BACK_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_BACK_CTA_CLICKED",label:"Audio call join back CTA clicked"},VIDEO_CALL_END_CLICKED:{id:"VIDEO_CALL_END_CLICKED",label:"Video call end clicked"},AUDIO_CALL_END_CLICKED:{id:"AUDIO_CALL_END_CLICKED",label:"Audio call end clicked"},INFO_CARD_OPENED:{id:"INFO_CARD_OPENED",label:"Info card opened"},INFO_CARD_CLOSED:{id:"INFO_CARD_CLOSED",label:"Info card closed"},USER_PROFILE_UPDATED:{id:"USER_PROFILE_UPDATED",label:"User Profile Updated"},WIDGET_MAXIMIZED:{id:"WIDGET_MAXIMIZED",label:"Widget maximized"},WIDGET_MINIMIZED:{id:"WIDGET_MINIMIZED",label:"Widget minimized"},PROACTIVE_PROMPT_TRIGGERED:{id:"PROACTIVE_PROMPT_TRIGGERED",label:"Proactive prompt triggered"},PROACTIVE_PROMPT_ENGAGED:{id:"PROACTIVE_PROMPT_ENGAGED",label:"Proactive prompt engaged"},PROACTIVE_PROMPT_CLOSED:{id:"PROACTIVE_PROMPT_CLOSED",label:"Proactive prompt closed"},PAGE_OPENED:{id:"PAGE_OPENED",label:"Page opened"},CHAT_TRIGGER_REMOVED:{id:"CHAT_TRIGGER_REMOVED",label:"Chat trigger removed"}}},421:function(e,t,n){"use strict";n.d(t,"l",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return b})),n.d(t,"m",(function(){return f})),n.d(t,"i",(function(){return h}));const a="unreadCountChanged",o="externalEventTriggered",r="loaded",i="loadCompleted",c="closed",s="availabilityChanged",l="promptActionTriggered",d="mediaShown",u="mediaClosed",p="eventTriggered",b="registerDeviceTriggered",f="unregisterDeviceTriggered",h="onPermissionSeeked"},443:function(e,t,n){"use strict";var a=n(717);const o=new(n(804).a);o.on((e=>{const{topic:t,payload:n={}}=e;t&&Object(a.a)({topic:t,payload:{response:{data:n.data,error:n.error},request:n.request}})})),t.a=function(e){o.emit(e)}},447:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(365);const o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.useCallback)((e=>{t.forEach((t=>{t&&("function"===typeof t?t(e):t.current=e)}))}),[...t])}},451:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s}));const a=/^https?:\/\//i,o=e=>e.match(a)?e:`https://${e}`,r=e=>`tel:${e}`,i=e=>e.map((e=>`${e.key}=${e.value}`)).join("&"),c=e=>!(e.startsWith("http")||e.startsWith("https")||e.startsWith("www")),s=(e,t)=>{const n=new URL(e);return t.forEach((e=>{n.searchParams.set(e.key,e.value)})),n.toString()}},453:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n(365),o=n.n(a),r=n(396),i=n.n(r),c=n(366);const s={SUCCESS:"SUCCESS",FAILURE:"FAILURE"},l=o.a.createContext({notification:void 0,setNotification:i.a}),d=e=>{const[t,n]=Object(a.useState)(void 0),o=Object(a.useMemo)((()=>({notification:t,setNotification:n})),[t,n]);return Object(c.jsx)(l.Provider,{value:o},e.children)};t.c=l},455:function(e,t,n){"use strict";var a=n(413);n.d(t,"a",(function(){return a.f})),n.d(t,"b",(function(){return a.g})),n.d(t,"c",(function(){return a.h})),n.d(t,"d",(function(){return a.l})),n.d(t,"e",(function(){return a.n})),n.d(t,"f",(function(){return a.o})),n.d(t,"g",(function(){return a.q})),n.d(t,"h",(function(){return a.r})),n.d(t,"i",(function(){return a.t})),n.d(t,"j",(function(){return a.u})),n.d(t,"k",(function(){return a.v})),n.d(t,"l",(function(){return a.w})),n.d(t,"m",(function(){return a.x})),n.d(t,"n",(function(){return a.y})),n.d(t,"o",(function(){return a.z})),n.d(t,"p",(function(){return a.B})),n.d(t,"q",(function(){return a.C})),n.d(t,"r",(function(){return a.D})),n.d(t,"s",(function(){return a.E}));n(832)},462:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p}));var a=n(446),o=n(659);const r=e=>{let{ssoId:t,conversationId:n,messageId:o}=e;return e=>({type:a.d,payload:{ssoId:t,conversationId:n,messageId:o},promise:e})};function i(){return{type:a.h,payload:{}}}function c(e){return{type:a.e,payload:{status:e?o.a.CONNECTED:o.a.DISCONNECTED}}}function s(e){let{waitTime:t,reason:n}=e;return{type:a.j,payload:{waitTime:t,reason:n}}}function l(){return{type:a.m,payload:{}}}function d(e){return{type:a.g,payload:e}}function u(){return{type:a.f,payload:{}}}function p(){return{type:a.i,payload:{}}}},463:function(e,t,n){"use strict";var a=n(414);n.d(t,"a",(function(){return a.a}))},465:function(e,t,n){"use strict";t.a={TOTAL_TIME_SPENT:"browsingSession.timeSpentOnSite",ACTIVE_TIME_SPENT:"browsingSession.timeFocusedOnSite",HORIZONTAL_PAGE_SCROLL_DEPTH:"browsingSession.horizontalPageScrollDepth",VERTICAL_PAGE_SCROLL_DEPTH:"browsingSession.verticalPageScrollDepth",INACTIVE_TIME_SPENT:"",DEVICE_TYPE:"userInfo.deviceType",TIME_SPENT_ON_SESSION:"browsingSession.timeSpentOnSession",USER_AGENT:"userInfo.userAgent",CURRENT_URL:"browsingSession.currentURL",INTERCEPT_ENGAGED_IN_SESSION_KEY:"intercept.engaged.in.session.key",INTERCEPT_CLOSED_IN_SESSION_KEY:"intercept.closed.in.session.key",DEPENDENT_DURATION_KEY:"dependant.duration.key",PAGE_REFERRER:"browsingSession.pageReferrer",BUSINESS_HOURS:"BUSINESS_HOURS",AVAILABLE_AGENTS:"AVAILABLE_AGENTS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY",IS_CONVERSATION_OPEN:"IS_CONVERSATION_OPEN",USER_IP_DETAILS_COUNTRY:"userIPDetails.countryLong",USER_IP_DETAILS_CITY:"userIPDetails.city",USER_IP_DETAILS_REGION:"userIPDetails.region",NUM_SNOOZE_ALLOWED:"NUM_SNOOZE_ALLOWED",PROFILE_CUSTOM_FIELD:"PROFILE_CUSTOM_FIELD"}},475:function(e,t,n){"use strict";var a=n(1028),o=n(365);t.a=function(){return Object(o.useContext)(a.a)}},476:function(e,t,n){"use strict";var a=n(365),o=n(406),r=n(425),i=n(415);t.a=(e,t,n)=>{let{onSuccess:c,onFailure:s,ignoreResults:l}=t;const d=Object(a.useRef)(0),[u,p]=Object(a.useState)(),b=o.a.getType(e),f=o.a.getUrl(e),h=Object(a.useCallback)((()=>(d.current+=1,d.current)),[]),g=Object(a.useCallback)((e=>d.current===e),[]);return[Object(a.useCallback)((async e=>{const t=h();try{var a;const o=await(b===i.a.POST&&"application/x-www-form-urlencoded"===(null===n||void 0===n||null===(a=n.headers)||void 0===a?void 0:a["Content-Type"])&&e?r.a[b](f,{p:e},n):r.a[b](f,e,n));return!l&&g(t)&&p(o.data),c&&c(o.data),o.data}catch(o){throw s&&s(o),!l&&g(t)&&p(void 0),o}}),[b,f,h,g]),{data:u}]}},493:function(e,t,n){"use strict";var a=n(365),o=n(453);t.a=function(){return Object(a.useContext)(o.c)}},512:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(372),o=n(366),r=n(365),i=n.n(r),c=n(387),s=n.n(c),l=n(454),d=n(375),u=n(367),p=n(371);const b=Object(u.a)("button",{target:"e1hw652w0"})("background-color:transparent;border-radius:4px;border:0;cursor:pointer;height:40px;position:relative;width:40px;:before{content:'';display:block;opacity:0;position:absolute;transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4,0,0.2,1);bottom:0;left:0;right:0;top:0;background:none;border-radius:4px;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;}&:hover:before,&:focus:before{border:none;opacity:1;transform:scale(1);}",p.k,"{&:hover:before,&:focus:before{opacity:0;transform:scale(0);}&:active:before{border:none;opacity:1;transform:scale(1);}}"),f={name:"1qlyuxe",styles:"position:relative;height:12px;width:12px;flex:0 0 auto;"};var h=i.a.forwardRef(((e,t)=>{const{iconName:n,iconCss:i,Icon:c,onLoad:u,onClick:p,...h}=e,{isKeyboardEventLast:g}=Object(l.a)(),y=Object(r.useCallback)((e=>{g||e.currentTarget.blur(),p&&p(e)}),[g,p]);return Object(o.jsx)(b,Object(a.a)({},h,{ref:t,className:s()("center-x-y",e.className),onClick:y}),Object(o.jsx)(d.b,{alt:c,name:n,css:Object(o.css)([f,i],""),onLoad:u,"aria-hidden":!0,focusable:!1}),e.children)}))},513:function(e,t,n){"use strict";n.d(t,"h",(function(){return k})),n.d(t,"c",(function(){return U})),n.d(t,"g",(function(){return B})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return G})),n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return z})),n.d(t,"i",(function(){return V})),n.d(t,"f",(function(){return $}));n(74);var a,o=n(178),r=n.n(o),i=n(416),c=n.n(i),s=n(429),l=n.n(s),d=n(1438),u=n.n(d),p=n(116),b=n.n(p),f=n(369),h=n(375),g=n(365);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y.apply(this,arguments)}function O(e,t){let{title:n,titleId:o,...r}=e;return g.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 11.063",ref:t,"aria-labelledby":o},r),n?g.createElement("title",{id:o},n):null,a||(a=g.createElement("g",null,g.createElement("path",{d:"M6.979 4.274c-1.128 0-2.081.951-2.083 2.08A2.101 2.101 0 0 0 7 8.48a2.1 2.1 0 0 0 2.102-2.099 2.1 2.1 0 0 0-2.123-2.107z"}),g.createElement("path",{d:"M13.5 2.063h-3.052c-.02-.016-.039-.031-.057-.058C9.99 1.386 9.581.772 9.184.151 9.108.032 9.024 0 8.891 0 7.616.004 6.34.004 5.065.001c-.09 0-.143.026-.192.101-.42.635-.844 1.267-1.262 1.903a.202.202 0 0 1-.059.058H.5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5zM7.351 9.858c-2.052.198-3.653-1.335-3.832-3.115a3.501 3.501 0 0 1 3.396-3.865 3.496 3.496 0 0 1 3.582 3.372 3.494 3.494 0 0 1-3.146 3.608z"}))))}const m=g.forwardRef(O);n.p;var v=n(829),j=n(392),I=n(491),C=n(384),E=n(390),T=n(488),_=n(464),S=n(118),x=n(398),A=n(7),w=n(1022);const R=/^CASE_(\w+)/,N=/^CONVERSATION_(\w+)/,L=Object(f.g)({image:{id:"image",defaultMessage:"Image"},video:{id:"video",defaultMessage:"Video"},attachment:{id:"attachment",defaultMessage:"Attachment"},card:{id:"card",defaultMessage:"Card"},carousel:{id:"carousel",defaultMessage:"Carousel"},progressBar:{id:"progressBar",defaultMessage:"Progress Bar"},audio:{id:"audio",defaultMessage:"Audio"},document:{id:"document",defaultMessage:"Document"},form:{id:"form",defaultMessage:"Form"},contactDetailsForm:{id:"contactDetailsForm",defaultMessage:"Contact Details Form"},feedbackSurvey:{id:"feedbackSurvey",defaultMessage:"Feedback Survey"},secureForm:{id:"secureForm",defaultMessage:"Secure Form"},survey:{id:"survey",defaultMessage:"Survey"},cobrowseInvite:{id:"cobrowseInvite",defaultMessage:"Co-browse invite"},quickSelectCard:{id:"quickSelectCard",defaultMessage:"Quick Select Card"},disclaimerCard:{id:"disclaimerCard",defaultMessage:"Disclaimer Card"},appointment:{id:"appointment",defaultMessage:"Appointment"},faq:{id:"faq",defaultMessage:"Frequently Asked Questions"},productCard:{id:"productCard",defaultMessage:"Product Card"},productShowcaseCard:{id:"productShowcaseCard",defaultMessage:"Product Showcase Card"},productBanner:{id:"productBanner",defaultMessage:"Product Banner"},productList:{id:"productList",defaultMessage:"Product List"}}),D={[x.c.IMAGE]:L.image,[x.c.VIDEO]:L.video,[x.c.CARD]:L.card,[x.c.CAROUSEL]:L.carousel,[x.c.RICH_TEXT_CAROUSEL]:L.carousel,[x.c.PROGRESS_BAR]:L.progressBar,[x.c.AUDIO]:L.audio,[x.c.DOCUMENT]:L.document,[x.c.CONTACT_DETAILS_FORM]:L.contactDetailsForm,[x.c.FORM]:L.form,[x.c.FEEDBACK_FORM]:L.feedbackSurvey,[x.c.SECURE_FORM]:L.secureForm,[x.c.SURVEY]:L.survey,[x.c.CO_BROWSE_INVITE]:L.cobrowseInvite,[x.c.QUICK_SELECT_CARD]:L.quickSelectCard,[x.c.DISCLAIMER_CARD]:L.disclaimerCard,[x.c.APPOINTMENT]:L.appointment,[x.c.FAQ]:L.faq,[x.c.PRODUCT_CARD]:L.productCard,[x.c.PRODUCT_SHOWCASE_CARD]:L.productShowcaseCard,[x.c.PRODUCT_BANNER]:L.productBanner,[x.c.PRODUCT_LIST]:L.productList,DEFAULT:L.attachment},M={[x.c.IMAGE]:{Component:m,label:L.image,name:h.a.CAMERA},[x.c.VIDEO]:{Component:v.a,label:L.video,name:h.a.ATTACHMENT},[x.c.CARD]:{Component:v.a,label:L.card,name:h.a.ATTACHMENT},[x.c.CAROUSEL]:{Component:v.a,label:L.carousel,name:h.a.ATTACHMENT},[x.c.RICH_TEXT_CAROUSEL]:{Component:v.a,label:L.carousel,name:h.a.ATTACHMENT},[x.c.PROGRESS_BAR]:{Component:v.a,label:L.progressBar,name:h.a.ATTACHMENT},[x.c.AUDIO]:{Component:v.a,label:L.audio,name:h.a.ATTACHMENT},[x.c.DOCUMENT]:{Component:v.a,label:L.document,name:h.a.ATTACHMENT},[x.c.CONTACT_DETAILS_FORM]:{Component:v.a,label:L.contactDetailsForm,name:h.a.ATTACHMENT},[x.c.FORM]:{Component:v.a,label:L.form,name:h.a.ATTACHMENT},[x.c.FEEDBACK_FORM]:{Component:v.a,label:L.feedbackSurvey,name:h.a.ATTACHMENT},[x.c.SECURE_FORM]:{Component:v.a,label:L.secureForm,name:h.a.ATTACHMENT},[x.c.SURVEY]:{Component:v.a,label:L.survey,name:h.a.ATTACHMENT},DEFAULT:{Component:v.a,label:L.attachment,name:h.a.ATTACHMENT}},P=e=>e&&!!e.match(N),k=e=>e&&!!e.match(R),U=e=>k(e)?e.match(R)[0].split("_")[1]:void 0;function B(e,t,n){const a=Object(C.e)(e),o=Object(E.p)(Object(C.c)(e)),i=Object(I.a)(a),c=Object(I.d)(a),s=j.a.getMaximumOpenConversations(t),d=r()(s,"limit"),u=Object(E.t)(o),p=!!d&&!l()(u)&&d<=u,b=!!r()(s,"replaceNewConversationButton");let f;return i?f=c:p&&(f=b?void 0:n(s,"label")),{isLocked:i||p,lockReason:f}}const F=(e,t)=>{const n=c()(_.a.getReadStatusList(e),(e=>e.userId===t));return r()(n,"unreadCount",0)},G=e=>{const t=Object(C.c)(e),n=Object(E.p)(t),a=Object(T.b)().location.pathname,o=Object(w.a)(a,{path:"/conversation/:conversationId/:transientId?"});if(!o)return{isConversationPath:!1,conversationId:void 0};const i=r()(o,"params.conversationId"),c=r()(o,"params.transientId");if("survey"===c)return{isConversationPath:!0,conversationId:i};if("all"===i)return{isConversationPath:!1,conversationId:void 0};if("new"===i)return{isConversationPath:!0,conversationId:c||S.e};if("last"===i){return{isConversationPath:!0,conversationId:Object(E.b)(n)?Object(E.d)(Object(E.u)(t))||S.e:void 0}}return P(i)?{isConversationPath:!0,conversationId:i}:k(i)?{isConversationPath:!0,conversationId:Object(E.i)(n,U(i))}:{isConversationPath:!0,conversationId:i}},W=e=>M[e]||M.DEFAULT,z=e=>D[e]||D.DEFAULT,V=(e,t)=>-1===u()(Object(E.q)(e),t),$=e=>{const t=e.chatConversations.conversations.byId;let n=e.chatConversations.conversations.ids;if(Object(A.B)()){const{conversationId:t}=G(e);if(!t)return!1;n=[t]}let a=!1;return b()(n,(e=>{if(!t[e].closed&&!t[e].deleted&&t[e].agentAssigned)return a=!0,!1})),a}},517:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var a=n(116),o=n.n(a),r=n(75),i=n.n(r),c=n(388),s=n(465);const l=(e,t)=>{const n=c.a.getField(e);if(n)return n===t;let a=!1;return o()(c.a.getFilters(e),(e=>!l(e,t)||(a=!0,!1))),a},d=e=>!!e&&!!e.match(/PROFILE\.(\w+)/),u=e=>d(e)?e.match(/PROFILE\.(\w+)/)[1]:"",p=e=>{let{currentValueMap:t,filter:n}=e;const a=c.a.getField(n);return a&&d(a)?t[s.a.PROFILE_CUSTOM_FIELD](n):i()(t[a])?t[a](n):t[a]}},518:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n(463);const o={DELETE_ALL:"DELETE_ALL",CLOSE_ALL:"CLOSE_ALL",CLEAR_SESSION:"CLEAR_SESSION",CHANGE_LOCALE:"CHANGE_LOCALE",TOGGLE_SOUND_NOTIFICATION:"TOGGLE_SOUND_NOTIFICATION",MAXIMIZE:"MAXIMIZE"},r={[o.DELETE_ALL]:a.a.CONVERSATIONS_DELETED,[o.CLOSE_ALL]:a.a.CONVERSATIONS_CLOSED}},519:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(365),o=n(1031);function r(){return Object(a.useContext)(o.a)}},520:function(e,t,n){"use strict";var a=n(365);const o={childList:!0,subtree:!0,attributes:!0};t.a=(e,t)=>{const[n,r]=Object(a.useState)();Object(a.useLayoutEffect)((()=>{const a=[];if(n){if(e.MutationObserver){const r=new e.MutationObserver(t);r.observe(n,o),a.push((()=>r.disconnect()))}else e.document.addEventListener("DOMSubtreeModified",t),a.push((()=>e.document.removeEventListener("DOMSubtreeModified",t)));a.push((()=>e.removeEventListener("resize",t)),(()=>e.document.removeEventListener("transitionend",t)))}return()=>{a.forEach((e=>e()))}}),[n,t]);return Object(a.useCallback)((e=>{e&&r(e)}),[])}},525:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(372),o=(n(365),n(41)),r=n.n(o),i=n(1284),c=n(393),s=n(367),l=n(405),d=n(368);const u=Object(s.a)("div",{target:"enf2rlz0"})("top:0;left:0;margin:0;padding:0;overflow:hidden;position:absolute;width:100%;height:100%;background-color:",(e=>Object(l.k)(.48,Object(d.b)("charcoal")(e))),";"),p=Object(s.a)("div",{target:"enf2rlz1"})({name:"3f9jy3",styles:"top:50%;left:50%;position:absolute;transform:translate(-50%,-50%);"});var b=n(366);var f=()=>Object(b.jsx)(u,null,Object(b.jsx)(p,null,Object(b.jsx)(c.c,null))),h=n(374),g=n(379);var y=e=>{var t;const{direction:n,localeDataLoading:o}=Object(h.a)(),c=Object(g.a)(),s=(e=>r()(e,((e,t,n)=>(e[n]=r()(t,((e,t)=>{let{type:n,src:a}=t;return"SCRIPT"===n?`${e} <script defer src="${a}"><\/script>`:"CSS"===n?`${e} <link rel="stylesheet" href="${a}">`:e}),""),e)),{}))(null===c||void 0===c||null===(t=c.settings)||void 0===t?void 0:t.externalResources),{shouldHideLocaleLoader:l,...d}=e;return Object(b.jsx)(i.a,Object(a.a)({},d,{direction:n,externalResources:s}),e.children,!l&&o&&Object(b.jsx)(f,null))}},526:function(e,t,n){"use strict";var a=n(365),o=n(1013);var r=function(){return Object(a.useContext)(o.a)};t.a=e=>{const[t,n]=r(),o=Object(a.useCallback)((t=>{n({stateKey:e,state:t})}),[e,n]);return[t&&t.stateKey===e?t.state:null,o]}},530:function(e,t,n){"use strict";var a=n(365),o=n(719);t.a=function(){return Object(a.useContext)(o.a)}},531:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(365),o=n(1016);const r=()=>Object(a.useContext)(o.a)},534:function(e,t,n){"use strict";var a=n(379),o=n(370),r=n(394),i=n(513);const c=e=>e;t.a=()=>{const e=Object(r.a)(),t=Object(a.a)(),n=Object(o.d)(c);return Object(i.g)(n,t,e)}},535:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"v",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"u",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"q",(function(){return j})),n.d(t,"r",(function(){return I})),n.d(t,"o",(function(){return C})),n.d(t,"e",(function(){return E})),n.d(t,"j",(function(){return T}));var a=n(664);function o(e){return{type:a.e,payload:e}}function r(e){return{type:a.f,payload:e}}function i(e){return{type:a.l,payload:e}}function c(e){return{type:a.s,payload:e}}function s(e){return{type:a.g,payload:e}}function l(e){return{type:a.n,payload:e}}function d(e){return{type:a.w,payload:e}}function u(e){return{type:a.b,payload:e}}function p(e){return{type:a.c,payload:e}}function b(e){return{type:a.d,payload:e}}function f(e){return{type:a.h,payload:e}}function h(e){return{type:a.m,payload:e}}function g(e){return{type:a.k,payload:e}}function y(e){return{type:a.r,payload:e}}function O(e){return{type:a.t,payload:e}}function m(e){return{type:a.a,payload:e}}function v(e){return{type:a.o,payload:e}}function j(e){return{type:a.i,payload:e}}function I(e){return{type:a.p,payload:e}}function C(e){return{type:a.u,payload:e}}function E(e){return{type:a.j,payload:e}}function T(e){return{type:a.q,payload:e}}},546:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(372),o=n(365),r=n.n(o),i=n(366);const c=r.a.createContext(void 0),s=e=>function(t){return Object(i.jsx)(c.Consumer,null,(n=>Object(i.jsx)(e,Object(a.a)({},t,{customization:n.otherConfigs}))))};t.b=c},551:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));const a=new(n(935).a)({middlewares:[],getContext:()=>Promise.resolve({})}),o=e=>{a.clone(e)};t.a=a},566:function(e,t,n){"use strict";t.a={AND:"AND",OR:"OR",LT:"LT",LTE:"LTE",GT:"GT",GTE:"GTE",EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",REGEX:"REGEX",IN:"IN",CONTAINS:"CONTAINS",NIN:"NIN",EXISTS:"EXISTS",MISSING:"MISSING"}},567:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"c",(function(){return V})),n.d(t,"b",(function(){return z}));var a=n(372),o=n(365),r=n.n(o),i=n(370),c=n(369),s=n(41),l=n.n(s),d=n(178),u=n.n(d),p=n(533),b=n.n(p),f=n(416),h=n.n(f),g=n(396),y=n.n(g),O=n(429),m=n.n(O),v=n(411),j=n(392),I=n(380),C=n(397),E=n(493),T=n(936),_=n(583),S=n(404),x=n(378),A=n(385),w=n(7),R=n(39),N=n(505),L=n(518),D=n(582),M=n(113),P=n(515),k=n(453),U=n(366);const B=Object(D.a)(),F=r.a.createContext({locale:B,language:Object(D.b)(B),defaultLocale:B,direction:P.b.LTR,localeDataLoading:!0,changeLocale:y.a}),G={onLocaleDataLoaded:A.d},W=e=>h()(((e,t)=>b()(l()(t,((t,n)=>{const a=u()(e,`${n}.actionsToShowByVariant`),o=Object(w.x)();return[...t,...o&&(u()(a,o)||u()(a,R.a))||N.a]}),[]),"type"))(e,["allScreens","homeScreen","conversationScreen"]),{type:L.a.CHANGE_LOCALE}),z=e=>{const t=Object(i.d)(x.g),n=Object(S.c)(t),a=n.locale,r=Object(C.a)(),[s,l]=Object(o.useState)({localeDataLoading:!0,localeData:void 0}),d=Object(o.useRef)(!1),{setNotification:u}=Object(E.a)(),{onLocaleDataLoaded:p}=Object(I.a)(G),b=v.a.getDefaultLocale(r)||B,f=j.a.getExternalLocaleData(v.a.getCustomizationConfig(r)),{errorNotificationMessage:h,successNotificationMessage:g}=W(v.a.getCustomizationConfig(r))||{},y=Object(T.a)({externalLocaleData:f}),O=Object(o.useCallback)((async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l((e=>({...e,localeDataLoading:!0})));try{const{localeData:a}=await y(e);t&&(await Object(_.c)({...n,locale:e}),g&&u({message:g,type:k.a.SUCCESS})),p({locale:e,data:a.messages}),a&&l((e=>({...e,localeData:a})))}catch(a){t&&h&&u({message:h,type:k.a.FAILURE}),Object(M.b)(a)}l((e=>({...e,localeDataLoading:!1})))}),[y,p,g,h,n]);d.current||(d.current=!0,O(a,!1));const A=Object(o.useMemo)((()=>({...s.localeData||{},defaultLocale:b,locale:a,localeDataLoading:s.localeDataLoading,changeLocale:O})),[b,a,O,s]);return m()(s.localeData)?null:Object(U.jsx)(F.Provider,{value:A},Object(U.jsx)(c.e,{defaultLocale:b,locale:a,messages:A.messages},e.children))},V=e=>function(t){return Object(U.jsx)(F.Consumer,null,(n=>Object(U.jsx)(e,Object(a.a)({},t,{intlContext:n}))))};F.Consumer},568:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>e&&e[t];const n=t(e,"fullName"),a=t(e,"firstName"),o=t(e,"lastName");if(n)return n;const r=o?` ${o}`:"",i=a||"";return`${i}${r}`}},569:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(372),o=n(365),r=n.n(o),i=n(579),c=n(366);const s=r.a.createContext((()=>i.c)),l=e=>function(t){return Object(c.jsx)(s.Consumer,null,(n=>Object(c.jsx)(e,Object(a.a)({},t,{getUserType:n}))))};t.b=s},570:function(e,t,n){"use strict";var a=n(365),o=n.n(a),r=n(668),i=n.n(r),c=n(429),s=n.n(c),l=n(739),d=n(366);const u=e=>{let{shouldPlay:t,unreadCount:n,children:r}=e;const{play:c}=Object(l.b)(),u=i()(n);return Object(a.useEffect)((()=>{s()(u)||c&&t&&n>u&&c(l.a.MESSAGE)}),[n,c,u,t]),Object(d.jsx)(o.a.Fragment,null,r)};t.a=o.a.memo(u)},580:function(e,t,n){"use strict";var a=n(365),o=n(982);t.a=function(){return Object(a.useContext)(o.a)}},581:function(e,t,n){var a=n(1418),o=n(127),r=n(1419);e.exports=function(e){return o(e)?r(e):a(e)}},583:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(419),o=n(551),r=n(548),i=n.n(r);const c="/livechat/conversation";function s(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${c}/chatUsers`,{p:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}const l=e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return yield o.a.post(`${c}/chatUser`,{p:i()(e,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext","locale"])},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}));function d(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const{query:t="",size:n=10,pageNum:a=0}=e;return(yield o.a.post(`/livechat/user/search-users?query=${t}&size=${n}&pageNum=${a}`,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}},584:function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",VIDEO:"VIDEO",DIALOGUE:"DIALOGUE"}},585:function(e,t,n){"use strict";n.d(t,"d",(function(){return O})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return T})),n.d(t,"g",(function(){return _}));var a=n(114),o=n.n(a),r=n(38),i=n.n(r),c=n(74),s=n.n(c),l=n(672),d=n.n(l),u=n(431),p=n(368),b=n(786),f=n(552),h=n(830),g=n(505);const y={top:0,bottom:0,left:0,right:0},O=e=>{const t=Object(p.f)("proactivePrompt.align",Object(p.f)("frame.align")({theme:e}))({theme:e});return{alignType:t,xEdgeToAlign:"L"===t.slice(-1)?f.f.LEFT:f.f.RIGHT}},m=e=>O(e).xEdgeToAlign===f.f.LEFT,v=e=>{if(!e)return y;const[t,n,a,r]=o()(i()(e," "),u.b);return{top:Math.abs(r-n+a),bottom:r+n+a,left:Math.abs(r-t+a),right:r+t+a}},j=(e,t)=>{if(s()(t))return y;const{buttons:n,additional:a}=t;return n&&n.length>0?v(Object(p.f)("proactivePrompt.button.boxShadow")({theme:e})):!a||a&&!a.hideReplyBox?v(Object(p.f)("proactivePrompt.replyBox.boxShadow")({theme:e})):v(Object(p.f)("proactivePrompt.message.boxShadow")({theme:e}))},I=e=>{let{theme:t,iframeWidth:n,triggerWidth:a,triggerHeight:o,triggerXpadding:r,triggerYpadding:i,visiblePrompt:c,promptBottomOffsetWhenOpenedAboveChatBox:s}=e;const l=Object(p.f)("proactivePrompt.paddingLeft")({theme:t}),d=Object(p.f)("proactivePrompt.paddingLeft")({theme:t}),u=Object(p.f)("proactivePrompt.align",Object(p.f)("frame.align")({theme:t}))({theme:t}),b="L"===u.slice(-1)?f.f.LEFT:f.f.RIGHT,h=(e=>{let{alignType:t,frameSXMargin:n,triggerWidth:a,triggerXpadding:o,proactiveLeftPadding:r,proactiveRightPadding:i}=e;switch(t){case f.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:case f.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:return a+o+n-r;case f.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:case f.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return a+o+n-i;case f.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:return o+n-r;case f.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:default:return o+n-i}})({alignType:u,frameSXMargin:Object(p.f)("proactivePrompt.sXMargin",Object(p.f)("frame.sXMargin")({theme:t}))({theme:t}),triggerWidth:a,triggerXpadding:r,proactiveLeftPadding:l,proactiveRightPadding:d}),g=null!==s&&void 0!==s?s:(e=>{let{theme:t,visiblePrompt:n,alignType:a,frameSYMargin:o,triggerHeight:r,triggerYpadding:i}=e;return a===f.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT||a===f.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT?i+o-j(t,n).bottom:r+i+o-j(t,n).bottom})({theme:t,alignType:u,visiblePrompt:c,frameSYMargin:Object(p.f)("proactivePrompt.sYMargin",Object(p.f)("frame.sYMargin")({theme:t}))({theme:t}),triggerHeight:o,triggerYpadding:i});return`\n    bottom: ${g}px;\n    ${b}: ${h}px;\n    max-width: ${n+l+d}px;\n  `},C=e=>{let{theme:t,visiblePrompt:n,customTriggerPosition:a,iframeWidth:o,promptBottomOffsetWhenOpenedAboveChatBox:r}=e;const i="L"===Object(p.f)("proactivePrompt.align",Object(p.f)("frame.align")({theme:t}))({theme:t}).slice(-1)?f.f.LEFT:f.f.RIGHT;return I({theme:t,triggerHeight:a.height,triggerWidth:a.width,triggerYpadding:a.bottom,triggerXpadding:"left"===i?a.left:a.right,visiblePrompt:n,iframeWidth:o,promptBottomOffsetWhenOpenedAboveChatBox:r})},E=e=>{let{theme:t,visiblePrompt:n,iframeWidth:a,promptBottomOffsetWhenOpenedAboveChatBox:o}=e;const r=Object(p.f)("trigger.size")({theme:t});return I({theme:t,triggerHeight:r,triggerWidth:r,triggerXpadding:Object(b.e)(t),triggerYpadding:Object(b.c)(t),visiblePrompt:n,iframeWidth:a,promptBottomOffsetWhenOpenedAboveChatBox:o})},T=e=>{let{chatBoxFrameTop:t,theme:n,visiblePrompt:a}=e;return t-Object(p.f)("proactivePrompt.sYMargin",Object(p.f)("frame.sYMargin")({theme:n}))({theme:n})+j(n,a).bottom},_=e=>{let{prompt:t,isLocked:n}=e;if(!n)return t;const{buttons:a=g.a}=t,o=(e=>e.length&&d()(e,(e=>e.type!==h.b.NEW_CONVERSATION)))(a);return o?t:void 0}},610:function(e,t,n){"use strict";var a=n(365),o=n(395),r=n.n(o),i=n(114),c=n.n(i),s=n(77),l=n.n(s),d=n(503),u=n.n(d),p=n(75),b=n.n(p),f=n(116),h=n.n(f),g=n(438),y=n(113);let O=[],m=!1;const v=()=>Object(g.b)().history,j=()=>{try{O.length>0&&setTimeout((()=>{try{h()(O,(e=>e()))}catch(e){Object(y.b)(e)}}),0)}catch(e){O=[],Object(y.b)(e)}},I=()=>{const e=Object(g.b)();Object(g.c)(e)&&!m&&((()=>{if(m)return;m=!0;const e=Object(g.b)(),t=v().pushState,n=v().replaceState;e.history.pushState=function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];const r=t.call(e.history,...a);return j(),r},e.history.replaceState=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];const r=n.call(e.history,...a);return j(),r}})(),e.addEventListener("popstate",j),e.addEventListener("hashchange",j))};var C=()=>Object(a.useCallback)((e=>((e=>{b()(e)&&(O.push(e),I())})(e),()=>{(e=>{b()(e)&&(O=u()(O,(t=>t!==e)))})(e)})),[]),E=n(437);t.a=()=>{const e=C(),t=Object(a.useRef)(Object(E.b)()),n=Object(a.useRef)({}),o=Object(a.useRef)(""),i=Object(a.useCallback)((()=>{o.current=t.current,t.current=Object(E.b)(),o.current!==t.current&&c()(n.current,(e=>{e({currentUrl:t.current,previousUrl:o.current})}))}),[]);return{subscribe:Object(a.useCallback)(((t,a)=>{n.current={...n.current,[t]:a};let o=null;return 1===l()(n.current).length&&(o=e(i)),()=>{n.current=r()(n.current,t),0===l()(n.current).length&&null!==o&&o()}}),[]),getValue:Object(a.useCallback)((()=>t.current),[])}}},618:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(438),o=n(7);const r=()=>Object(o.K)()&&Object(a.d)(),i=()=>Object(o.L)()&&Object(a.d)()},622:function(e,t,n){"use strict";var a=c(n(1424)),o=c(n(1429)),r=c(n(1020)),i=c(n(1017));function c(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:r.default,ReplaceTransition:o.default,CSSTransition:a.default}},625:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));const a=["video/mp4","video/quicktime"],o=["audio/mp3","audio/x-mp3","audio/mpeg","audio/x-mpeg","audio/mpeg3","audio/x-mpeg-3"],r=[...o,"audio/wav","audio/x-wav","audio/wave","audio/x-wave","audio/vnd.wave"],i=["image/jpeg","image/png","image/gif"],c=["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/onenote","application/json"]},647:function(e,t,n){"use strict";var a=n(365),o=n(396),r=n.n(o),i=n(1010),c=n(610),s=n(388);var l=()=>{const{subscribe:e,getValue:t}=Object(c.a)();return{subscribe:Object(a.useCallback)(((t,n)=>{const a=s.a.getId(t);return e(a,n)}),[e]),getValue:t}},d=n(395),u=n.n(d),p=n(412),b=n.n(p),f=n(178),h=n.n(f),g=n(461),y=n.n(g),O=n(116),m=n.n(O),v=n(516),j=n.n(v),I=(n(372),n(1012));n(366);var C=function(){return Object(a.useContext)(I.b)},E=n(389);const T=(e,t)=>(y()(h()(e,t))||E.a).startTime||0,_=e=>{let{startTime:t,expectedElapsedTime:n,onTimeout:a}=e;const o=n-(t?Date.now()-t:0);let r;return o>0&&(r=window.setTimeout((()=>{a()}),o)),r};var S=()=>{const{pagesMetaData:e,currentPageUrl:t}=C(),n=Object(a.useRef)(T(e,t));n.current=T(e,t);const o=Object(a.useRef)({}),r=Object(a.useCallback)(((e,t)=>{const a=s.a.getId(e),r=b()(s.a.getValues(e));return o.current={...o.current,[a]:{timeoutId:_({startTime:n.current,expectedElapsedTime:r,onTimeout:t}),onChangeCallback:t,filterValue:r}},()=>{clearTimeout(h()(o.current,`${a}.timeoutId`)),o.current=u()(o.current,a)}}),[]);j()((()=>{m()(o.current,(e=>{const{timeoutId:t,onChangeCallback:a,filterValue:o}=e;clearTimeout(t),a(),e.timeoutId=_({startTime:n.current,expectedElapsedTime:o,onTimeout:a})}))}),[t]);return{subscribe:r,getValue:Object(a.useCallback)((()=>n.current?Date.now()-n.current:0),[])}},x=n(370),A=n(668),w=n.n(A),R=n(114),N=n.n(R),L=n(429),D=n.n(L),M=n(390),P=n(378),k=n(380),U=n(413),B=n(462);const F=e=>Object(M.t)(Object(M.p)(Object(P.c)(e))),G={fetchOpenConversationCount:U.j,initPusherConnection:B.e};var W=()=>{const e=Object(a.useRef)(),t=Object(a.useRef)({}),{fetchOpenConversationCount:n,initPusherConnection:o}=Object(k.a)(G),r=Object(x.d)(F);e.current=r;const i=w()(r);Object(a.useEffect)((()=>{D()(e.current)&&n()}),[]),j()((()=>{N()(t.current,(e=>{e()}))}),[e.current]),j()((()=>{D()(i)&&r&&o()}),[r,i,o]);return{subscribe:Object(a.useCallback)(((e,n)=>{const a=s.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=u()(t.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e.current),[])}},z=n(550),V=n(489);var $=()=>{const e=Object(a.useRef)(0),t=Object(z.a)();e.current=V.a.getTimeToAvailability(t);const n=Object(a.useRef)({}),o=Object(a.useCallback)((()=>e.current),[]);return{subscribe:Object(a.useCallback)(((t,a)=>{const o=s.a.getId(t),r=h()(t,"details.timeToBusinessHours");let i,c=-1;return!D()(r)&&r>0?c=r:!D()(e.current)&&e.current>0&&(c=e.current),c>=0&&(i=window.setTimeout(a,c)),n.current={...n.current,[o]:i},()=>{clearTimeout(h()(n.current,`${o}.timeoutId`)),n.current=u()(n.current,o)}}),[]),getValue:o}};var H=()=>{const e=Object(a.useRef)(0),t=Object(z.a)();e.current=V.a.getNoOfAgentsAvailable(t);const n=Object(a.useRef)({});j()((()=>{N()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=s.a.getId(e);return n.current={...n.current,[a]:t},()=>{n.current=u()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e.current),[])}};var Y=()=>{const e=Object(a.useRef)(0),t=Object(z.a)();e.current=V.a.getNumberOfPendingCases(t);const n=Object(a.useRef)({});j()((()=>{N()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=s.a.getId(e);return n.current={...n.current,[a]:t},()=>{n.current=u()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e.current),[])}},q=n(580);var K=()=>{const{device:e}=Object(q.a)(),t=Object(a.useRef)({}),n=Object(a.useRef)(e);n.current=e,j()((()=>{N()(t.current,(e=>{e()}))}),[n.current]);const o=Object(a.useCallback)(((e,n)=>{const a=s.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=u()(t.current,a)}}),[]);return{getValue:Object(a.useCallback)((()=>n.current),[]),subscribe:o}},X=n(465);const Z="city",J="countryLong",Q="region";var ee=()=>{const e=Object(a.useRef)(0),t=Object(z.a)();e.current=V.a.getUserIPDetails(t);const n=Object(a.useRef)({});j()((()=>{N()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=s.a.getId(e);return n.current={...n.current,[a]:t},()=>{n.current=u()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>t=>{const n=s.a.getField(t),a=e.current||E.a;switch(n){case X.a.USER_IP_DETAILS_CITY:return a[Z];case X.a.USER_IP_DETAILS_COUNTRY:return a[J];case X.a.USER_IP_DETAILS_REGION:return a[Q];default:return}}),[])}},te=n(517),ne=n(10),ae=n(7);var oe=()=>{const e=Object(ne.a)(),t=Object(a.useRef)(e.userContext),n=Object(a.useRef)({}),o=Object(a.useCallback)((e=>{t.current=e,N()(n.current,(e=>{e()}))}),[]);Object(a.useEffect)((()=>(Object(ae.O)("userContext",o),()=>{Object(ae.P)("userContext",o)})),[]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=e.id;return n.current={...n.current,[a]:t},()=>{n.current=u()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e=>{var n,a;const o=e.field,r=Object(te.a)(o);return null===(n=t.current)||void 0===n||null===(a=n[r])||void 0===a?void 0:a[0]}),[])}},re=n(437);var ie=()=>{const{getValue:e,subscribe:t}=l(),{getValue:n,subscribe:o}=S(),{getValue:r,subscribe:i}=W(),{getValue:c,subscribe:d}=$(),{getValue:u,subscribe:p}=H(),{getValue:b,subscribe:f}=Y(),{getValue:h,subscribe:g}=K(),{getValue:y,subscribe:O}=ee(),{getValue:m,subscribe:v}=oe();return{getValue:Object(a.useCallback)((()=>({[X.a.CURRENT_URL]:e(),[X.a.TOTAL_TIME_SPENT]:n(),[X.a.IS_CONVERSATION_OPEN]:r(),[X.a.AVAILABLE_AGENTS]:u(),[X.a.AGENT_OUT_OF_CAPACITY]:b(),[X.a.BUSINESS_HOURS]:c(),[X.a.DEVICE_TYPE]:h(),[X.a.USER_IP_DETAILS_CITY]:y(),[X.a.USER_IP_DETAILS_COUNTRY]:y(),[X.a.USER_IP_DETAILS_REGION]:y(),[X.a.USER_AGENT]:Object(re.e)(),[X.a.PROFILE_CUSTOM_FIELD]:m()})),[e,n,r,c,u,b,h,y,m]),subscribe:Object(a.useCallback)(((e,n)=>{if(Object(te.d)(s.a.getField(e)))return v(e,n);switch(s.a.getField(e)){case X.a.TOTAL_TIME_SPENT:return o(e,n);case X.a.CURRENT_URL:return t(e,n);case X.a.IS_CONVERSATION_OPEN:return i(e,n);case X.a.AVAILABLE_AGENTS:return p(e,n);case X.a.AGENT_OUT_OF_CAPACITY:return f(e,n);case X.a.BUSINESS_HOURS:return d(e,n);case X.a.DEVICE_TYPE:return g(e,n);case X.a.USER_IP_DETAILS_CITY:case X.a.USER_IP_DETAILS_COUNTRY:case X.a.USER_IP_DETAILS_REGION:return O(e,n);default:return null}}),[t,o,i,d,p,f,g,O,v])}};t.a=(e,t)=>{const{_getStaticValueMap:n=r.a}=t||E.a,{getValue:o,subscribe:c}=ie(),s=Object(a.useCallback)((()=>({...n(),...o()})),[o,n]);return Object(i.a)(e,{...t,getValue:s,subscribe:c})}},651:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return T}));var a=n(365),o=n.n(a),r=n(1036),i=n.n(r),c=n(370),s=n(1030),l=n(740),d=n(178),u=n.n(d),p=n(379),b=n(392);const f=()=>{const e=Object(p.a)();return!!u()(b.a.getUserPreferences(e),"enableSoundNotification")};var h=n(378),g=n(428);const y=e=>Object(g.e)(Object(h.b)(e));var O=n(1035),m=n(384),v=n(404),j=n(366);const I={MESSAGE:"MESSAGE",AGENT_ASSIGNMENT:"AGENT_ASSIGNMENT",CALL:"CALL"},C=o.a.createContext({}),E={[I.MESSAGE]:"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3",[I.AGENT_ASSIGNMENT]:"https://sprcdn-assets.sprinklr.com/787/6279cf0d-c15c-4f6b-8889-d1be2f9c0264-2132784780.mp3",[I.CALL]:"https://sprcdn-assets.sprinklr.com/787/64639b8e-faae-45ad-b7c5-450884c15e2f-2786217496.mp3"},T=e=>{let{children:t}=e;const n=Object(c.d)(m.h),o=Object(v.d)(n),r=Object(O.a)({category:"LIVE_CHAT",userId:o}),[d,,u,p]=i()({src:"","data-testid":"messageAudio",preload:"none"}),[b,,h,g]=i()({src:"","data-testid":"callPickedByAgentNotifAudio",preload:"none"}),[T,,_,S]=i()({src:"",loop:!0,"data-testid":"callAudio",preload:"none"}),x=Object(l.a)(),A=(()=>{const e=Object(c.d)(y).enableSoundNotification.enabled,t=f();return e&&t})(),w=f(),R=Object(a.useCallback)((()=>{p.current&&(p.current.src=E.MESSAGE),g.current&&(g.current.src=E.AGENT_ASSIGNMENT),S.current&&(S.current.src=E.CALL)}),[]),N=Object(a.useCallback)((e=>{switch(e){case I.MESSAGE:return A?u.play():Promise.resolve();case I.AGENT_ASSIGNMENT:return h.play();case I.CALL:return _.play()}return Promise.resolve()}),[u,h,_,A]),L=Object(a.useCallback)((e=>{var t;return null===(t=N(e))||void 0===t?void 0:t.catch((t=>r.warning(`Sound Notification Failed for ${e}:  ${t}`)))}),[N]),D=Object(a.useCallback)((e=>{switch(e){case I.MESSAGE:return u.pause();case I.AGENT_ASSIGNMENT:return h.pause();case I.CALL:return _.pause()}}),[u,h,_]),M=Object(a.useMemo)((()=>({play:L,pause:D})),[L,D]);return Object(j.jsx)(C.Provider,{value:M},Object(j.jsx)(s.b,{onClick:R},w&&d,x&&b,x&&T,t))};t.c=C},657:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(807);const o=e=>{let{file:t,conversationId:n,sender:o,inReplyToChatMessageId:r}=e;return{type:a.b,payload:{file:t,conversationId:n,chatUserId:o,inReplyToChatMessageId:r}}},r=(e,t)=>{let{initialMessages:n,createCase:o,conversationContext:r,silent:i,assignToUser:c,additional:s}=e;return{type:a.c,payload:{initialMessages:n,createCase:o,assignToUser:c,silent:i,conversationContext:r,additional:s},promise:t}},i=(e,t)=>{let{conversationId:n}=e;return{type:a.a,payload:{conversationId:n},promise:t}}},669:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a,o=n(365);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function i(e,t){let{title:n,titleId:i,...c}=e;return o.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",ref:t,"aria-labelledby":i},c),n?o.createElement("title",{id:i},n):null,a||(a=o.createElement("path",{d:"M7 14a7 7 0 10-7-7 7 7 0 007 7zm2.883-4.66a.332.332 0 010 .498.443.443 0 01-.597 0l-2.34-2.29-2.34 2.34a.332.332 0 01-.499 0 .39.39 0 010-.548L6.447 7l-2.34-2.34a.333.333 0 010-.498.39.39 0 01.548 0l2.29 2.34 2.29-2.39a.387.387 0 11.549.548L7.492 7z",fillRule:"evenodd"})))}const c=o.forwardRef(i);n.p},670:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(369);const o=Object(a.g)({coBrowseControl:{id:"coBrowseControl",defaultMessage:"Co-browse control"},coBrowseInformation:{id:"coBrowseInformation",defaultMessage:"Co-browse information"},agentViewingYourScreen:{id:"agentViewingYourScreen",defaultMessage:"{agentName} is viewing your screen"},agentControllingYourScreen:{id:"agentControllingYourScreen",defaultMessage:"{agentName} is controlling your screen"},screenSharing:{id:"screenSharing",defaultMessage:"Screen Sharing"},screenInControl:{id:"screenInControl",defaultMessage:"Screen in Control"},stopScreenControl:{id:"stopScreenControl",defaultMessage:"Stop Screen Control"},stopScreenShare:{id:"stopScreenShare",defaultMessage:"Stop Screen Share"},stopCobrowsing:{id:"stopCobrowsing",defaultMessage:"Stop Co-browsing"},allowScreenControl:{id:"allowScreenControl",defaultMessage:"Allow Screen Control"},allowScreenShare:{id:"allowScreenShare",defaultMessage:"Allow Screen Share"},cobrowseRemoteControlConfirmationMessage:{id:"cobrowseRemoteControlConfirmationMessage",defaultMessage:"{agentName} is requesting permission to control your screen. Accepting this will allow them to interact with your screen."},cobrowseFullScreenControlConfirmationMessage:{id:"cobrowseFullScreenControlConfirmationMessage",defaultMessage:"{agentName} is requesting you to share your screen. Accepting this will share your screen."},accept:{id:"accept",defaultMessage:"Accept"},deny:{id:"deny",defaultMessage:"Deny"},settingUpCobrowsing:{id:"settingUpCobrowsing",defaultMessage:"Setting up Co-browsing with {agentName}"},cobrowsingFailed:{id:"cobrowsingFailed",defaultMessage:"Co-browsing Failed"},settingUpWentWrong:{id:"settingUpWentWrong",defaultMessage:"Sorry, something went wrong while setting up. Please try again in sometime."}})},671:function(e,t,n){"use strict";n.d(t,"p",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"l",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return O})),n.d(t,"i",(function(){return m}));var a=n(728);function o(){return{type:a.m,payload:{}}}function r(e){let{messageId:t,conversationId:n,agentId:o}=e;return{type:a.i,payload:{messageId:t,conversationId:n,agentId:o}}}function i(){return{type:a.n,payload:{}}}function c(e){return{type:a.g,payload:{messageId:e.messageId,endedByAgent:e.endedByAgent,markCompletedSession:e.markCompletedSession}}}function s(e){return{type:a.h,payload:e}}function l(e){return{type:a.c,payload:e}}function d(e){return{type:a.f,payload:e}}function u(e){return{type:a.a,payload:e}}function p(e){return{type:a.d,payload:e}}function b(e){return{type:a.b,payload:e}}function f(e){return{type:a.e,payload:e}}function h(e){return{type:a.o,payload:e}}function g(e){return{type:a.p,payload:e}}function y(e){return{type:a.k,payload:e}}function O(e){return{type:a.l,payload:e}}const m=e=>({type:a.j,payload:e})},709:function(e,t,n){"use strict";var a=n(372),o=n(365),r=n(486),i=n.n(r),c=n(422),s=n(178),l=n.n(s),d=n(377),u=n(1015),p=n(367),b=n(368);const f=Object(p.a)("div",{target:"e1hxxqun0"})("border-radius:20px;background-color:",(e=>!e.svgLoaded&&Object(b.b)("azure")(e)),";");var h=n(366);const g=e=>{let{name:t,className:n,theme:r,window:c,css:s,onLoad:d,...p}=e;const b=Object(o.useMemo)((()=>`${t}_${i()()}`),[t]),[g,y]=Object(o.useState)(!1);return Object(o.useEffect)((()=>{g&&d&&d()}),[g,d]),Object(o.useEffect)((()=>{const e=l()(r,["icons",t]);!async function(e,t,n,a){const o=e.document.getElementById(t),r=(await Object(u.a)(n)).documentElement.cloneNode(!0);r.setAttribute("class","spa full-height full-width"),r.setAttribute("style","top:0px; left:0px"),o&&o.appendChild(r),a()}(c,b,e,(()=>{y(!0)}))}),[b,t]),Object(h.jsx)(f,Object(a.a)({key:b,className:`spr ${n}`,css:s,id:b,svgLoaded:g,"data-testid":"Custom header icon"},p))},y=e=>{const{name:t,className:n,theme:a,css:r,onClick:i,onKeyPress:c,alt:s,onLoad:d}=e,u=l()(a,`icons.${t}`);if(Object(o.useEffect)((()=>{!u&&d&&d()}),[u,d]),u)return Object(h.jsx)(g,e);const p=s;return Object(h.jsx)(p,{className:n,css:r,onClick:i,onKeyPress:c,"aria-hidden":e["aria-hidden"],focusable:!!e.focusable})};t.a=Object(o.memo)(Object(d.c)((e=>Object(h.jsx)(c.FrameContextConsumer,null,(t=>{let{window:n}=t;return Object(h.jsx)(y,Object(a.a)({},e,{window:n}))})))))},715:function(e,t){e.exports=function(e){return null===e}},716:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=new(n(804).a)},717:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return h}));var a=n(527),o=n.n(a),r=n(116),i=n.n(r),c=n(75),s=n.n(c),l=n(408),d=n.n(l),u=n(117);const p={};function b(e,t){const{topic:n,subscriber:a}=t;if(d()(n)&&s()(a)){const e=p[n];p[n]=e?[...e,a]:[a]}}function f(e,t){const{topic:n,subscriber:a}=t;if(d()(n)&&s()(a)){const e=p[n],t=o()(e,(e=>e===a));-1!==t&&(e.splice(t,1),p[n]=e)}}function h(e){let{topic:t,payload:n}=e;const a=p[t];i()(a,((e,t)=>{try{e(n)}catch(a){Object(u.a)(a)}}))}},718:function(e,t,n){var a=n(79),o=n(223),r=n(182),i=n(980),c=n(1356),s=n(183),l=n(76);e.exports=function(e,t,n){if((e=l(e))&&(n||void 0===t))return o(e);if(!e||!(t=a(t)))return e;var d=s(e),u=s(t),p=c(d,u),b=i(d,u)+1;return r(d,p,b).join("")}},729:function(e,t,n){var a=n(181),o=n(815),r=n(724),i=n(660),c=a((function(e,t){var n=i(t,r(c));return o(e,32,void 0,t,n)}));c.placeholder={},e.exports=c},731:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var a=n(365),o=n.n(a),r=n(370),i=n(526),c=n(655),s=n(442),l=n(7),d=n(366);const u="sessionExpiryModal",p=o.a.createContext(null),b=Object(a.memo)((e=>{const[t,n]=Object(a.useState)(null),[o,b]=Object(i.a)(u),f=Object(r.c)(),h=Object(l.L)();return Object(a.useEffect)((()=>{const e=c.d.on((e=>{switch(e.type){case c.c:n(e.payload.targetDate);break;case c.b:n(null)}}));return()=>e()}),[h]),Object(a.useEffect)((()=>{if(t)return h&&f({type:s.d}),void b(!0);o&&b(!1)}),[t]),Object(d.jsx)(p.Provider,{value:t},e.children)}));t.c=p},733:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={NEW:"NEW",EXISTING:"EXISTING",LAST:"LAST"}},734:function(e,t,n){"use strict";var a=function(){};e.exports=a},735:function(e,t,n){"use strict";var a=n(365),o=n(1030);t.a=function(){const e=Object(a.useContext)(o.a),t=Object(a.useRef)(null);return Object(a.useEffect)((()=>()=>{t.current&&e.removePublisher(t.current)}),[]),Object(a.useCallback)((n=>{t.current=n.current,t.current&&e.addPublisher(t.current)}),[e])}},738:function(e,t,n){"use strict";var a=n(365),o=n(520);t.a=(e,t)=>{const[n,r]=Object(a.useState)(),i=Object(o.a)(e,t);Object(a.useEffect)((()=>{const a=[];if(n)if(e.ResizeObserver){const o=new e.ResizeObserver(t);o.observe(n),a.push((()=>o.disconnect()))}else i(n);return()=>{a.forEach((e=>e()))}}),[n]);return Object(a.useCallback)((e=>{e&&r(e)}),[])}},739:function(e,t,n){"use strict";var a=n(365),o=n(651);n.d(t,"a",(function(){return o.b})),t.b=function(){return Object(a.useContext)(o.c)}},740:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(397),o=n(411);const r=()=>{const e=Object(a.a)();return!!e&&!!o.a.getCallAccountId(e)}},786:function(e,t,n){"use strict";n.d(t,"a",(function(){return ye})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return R})),n.d(t,"e",(function(){return _}));var a=n(372),o=n(365),r=n.n(o),i=n(366),c=n(370),s=n(377),l=n(369),d=n(668),u=n.n(d),p=n(422),b=n(74),f=n.n(b),h=n(367),g=n(178),y=n.n(g),O=n(525),m=n(709),v=n(368),j=n(405),I=n(552);const C={PULSE:e=>{const t=Object(v.f)("trigger.borderColor")({theme:e}),n=i.keyframes`0%{box-shadow:0 0 0 0 ${Object(j.j)(t,.6)}}100%{box-shadow:0 0 0 10px ${Object(j.j)(t,0)}}`;return Object(i.css)("animation:",n," 2s ease infinite;")}},E=e=>{const{triggerAnimationInfo:t,theme:n}=e,a=y()(t,"effect"),o=C[a];return o?o(n):""},T=e=>Object(v.f)("trigger.yPadding",20)({theme:e}),_=e=>Object(v.f)("trigger.xPadding",20)({theme:e}),S=function(){let{leftOffset:e=0,rightOffset:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=>{let{theme:a}=n;const o=Object(v.f)("trigger.align","right")({theme:a});return`${o}: ${_(a)+(o===I.f.LEFT?e:t)}px`}},x=e=>{const t=Object(v.f)("trigger.size")(e);return Math.min(Object(v.f)("trigger.borderRadius",t/2)(e),t/2)*(1-2**-.5)},A=e=>.13*Object(v.f)("trigger.overlayIconButton.button.height")(e),w=e=>T(e.theme)+Object(v.f)("trigger.size")(e)-.5*Object(v.f)("trigger.overlayIconButton.button.height")(e)-(x(e)-A(e)),R=e=>-.5*Object(v.f)("trigger.overlayIconButton.button.height")(e)+(x(e)-A(e)),N=Object(h.a)("div",{target:"e1hh16yv0"})("width:",(e=>Object(v.f)("trigger.overlayIconButton.button.width")(e)),"px;height:",(e=>Object(v.f)("trigger.overlayIconButton.button.height")(e)),"px;border-radius:",(e=>Object(v.a)("trigger.overlayIconButton.borderRadius",Object(v.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";background-color:",Object(v.f)("trigger.removeIcon.backgroundColor"),";bottom:",(e=>w(e)),"px;",(e=>S({leftOffset:R(e),rightOffset:R(e)})(e)),";position:fixed;z-index:",(e=>Object(v.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(v.f)("frame.translateZ")(e)),"px);cursor:pointer;display:flex;align-items:center;justify-content:center;visibility:hidden;"),L=Object(h.a)("div",{target:"e1hh16yv1"})({name:"l1tuuh",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center;"}),D=Object(h.a)(m.a,{target:"e1hh16yv2"})("width:",(e=>Object(v.f)("trigger.overlayIconButton.icon.width")(e)),"px;height:",(e=>Object(v.f)("trigger.overlayIconButton.icon.height")(e)),"px;fill:",Object(v.f)("trigger.removeIcon.fill"),";"),M=`\n  ${N} {\n    visibility: visible;\n  }\n  & ~ .notification-container {\n    visibility: hidden;\n  }\n`,P=Object(h.a)("div",{target:"e1hh16yv3"})((e=>e.enableTriggerHideIcon&&`\n    &:hover {\n      ${e.applyRemoveIconStyles&&M};\n    }\n  `),";"),k=Object(h.a)("div",{target:"e1hh16yv4"})("background:transparent;overflow:hidden;box-shadow:",Object(v.f)("trigger.boxShadow"),";border-radius:",(e=>Object(v.a)("trigger.borderRadius",Object(v.f)("trigger.size")(e)/2+"px}")(e)),";bottom:",(e=>T(e.theme)),"px;height:",Object(v.f)("trigger.size"),"px;position:fixed;",S(),";transition:",(e=>{let{enableTriggerWidthTransition:t}=e;return t?"width 0.08s":"none"}),";visibility:",(e=>{let{showTrigger:t}=e;return t?"visible":"hidden"}),";width:",(e=>{let{showLabel:t,labelWidth:n,showTrigger:a,theme:o}=e;return t?a?`${n+26+8+48}px`:"100%":`${Object(v.f)("trigger.size")({theme:o})}px`}),";z-index:",(e=>Object(v.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(v.f)("frame.translateZ")(e)),"px);"),U=Object(h.a)(O.a,{target:"e1hh16yv5"})("border-radius:",(e=>Object(v.a)("trigger.borderRadius",Object(v.f)("trigger.size")(e)/2+"px}")(e)),";border:0 none;height:100%;width:100%;"),B=(e,t)=>{const n=!((Object(v.f)("trigger.backgroundUrls")({theme:e})||Object(v.f)("trigger.icon.url")({theme:e}))&&t.isMinimized);return Object(i.css)("body{",n&&`background-color: ${Object(v.f)("trigger.backgroundColor")({theme:e})}`,";}")};var F=n(947),G=n(948),W=n(379),z=n(735),V=n(380),$=n(394),H=n(401),Y=n(373),q=n(397),K=n(647),X=n(411),Z=n(392);var J=n(385),Q=n(117),ee=n(378),te=n(428);const ne=e=>Object(te.g)(Object(ee.b)(e));var ae=n(487),oe=n(384),re=n(404),ie=n(442),ce=n(463);const se=e=>Object(ee.b)(e).meta.isTriggerManuallyHidden,le=()=>{(()=>{const e=Object(V.a)(J.h),t=Object(q.a)(),n=X.a.getNoDisplayConfigFilter(t),{hasPassed:a}=Object(K.a)(n,{defaultValue:!1,logOnSuccess:!0}),r=Object(c.d)(ne);Object(o.useEffect)((()=>{!f()(n)&&r&&(a&&Object(Q.a)("Sprinklr Chat hidden by display criteria"),e({value:a}))}),[n,r,a])})();const e=Object(V.a)(J.c),t=Object(W.a)().trigger.hideTimeout,n=Object(c.c)(),a=Object(o.useRef)(null),r=Object(o.useRef)(!t),i=Object(c.d)(se),s=Object(c.d)(oe.h),l=Object(re.d)(s),d=Object(H.a)();r.current||(r.current=!0,Object(ae.c)(l).then((e=>{e&&Date.now()<=e?a.current=window.setTimeout((()=>{n({type:ie.m,payload:{}})}),e-Date.now()):n({type:ie.m,payload:{}})})));const u=Object(o.useCallback)((async()=>{t&&(await Object(ae.l)(l,Date.now()+t),a.current=window.setTimeout((()=>{n({type:ie.m,payload:{}})}),t)),d({action:ce.a.CHAT_TRIGGER_REMOVED}),e()}),[t,e,n,l]);return Object(o.useEffect)((()=>{i||(Object(ae.i)(l),a.current&&(window.clearTimeout(a.current),a.current=null))}),[i]),u};var de=n(402),ue=n(432),pe=n(375);const be=e=>Object(te.g)(Object(ee.b)(e)),fe=e=>Object(te.f)(Object(ee.b)(e)),he=e=>Object(ee.d)(e),ge=e=>e?Math.ceil(e.clientWidth):0;var ye=r.a.memo(Object(l.h)((e=>{const t=Object(o.useRef)(null),n=Object(W.a)(),r=Object(s.b)(),l=Object(Y.a)(),d=Object(o.useRef)(),b=Object(o.useRef)(),h=Object($.a)()(Z.a.getTriggerConfig(n),"label"),g=le(),[O,m]=Object(o.useState)(!0),[j,I]=Object(o.useState)(h),[C,T]=Object(o.useState)(!1),[_,S]=Object(o.useState)(!1),[x,A]=Object(o.useState)(!1),[w,R]=Object(o.useState)(0),M=Object(c.d)(ee.b),Q=Object(c.d)(be),te=Object(c.d)(fe),ne=Object(c.d)(he),ae=Object(V.a)(J.g),oe=Object(H.a)(),re=Z.a.getAnimationInfoOfTrigger(n),{showChatTriggerAnimation:ie}=(()=>{const[e,t]=Object(o.useState)(!1),n=Object(q.a)(),a=X.a.getTriggerAnimationConfigFilter(n),{hasPassed:r}=Object(K.a)(a,{defaultValue:!1,logOnSuccess:!0}),i=Z.a.getAnimationInfoOfTrigger(X.a.getCustomizationConfig(n)),c=y()(i,"effect");return Object(o.useEffect)((()=>{!f()(a)&&c&&t(r)}),[a,c,r]),{showChatTriggerAnimation:e}})(),se=u()(te),ye=u()(x),Oe=u()(j);Object(o.useEffect)((()=>{(se||!ye)&&!(te||!x)&&oe({action:ce.a.TRIGGER_VISIBLE})}),[x,ye,te,se,oe]),Object(o.useEffect)((()=>(x&&!l&&(d.current=window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{S(!0)}))}))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[x,l]),Object(o.useEffect)((()=>{const e=l?"":h;Oe!==e&&I(e)}),[l,h,Oe]);const me=e.intl.formatMessage,ve=Z.a.canTriggerBeManuallyRemoved(n)&&Q&&f()(ne),je=Object(o.useMemo)((()=>Object(v.f)("trigger.icon.type")({theme:r})),[r]),Ie=Object(o.useMemo)((()=>Object(v.f)("trigger.closeIcon.type")({theme:r})),[r]),Ce=Object(z.a)(),Ee=Object(o.useCallback)((()=>{ae(!Q)}),[Q,ae]),Te=Object(o.useCallback)((()=>{C&&(A(!0),R(ge(b.current))),Ce(t)}),[C,Ce]),_e=Object(o.useCallback)((()=>{R(ge(b.current))}),[]),Se=Object(o.useCallback)((e=>{T(e),A(e),R(ge(b.current))}),[]),xe=Object(o.useCallback)((e=>{m(e)}),[]);return te||l&&!Q?null:Object(i.jsx)(P,{enableTriggerHideIcon:ve,applyRemoveIconStyles:O,"data-testid":"triggerContainer"},Object(i.jsx)(k,{showTrigger:x,showLabel:Q&&!!j,css:ie?E({triggerAnimationInfo:re,theme:r}):"",labelWidth:w,enableTriggerWidthTransition:_,theme:r,className:"spr-chat__trigger-box spr-live-chat-frame"},Object(i.jsx)(F.a,null,(e=>{let{ChatTriggerPage:n}=e;return Object(i.jsx)(U,{"aria-label":me(de.a.liveChat),name:"spr-chat__trigger-frame",contentDidMount:Te,shouldHideLocaleLoader:!0,title:me(de.a.liveChat)},Object(i.jsx)(i.Global,{styles:B(r,{isMinimized:Q})}),Object(i.jsx)("div",{className:"full-height full-width",ref:t},Object(i.jsx)(p.FrameContextConsumer,null,(e=>{let{window:t}=e;return Object(i.jsx)(G.a,{window:t,onResize:_e,resizeRefs:b},(e=>Object(i.jsx)(n,Object(a.a)({},M,{triggerIconName:je,closeIconName:Ie,label:j,innerLabelRef:e,onClick:Ee,onLoad:Se,toggleRemoveIconVisibility:xe}))))}))))}))),ve&&Object(i.jsx)(N,{onClick:g,"data-testid":"triggerCloseIconContainer"},Object(i.jsx)(L,null,Object(i.jsx)(D,{alt:ue.a,name:pe.a.CLOSE}))))})))},791:function(e,t,n){"use strict";var a=n(367),o=(n(365),n(368)),r=n(402),i=n(372),c=n(369),s=n(366);var l=e=>Object(s.jsx)("div",{className:"sr-only"},Object(s.jsx)(c.b,Object(i.a)({},e.message,{values:{count:`${e.unreadCount}`}})));const d=Object(a.a)("div",{target:"e1bo82op0"})("background:",Object(o.f)("notification.backgroundColor"),";color:",Object(o.f)("notification.color"),";font-size:",Object(o.e)("xs"),";font-weight:600;box-shadow:0px 2px 4px 0px rgba(0,0,0,0.2);border-radius:50%;");t.a=function(e){return Object(s.jsx)(d,{"aria-live":"polite",className:`center-x-y ${e.className}`},Object(s.jsx)(l,{message:1===e.count?r.a.newNotification:r.a.newNotifications}),(t=e.count)>=10?"9+":t);var t}},806:function(e,t,n){var a=n(15).isFinite;e.exports=function(e){return"number"==typeof e&&a(e)}},807:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const a="@conversation/NEW_CONVERSATION_OPEN",o="@conversation/EXISTING_CONVERSATION_OPEN",r="@conversation/MEDIA_SEND"},819:function(e,t,n){var a=n(132),o=n(125),r=n(24),i=n(408),c=n(581);e.exports=function(e){if(null==e)return 0;if(r(e))return i(e)?c(e):e.length;var t=o(e);return"[object Map]"==t||"[object Set]"==t?e.size:a(e).length}},820:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(365);const o=e=>{const t=Object(a.useRef)(e);return t.current=e,t}},821:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(7);function o(){return Object(a.w)()}},824:function(e,t,n){"use strict";var a=n(365),o=n(370),r=n(406),i=n(476),c=n(384),s=n(404),l=n(415),d=n(825);const u=(new r.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build(),p="AUDIO_CALL",b="VIDEO_CALL";t.a=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:r}=e;const[l]=Object(i.a)(u,{ignoreResults:!0},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),f=Object(a.useCallback)((e=>{const t=Date.now();return e.forEach((e=>{e.offsetTime=t-e.logTime})),l(e)}),[l]),h=Object(o.d)(c.h),g=Object(s.d)(h),y=r?p:b,O=Object(a.useCallback)((e=>{const{message:a}=e;return{videoConversationId:t,logMessage:`USER: ${a}`,loggerSnUserId:g,category:y,loggerSnType:"SPRINKLR_LIVE_CHAT",logTime:Date.now(),additionalDetails:{conversationId:n}}}),[n,t,g,y]),m=Object(a.useMemo)((()=>new d.a(f,{batch:!0,adapter:O,skip:!t})),[f,O,t]);return Object(a.useEffect)((()=>()=>{m.cleanup()}),[]),m}},825:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(117),o=n(113);const r="debug",i="info",c="warning",s="error";class l{constructor(e,t){let{batch:n,skip:l,adapter:d}=t;this.batch=void 0,this.logFn=void 0,this.logQueue=void 0,this.batchTimeoutId=void 0,this.skip=void 0,this.adapter=void 0,this.batchLogs=()=>{this.batchTimeoutId&&clearTimeout(this.batchTimeoutId),this.batchTimeoutId=window.setTimeout((()=>{this.logQueue.length&&(this.logFn(this.logQueue),this.logQueue=[]),this.batchLogs()}),5e3)},this.log=e=>{if(this.skip)return;(e=>{const{level:t,message:n,category:l}=e,d=`timeStamp: ${Date.now()} category: ${l} message: ${n}`;switch(t){case r:Object(a.a)(d);break;case s:Object(o.b)(d);break;case i:console.info(d);break;case c:console.warn(d)}})(e);const t=this.adapter(e);return this.batch?(this.batchTimeoutId||this.batchLogs(),this.logQueue.push(t)):this.logFn(t)},this.debug=e=>{this.log({...e,level:r})},this.info=e=>{this.log({...e,level:i})},this.warning=e=>{this.log({...e,level:c})},this.error=e=>{this.log({...e,level:s})},this.cleanup=()=>{this.batchTimeoutId&&(clearTimeout(this.batchTimeoutId),this.logQueue.length&&this.logFn(this.logQueue))},this.logFn=e,this.logQueue=[],this.batch=!!n,this.skip=l,this.adapter=d,this.batchTimeoutId=null}}},826:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(382);const o=Object(a.a)((()=>n.e(16).then(n.bind(null,1798))))},827:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(365),o=n.n(a),r=n(396),i=n.n(r),c=n(1029),s=n(366);const l={debug:i.a,info:i.a,error:i.a,warning:i.a},d=o.a.createContext(l),u=e=>{let{videoConversationId:t,conversationId:n,children:a}=e;const o=Object(c.a)({videoConversationId:t,conversationId:n});return Object(s.jsx)(d.Provider,{value:o},a)}},828:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={BUNDLE_DOWNLOAD_FAILED:"BUNDLE_DOWNLOAD_FAILED",SESSION_CREATION_FAILED:"SESSION_CREATION_FAILED",OTP_SEND_FAILED:"OTP_SEND_FAILED",POSTBACK_SEND_FAILED:"POSTBACK_SEND_FAILED",RESUME_SESSION_FAILED:"RESUME_SESSION_FAILED"}},829:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a,o=n(365);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function i(e,t){let{title:n,titleId:i,...c}=e;return o.createElement("svg",r({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 12 14",enableBackground:"new 0 0 12 14",xmlSpace:"preserve",ref:t,"aria-labelledby":i},c),n?o.createElement("title",{id:i},n):null,a||(a=o.createElement("g",{id:"engagement-score"},o.createElement("g",{id:"Smart-asset-recommendation_01-Copy-34",transform:"translate(-411.000000, -423.000000)"},o.createElement("g",{id:"sid-attachment",transform:"translate(411.000000, 423.000000)"},o.createElement("path",{id:"Path",d:"M4.198631,14c-0.795512,0-1.522396-0.264849-1.975732-0.533564 c-0.935669-0.604609-1.488565-1.349375-1.661586-2.226082c-0.269682-1.364355,0.514231-2.51606,0.548062-2.56439 L6.67506,0.873082c1.065194-1.312643,2.615621-0.865591,3.290308-0.449953 c1.521429,1.023147,1.054561,2.670234,0.598326,3.400017L6.271988,10.15873 c-0.629257,1.008649-1.688651,0.968534-2.244446,0.690638c-0.036731-0.018849-0.072495-0.04108-0.105359-0.067179 c-0.939536-0.751049-0.665021-1.85394-0.25035-2.41167l3.49426-5.083352C7.351682,3.016519,7.721889,2.94789,7.99157,3.133961 c0.270648,0.186071,0.339277,0.555795,0.152723,0.82596L4.637467,9.060672 C4.509876,9.241426,4.356186,9.554121,4.612336,9.807854C4.772792,9.864884,5.048273,9.876,5.27639,9.511591l4.291706-6.33655 c0.103426-0.170605,0.640856-1.156538-0.245517-1.753897c-0.086994-0.050747-1.072927-0.605092-1.70315,0.171571 l-5.53862,7.766636l0,0c0,0-0.52873,0.794545-0.352809,1.660136c0.111159,0.545162,0.488133,1.028462,1.12029,1.437335 c0.171088,0.09956,1.90517,1.040545,3.079589-0.574644l4.485993-6.424994c0.18752-0.269198,0.557729-0.335411,0.827411-0.14644 c0.268715,0.187521,0.334443,0.557728,0.146922,0.826927l-4.492759,6.433692C6.1096,13.653474,5.108202,14,4.198631,14z"}))))))}const c=o.forwardRef(i);n.p},830:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));const a={NEW_CONVERSATION:"NEW_CONVERSATION",CLOSE:"CLOSE",URL:"OPEN_URL"},o={ENGAGED:"ENGAGED",CLOSED:"CLOSED",TRIGGERED:"TRIGGERED"}},831:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(365),o=n.n(a),r=n(366);const i=o.a.createContext("MOBILE");t.b=e=>Object(r.jsx)(i.Provider,{value:e.device},e.children)},832:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(409);const o=(e,t)=>{const n={conversationId:t};return e?{type:a.bb,payload:n}:{type:a.cb,payload:n}}},835:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return g}));var a=n(74),o=n.n(a),r=n(178),i=n.n(r),c=n(665),s=n(452),l=n(1039),d=n(414);const u=e=>({[c.a.MIC]:!1,[c.a.CAMERA]:!1,[c.a.DRAG]:!e,[c.a.FULL_SCREEN]:e}),p=e=>e===s.d.WAITING,b=e=>e===s.f.WAITING?s.f.WAITING:s.f.SETUP,f=(e,t)=>((e,t)=>{switch(e.state){case l.a.CALL_INITIATED:case l.a.CALL_STARTING:return t.WAITING;case l.a.CALL_OFFER_ACCEPTED:return t.SETUP;default:return t.JOINED}})(e,t?s.d:s.f),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?d.a.AUDIO_CALL_JOIN_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_CTA_CLICKED:e?d.a.AUDIO_CALL_JOIN_BACK_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_BACK_CTA_CLICKED},g=e=>{let{callDetails:t,rejoiningVideoConversationId:n}=e;const a=i()(t,"state"),r=a===s.d.FAILED||a===s.f.FAILED;return!o()(t)&&(t.videoConversationId!==n||!r||!((c=t.reason)===s.c.REJOINING_FAILED_DUE_TO_OTHER_REASONS||c===s.e.REJOINING_FAILED_DUE_TO_OTHER_REASONS));var c}},946:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n(365),o=n(530);function r(e){return e.width<=430||e.width<=930&&e.height<=430}t.a=function(){const e=Object(o.a)();return Object(a.useMemo)((()=>r(e)),[e])}},947:function(e,t,n){"use strict";var a=n(365),o=n(367);const r=Object(o.a)("div",{target:"e1ippspd0"})({name:"1enwibq",styles:"position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;"});var i=n(393),c=n(821),s=n(7),l=n(366);t.a=e=>{const t=Object(c.a)(),[o,d]=Object(a.useState)();Object(a.useEffect)((()=>{let e=!0;n(1021)(`./${t.toLowerCase()}/pages`).then((t=>(e&&d(t),()=>{e=!1})))}),[]);let u=null;return Object(s.K)()&&!o&&(u=Object(l.jsx)(i.c,{className:"flex-row-container center-x-y full-height"})),o&&(u=e.children(o)),Object(l.jsx)(r,{className:e.className},u)}},948:function(e,t,n){"use strict";var a=n(365),o=n.n(a),r=n(460),i=n.n(r),c=n(738),s=n(447),l=n(366);var d=e=>{const t=Object(c.a)(e.window,e.onResize),n=Object(a.useMemo)((()=>[...i()(e.resizeRefs||[]),t]),[t,e.resizeRefs]),r=Object(s.a)(...n);return Object(l.jsx)(o.a.Fragment,null,e.children(r))};t.a=d},949:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return m}));var a=n(116),o=n.n(a),r=n(1444),i=n.n(r),c=n(18),s=n.n(c),l=n(74),d=n.n(l),u=n(514),p=n.n(u);function b(e){const t=function(e){let{url:t,data:n,method:a="GET",contentType:r}=e;const c=p()(),l=document.createElement("form"),{body:u}=document;if(l.setAttribute("id",`spr-chat-download-form-${c}`),l.setAttribute("target","_top"),l.setAttribute("action",t),l.setAttribute("method",a),l.style.display="none",r&&(l.enctype=r),!d()(n)){let e="";o()(n,((t,n)=>{e+=`<input type="hidden" id="${n}" name="${n}" value=${s()(t)?`'${i()(JSON.stringify(t))}'`:`"${i()(t)}"`} />`})),l.innerHTML=e}return u.appendChild(l),l}(e);t.submit(),setTimeout((()=>{var e;(e=t)&&e.parentNode&&e.parentNode.removeChild(e)}),3e4)}var f=n(10),h=n(487),g=n(426),y=n(437);async function O(e){const t=await Object(h.a)(g.a.getAppId(Object(f.a)()));b({url:"https://prod-video-chat-chat.sprinklr.com/api/livechat/conversation/downloadChatTranscript",data:{timeZone:Object(y.f)(),"x-chat-token":t,conversationId:e}})}async function m(e){const t=await Object(h.a)(g.a.getAppId(Object(f.a)()));b({url:"https://prod-video-chat-chat.sprinklr.com/api/livechat/conversation/downloadAttachment",data:{timeZone:Object(y.f)(),"x-chat-token":t,...e}})}},979:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={ALL_SYSTEMS_OPERATIONAL:"ALL_SYSTEMS_OPERATIONAL",SERVICE_UNDER_MAINTENANCE:"SERVICE_UNDER_MAINTENANCE",PARTIALLY_DEGRADED_SERVICE:"PARTIALLY_DEGRADED_SERVICE",DEGRADED_SYSTEM_SERVICE:"DEGRADED_SYSTEM_SERVICE",MINOR_SYSTEM_OUTAGE:"MINOR_SYSTEM_OUTAGE",PARTIAL_SYSTEM_OUTAGE:"PARTIAL_SYSTEM_OUTAGE",MAJOR_SYSTEM_OUTAGE:"MAJOR_SYSTEM_OUTAGE"}},980:function(e,t,n){var a=n(658);e.exports=function(e,t){for(var n=e.length;n--&&a(t,e[n],0)>-1;);return n}},982:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(372);var a=n(365),o=n.n(a),r=n(373),i=n(437),c=n(40),s=n(610),l=n(366);const d=o.a.createContext({});t.b=e=>{const[t,n]=Object(a.useState)(0),o=Object(r.a)(),{subscribe:u}=Object(s.a)();Object(a.useEffect)((()=>{const e=u("page-context-change-subscriber",(()=>{n((e=>e+1))}));return()=>{e()}}),[]);const p=Object(a.useMemo)((()=>({...Object(i.a)(),device:o?c.b:c.a})),[t,o]);return Object(l.jsx)(d.Provider,{value:p},e.children)}}}]);